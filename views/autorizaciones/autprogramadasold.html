<div id="gestionaut">
  <div class="row">
    <div class="col s12 m12 l12 magazine margin widgets-tabs">
      <div class="card-panel widgets-tabs col l12" style="margin-top: 0px; padding-bottom: 15px;padding-top: 15px;">
        <ul tabs reload="allTabContentLoaded" style="box-shadow: 0px 2px 2px #f3f3f3;">
          <li class="tab col s3" style="cursor: pointer;" ng-class="activeIcolor">
            <a ng-click="setTab(1)" ng-class="activeI" style="border-top: 0;">Solicitud
              Programada</a></li>
          <li class="tab col s3" style="cursor: pointer;" ng-class="activeIIcolor">
            <a ng-click="setTab(2)" ng-class="activeII" style="border-top: 0;">Consulta de Productos</a></li>
          <li class="tab col s3" style="cursor: pointer;" ng-class="activeIIIcolor">
            <a ng-click="setTab(3)" ng-class="activeIII" style="border-top: 0;">Consulta
              de Autorizaciones</a></li>
        </ul>
        <div ng-show="tabI" class="col no-padding" style="width: 100%;">
          <div ng-hide="inactiveseccion1tab1">
            <div class="col s3">
              <i class="material-icons left" style="margin-top: 14px;">more_vert</i>
              <h5>Consultar Afiliado</h5>
            </div>
            <div class="col s12" style="padding: 20px;">
              <form ng-submit="buscarAfiliado('1',solicitudpro.tipodocumento,solicitudpro.documento)">
                <div class="col s12">
                  <div class="col s4 offset-s3">
                    <div class="input-field col m12 s12">
                      <label style=" margin-top: -20px;">Tipo Documento:</label>
                      <select class="select-chosen-eps" ng-model="solicitudpro.tipodocumento" required>
                        <option value="">SELECCIONAR</option>
                        <option value="{{x.CODIGO}}"  ng-repeat="x in Tipos_Documentos">{{x.NOMBRE}}</option>
                      </select>
                    </div>
                  </div>
                  <div class="col s4">
                    <div class="input-field col m12 s12">
                      <input id="with_icon" type="text" ng-model="solicitudpro.documento" class="validate" required>
                      <label for="with_icon" class="">Documento</label>
                    </div>
                  </div>
                  <div class="col s1">
                    <div class="input-field col m12 s12">
                      <button class="btn white-text" type="submit"
                        style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i style="position: relative;"
                          class="material-icons prefix">search</i></button>
                    </div>
                  </div>
                </div>
              </form>
            </div>          
          </div>
          <div ng-hide="inactiveseccion2tab1">
            <div class="col s5">
              <i class="material-icons left" style="margin-top: 14px;">more_vert</i>
              <h5>Información del Afiliado</h5>
            </div>
            <div class="col s12">
              <table class="responsive-table table-bordered" style="height:100px;">
                <thead>
                  <tr>
                    <th data-field="Nombre" class="center-align">NOMBRE</th>
                    <th data-field="Nombre" class="center-align">IDENTIFICACIÓN</th>
                    <th data-field="Fecha de Nacimiento" class="center-align">NACIMIENTO</th>
                    <th data-field="Ubicacion" class="center-align">UBICACION</th>
                    <th data-field="GENERO" class="center-align">GENERO</th>
                    <th data-field="Regimen" class="center-align">REGIMEN</th>
                    <th data-field="Edad" class="center-align">EDAD</th>
                    <th colspan="{{afirownumII}}" data-field="Edad" class="center-align">AFILIADO</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="center-align">{{infoafiliadoautpro.NombreCompleto}}</td>
                    <td class="center-align">{{solicitudpro.tipodocumento}} - {{solicitudpro.documento}}</td>
                    <td class="center-align">{{infoafiliadoautpro.FechaNacimiento}}</td>
                    <td class="center-align">{{infoafiliadoautpro.Municipio}}</td>
                    <td class="center-align">{{infoafiliadoautpro.Sexo}}</td>
                    <td class="center-align">{{infoafiliadoautpro.Regimen}}</td>
                    <td class="center-align">{{edadautpro}} {{cantidadanosautpro}}</td>
                    <td class="center-align"><span class="status green">{{infoafiliadoautpro.Estado}}</span></td>
                    <td ng-show="infoafiliadoautpro.SINIESTRO == 'true'" class="center-align"><span
                        class="status orange">ALTO
                        COSTO</span></td>
                    <td ng-show="infoafiliadoautpro.TUTELA == 'true'" class="center-align"><span
                        class="status red">TUTELA</span></td>
                    <td ng-show="infoafiliadoautpro.PORTABILIDAD=='S'">
                      <span class="status light-blue">PORTABILIDAD</span>
                    </td>
                    <td ng-show="infoafiliadoautpro.ERROR_50=='true'" class="center-align">
                      <span class="status black" style="color:#fff">ERROR_50</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div ng-hide="inactiveseccion2tab1">
            <div class="col s12" style="margin-top: 12px;">
              <ul class="left mailbox-custom-search list-inline"
                style="width: 100%;display: flex;justify-content: space-between;align-items: center;">
                <li>
                </li>
                <li style="width: 60%;">
                  <div class="steper" style="padding-bottom: 0px;">
                    <button id="btn-solicitudtabI"
                      style="width: 100%; margin-bottom: 10px; height: 44px; margin-right: 10px;"
                      class="btn white-text grey" type="button">Solicitud</button>
                    <button id="btn-productotabI"
                      style="width: 100%; margin-bottom: 10px; height: 44px; margin-left: 6px; margin-right: 5px;"
                      class="btn white-text grey" type="button">Producto</button>
                    <button id="btn-finalizartabI"
                      style="width: 100%; margin-bottom: 10px; height: 44px; margin-left: 10px;"
                      class="btn white-text grey" type="button">Finalizar</button>
                  </div>
                </li>
              </ul>
            </div>
            <div class="col s12">
              <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4"
                  style="padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;">
                  <div class="col s11">
                    <h5 class="white-text">{{titletabI}}</h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;" ng-click="limpiar('1')"><i style="cursor:pointer;"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="padding-bottom: 3px;border-top: 0">
                  <div class="row">
                    <div class="col s12">
                      <div ng-hide="invsolicitudtabI">
                        <div class="col s12">
                          <div class="flex">
                            <div class="input-field col s6" ng-click="openmodals('diagnostico','1')">
                              <input id="with_icon" type="text" disabled ng-attr-title="{{solicitudpro.diagnom1}}"
                                ng-model="solicitudpro.diagnom1" style="cursor: pointer;" class="clase-gray">
                              <label for="with_icon" style="cursor: pointer;">Diagnostico 1: <span
                                  style="color:red;">*</span></label>
                              <a><i style="position: absolute; top: 16px; right: 0px;cursor: pointer;"
                                  class="material-icons prefix default-color">search</i></a>
                            </div>
                            <div class="input-field col s6" ng-click="openmodals('diagnostico','1')">
                              <input id="with_icon" type="text" disabled ng-attr-title="{{solicitudpro.diagnom2}}"
                                ng-model="solicitudpro.diagnom2" style="cursor: pointer;" class="clase-gray">
                              <label for="with_icon" style="cursor: pointer;">Diagnostico 2:</label>
                              <a><i style="position: absolute; top: 16px; right: 0px;cursor: pointer;"
                                  class="material-icons prefix default-color">search</i></a>
                            </div>
                            <a href="javascript:void(0)" ng-hide="!solicitudpro.diagnom2"
                              ng-click="removeDiagnostico('t1')" style="display: flex;
                            align-items: center;
                            justify-content: center;"><i class="icon-trash default-color"></i></a>
                          </div>
                          <div class="flex">
                              <div class="input-field col"
                              ng-class="{'s4': listContratostab1.length>1, 's6':listContratostab1.length==1}" ng-click="openmodals('ips','1')"> 
                              <input id="with_icon" type="text" disabled ng-attr-title="{{solicitudpro.ipssolicitante}}"
                                ng-model="solicitudpro.ipssolicitante" style="cursor: pointer;" class="clase-gray">
                              <label for="with_icon" style="cursor: pointer;">IPS Solicitante: <span
                                  style="color:red;">*</span></label>
                              <a><i style="position: absolute; top: 16px; right: 0px;cursor: pointer;"
                                  class="material-icons prefix default-color">search</i></a>
                            </div>
                            <div class="input-field col s4"
                              ng-if="listContratostab1.length>1">
                              <label for="with_icon" style="margin-top: -20px;">Contrato: <span
                                  style="color:red;">*</span></label>
                              <select class="select-chosen-eps" ng-model="solicitudpro.contrato"
                                ng-change="obtenerServiciosTabI(solicitudpro.contrato, 'tab1')" required>
                                <option value="">Seleccionar</option>
                                <option ng-repeat="con in listContratostab1" ng-value="con.NUMERO"
                                  ng-selected='selectContratoTabI'>{{con.MODALIDAD}}</option>
                              </select>
                            </div>
                            <div class="input-field col"
                              ng-class="{'s4': listContratostab1.length>1, 's6':listContratostab1.length==1}"
                              ng-click="openmodals('modalservicio','1')">
                              <input id="with_icon" type="text" disabled ng-attr-title="{{solicitudpro.servicio}}"
                                ng-model="solicitudpro.servicio" style="cursor: pointer;" class="clase-gray">
                              <label for="with_icon" style="cursor: pointer;">Servicio: <span
                                  style="color:red;">*</span></label>
                              <a><i style="position: absolute; top: 16px; right: 0px;cursor: pointer;"
                                  class="material-icons prefix default-color">search</i></a>
                            </div>

                          </div>
                          <div class="flex">
                            <div class="input-field col s6">
                              <input id="fechaparseada" type="date" ng-model="solicitudpro.fecsolicitud"
                                max="{{maxDate}}">
                              <label style=" margin-top: -20px;">Fecha de Orden: <span
                                  style="color:red;">*</span></label>
                            </div>
                            <div class="input-field col s6">
                              <input id="fechaparseada" type="date" min="{{maxDate}}"
                                ng-model="solicitudpro.fecprogramacion">
                              <label style=" margin-top: -20px;">Fecha de Programación: <span
                                  style="color:red;">*</span></label>
                            </div>
                          </div>
                          <div class="row">
                            <div class="input-field col s12">
                              <textarea ng-model="solicitudpro.justificacion" class="materialize-textarea"
                                style="max-height: 100px;overflow-y: auto;padding-top: 0;padding-bottom: 0;text-transform:uppercase"
                                id="justclinica" ng-keyup="FormatSoloTextoNumero('justclinica')"></textarea>
                              <label>Justificación Clínica: <span
                                  style="color:red;">*</span></label>
                            </div>
                            <div class="input-field col s12">
                              <textarea ng-model="solicitudpro.observacion" class="materialize-textarea"
                                style="max-height: 100px;overflow-y: auto;padding-top: 0;padding-bottom: 0;text-transform:uppercase"
                                id="observacionpro" ng-keyup="FormatSoloTextoNumero('observacionpro')"></textarea>
                              <label>Observacion:</label>
                            </div>
                            <div class="col s12">
                              <div class="input-field col m10 s12 w-100">
                                <div class="file-field input-field">
                                  <div class="btn">
                                    <i class="icon-file-pdf"></i>
                                    <input type="file" name="adjunto" id="solprofile" accept="application/pdf" />
                                  </div>
                                  <div class="file-path-wrapper">
                                    <input id="inputFilePlaceHolder1" class="file-path" type="text"
                                      placeholder="Adjuntar archivo">
                                    <span ng-if="datatb1.formato==null" style="color:red;">Campo requerido (*)</span>
                                    <span ng-if="datatb1.formato"
                                      ng-class="{'red-text': solicitudpro.namefile==null, 'green-text': solicitudpro.namefile!=null }">{{datatb1.formato}}</span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col s12">
                          <div class="input-field col m12 s12" style="text-align: right;">
                            <button class="btn white-text" type="button" ng-click="pasostabI('2')"
                              style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                style="position: relative;" class="material-icons prefix">chevron_right</i></button>
                            <br>
                          </div>
                        </div>
                      </div>
                      <div ng-hide="invproductotabI">
                        <div class="col s12">
                          <blockquote>Click en la opcion agregar + para adicionar productos!</blockquote>
                        </div>
                        <div class="col s12">
                          <table class="table table-bordered table-striped">
                            <thead>
                              <tr>
                                <th style="text-align:center;">Producto</th>
                                <th>Nombre</th>
                                <th style="text-align:center;">Cantidad</th>
                                <!-- <th style="text-align:center;">Valor</th> -->
                                <th style="text-align:center;">Accion</th>
                                <th style="text-align:center;"><a href="javascript:void(0)"
                                    ng-click="openmodals('producto','1')">Agregar
                                    <i class="material-icons prefix">add</i></a></th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr ng-repeat="det in productosagregadostabI">
                                <td style="text-align:center;">{{det.CODIGO}}</td>
                                <td>{{det.NOMBRE}}   {{det.SUBCLASNOM ==undefined ? '' : '-'}}  {{det.SUBCLASNOM}}  </td>
                                <td style="text-align:center;">{{det.CANTIDAD}}</td>
                                <!-- <td style="text-align:center;">{{det.VALOR}}</td> -->
                                <td style="text-align:center;">
                                  <div class="tooltip">
                                    <i class="fa fa-trash" style="cursor: pointer"
                                      ng-click="eliminarProducto($index,'1')"></i>
                                    <span class="tooltiptext">Eliminar Producto</span>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="col s12">
                          <div class="input-field col m12 s12" style="text-align: right;">
                            <button class="btn white-text" type="button" ng-click="pasostabI('-1')"
                              style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                style="position: relative;" class="material-icons prefix">chevron_left</i></button>
                            <button class="btn white-text" type="button" ng-click="pasostabI('3')"
                              style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                style="position: relative;" class="material-icons prefix">chevron_right</i></button>
                          </div>
                        </div>
                      </div>
                      <div ng-hide="invfinalizartabI">
                        <div class="col s12">
                          <blockquote>Estos campos son obligatorios para notificar al Afiliado!</blockquote>
                        </div>
                        <div class="row">
                          <div class="col s12">
                            <div class="input-field col s4" style="margin-right: 0;">
                              <input id="with_icon" type="text" ng-model="solicitudpro.celular" required>
                              <label for="with_icon">Celular: <span style="color:red;">*</span></label>
                            </div>
                            <div class="input-field col s4" style="margin-right: 0">
                              <label for="direcciont1" class="c-pointer noselectxtpqr">Dirección: <span
                                  style="color:red;">*</span> </label>
                              <input class="c-pointer" id="direcciont1" type="text" ng-model="solicitudpro.direccion"
                                ng-attr-title="{{solicitudpro.direccion? solicitudpro.direccion:'CLICK PARA AGREGAR DIRECCION'}}"
                                maxlength="100" ng-click="abrirModalDireccion();" readonly="">
                            </div>
                            <div class="input-field col s4" style="margin-right: 0;">
                              <input id="with_icon" type="text" ng-model="solicitudpro.email" required>
                              <label for="with_icon">Email:</label>
                            </div>
                          </div>
                        </div>
                        <div class="col s12">
                          <div class="input-field col m12 s12" style="text-align: right;">
                            <button class="btn white-text" type="button" ng-click="pasostabI('-2')"
                              style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                style="position: relative;" class="material-icons prefix">chevron_left</i></button>
                            <button class="btn white-text" type="button" ng-click="finalizartabI()"
                              style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                style="position: relative;" class="material-icons prefix">flash_on</i></button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div ng-show="tabII" class="col no-padding" style="width: 100%;">
          <div class="col m12 s12">
            <div class="col m12 s12" style="margin-top: 0px; margin-bottom: 5px;">
              <i class="material-icons left" style="margin-top: 14px;">more_vert</i>
              <h5>Consultar Productos</h5>
              <div class="row">
                <div class="col s12">
                  <form name="findpro" id="findproa">
                    <div class="input-field col s4">
                      <input id="buscarpro" type="text" ng-model="searchpro" ng-change="findProducto(searchpro)"
                        required>
                      <label for="buscarpro">Buscar:</label>
                    </div>
                  </form>
                </div>
                <div class="responsive" ng-hide="inactivepro">
                  <table class="table table-bordered table-striped">
                    <thead>
                      <tr>
                        <th style="text-align:center;">#</th>
                        <th style="text-align:center;">CODIGO</th>
                        <th style="text-align:center;">PRODUCTO</th>
                        <th style="text-align:center;">GENERO</th>
                        <th style="text-align:center; width: 82px;">EDAD</th>
                        <th style="text-align:center;">CLASIFICACIÓN</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="sol in listProductosTemp | inicio: currentPage * pageSize | limitTo: pageSize"
                        ng-hide="!inactivepro2">
                        <th style="text-align:center;">{{$index+1 + (currentPage * pageSize)}}</th>
                        <td style="text-align:center; width: 95px;">{{sol.CODIGO}}</td>
                        <td style="text-align:center;">{{sol.NOMBRE}}</td>
                        <td style="text-align:center;">{{sol.GENERO}}</td>
                        <td style="text-align:center; width: 63px;">{{sol.EDAD}}</td>
                        <td style="text-align:center;">{{sol.CLASIFICACION}}</td>
                      </tr>
                      <tr ng-hide="inactivepro2">
                        <td colspan="6" class="order-th center-align"><b>{{mensajenofound}}</b></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <ul ng-hide="inactivepro" style="text-align: center;" class="pagination">
                  <li><button ng-disabled='currentPage == 0' class="btn-floating default-background"
                      ng-click="paso('back')">&laquo;</button></li>
                  <li ng-repeat='page in pages'><button ng-disabled='currentPage == page.no - 1'
                      class="btn-floating default-background" ng-click='setPage(page.no)'>{{page.no}}</button></li>
                  <li><button ng-disabled='currentPage >= listProductosTemp.length/pageSize - 1'
                      class="btn-floating default-background" ng-click="paso('next')">&raquo;</button></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div ng-show="tabIII" class="col no-padding" style="width: 100%;">
          <div class="row" ng-hide="inactiveseccion1tab3">
            <div class="col s4">
              <i class="material-icons left" style="margin-top: 14px;">more_vert</i>
              <h5>Consultar Autorización</h5>
            </div>
            <div class="col s8" style="text-align: right; margin-top: 15px;">
              <div class="btn-panel switch">
                <label>
                  Autorizacion
                  <input type="checkbox" ng-init="check_option = false" ng-model="check_option">
                  <span class="lever"></span>
                  Documento
                </label>
              </div>
            </div>
            <div class="col s12" style="padding: 20px;">
              <form ng-submit="buscarAutorizaciones(autorizacion.documento,autorizacion.numero,solicitud.ubicacion)">
                <div class="col s12">
                  <div class="col s8 offset-s3" ng-show="check_option">
                    <div class="input-field col m12 s12">
                      <i class="material-icons prefix" style="margin-top: 10px;">wc</i>
                      <input id="with_icon1" type="text" ng-model="autorizacion.documento"
                        ng-required="check_option? true:false">
                      <label for="with_icon1">Documento</label>                
                    </div>
                  </div>
                  <div class="col s4 offset-s3" ng-hide="check_option">
                    <div class="input-field col m12 s12">
                      <i class="material-icons prefix" style="margin-top: 10px;">dialpad</i>
                      <input id="with_icon2" type="text" ng-model="autorizacion.numero"
                        ng-required="!check_option? true:false">
                      <label for="with_icon2">Numero</label>
                    </div>
                  </div>
                  <div class="col s4" ng-hide="check_option">
                    <div class="input-field col m12 s12">
                      <i class="material-icons prefix" style="margin-top: 10px;">location_on</i>
                      <input id="with_icon3" type="text" ng-model="solicitud.ubicacion"
                        ng-required="!check_option? true:false">
                      <label id="ubi" for="with_icon3">Ubicación</label>
                    </div>
                  </div>
                  <div class="col s1">
                    <div class="input-field col m12 s12">
                      <button class="btn white-text" type="submit"
                        style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i style="position: relative;"
                          class="material-icons prefix">search</i></button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div class="col s12" style="padding-left: 0px; padding-right: 0px;" ng-hide="verAutorizaciones">
            <div class="charts" style="margin-top: 5em; margin-bottom: 0px;width: 99%;">
              <span class="default-color" ng-click="getAuts();"
                style="display: flex;justify-content: center;align-items: center;margin-bottom: 10px;cursor: pointer;">Refrescar
                <i class=" icon-retweet-4"></i> </span>
              <div class="card-content foot4"
                style="padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;">
                <div class="col s2">
                  <h5 class="white-text">{{nameaut}}</h5>
                </div>
                <div class="col s9" style="text-align: center;">
                  <div class="btn-panel switch" style="margin-top: 14px;">
                    <label class="white-text">
                      Autorizaciones
                      <input type="checkbox" ng-init="check_option_2 = false; nameaut = 'Autorizaciones'"
                        ng-model="check_option_2" ng-change="validarAutorizaciones()"
                        class="ng-valid ng-touched ng-dirty ng-valid-parse">
                      <span class="lever"></span>
                      Solicitudes
                    </label>
                  </div>
                </div>
                <div class="col s1">
                  <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="limpiar('5')"
                      class="material-icons white-text">close</i></h5>
                </div>
              </div>
              <div class="card-action" style="padding-bottom: 3px;border-top: 0">
                <div class="row">
                  <div class="responsive" ng-hide="switchtable">
                    <table class="table table-bordered table-striped" id="tautorizaciones">
                      <thead>
                        <tr>                          
                          <th style="text-align:center;">NUMERO</th>
                          <th style="text-align:center;">UBICACION</th>
                          <th style="text-align:center;">DOCUMENTO</th>
                          <th style="text-align:center;">AFILIADO</th>
                          <th style="text-align:center;">SERVICIO</th>
                          <th style="text-align:center;">REGIMEN</th>
                          <th style="text-align:center;">CLASE</th>
                          <th style="text-align:center;">FECHA AUTORIZACION</th>
                          <th style="text-align:center;">ESTADO</th>
                          <th style="text-align:center;">ACCIÓN</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="aut in listarAutorizaciones">                          
                          <td style="text-align:center;">{{aut.NUMERO}}</td>
                          <td style="text-align:center;">{{aut.UBICACION}}</td>
                          <td style="text-align:center;">{{aut.DOCUMENTO}}</td>
                          <td style="text-align:center;">{{aut.NOMBRE_AFI}}</td>
                          <td style="text-align:center;">{{aut.SERVICIO}}</td>
                          <td style="text-align:center;">{{aut.REGIMEN}}</td>
                          <td style="text-align:center;">{{aut.CLASE}}</td>
                          <td style="text-align:center;">{{aut.FECHA}}</td>
                          <td style="text-align:center;"><span
                              class="status {{aut.ESTADO_CLASE}} white-text">{{aut.ESTADO}}</span></td>
                          <td style="text-align:center;">
                            <div class="tooltip">
                              <i style="cursor:pointer;" ng-click="openmodals('modaldetalle',aut);sumPrint = 0;"
                                class="material-icons">assignment_turned_in</i>
                              <span class="tooltiptext">Detalle</span>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="responsive" ng-show="switchtable">
                    <table class="table table-bordered table-striped" id="tautorizacionespro">
                      <thead>
                        <tr>                          
                          <th style="text-align:center;">NUMERO</th>
                          <th style="text-align:center;">NUMERO AUT</th>
                          <th style="text-align:center;">DOCUMENTO</th>
                          <th style="text-align:center;">AFILIADO</th>
                          <th style="text-align:center;">SERVICIO</th>
                          <th style="text-align:center;">REGIMEN</th>
                          <th style="text-align:center;">FECHA ENTREGA</th>
                          <th style="text-align:center;">ESTADO</th>
                          <th style="text-align:center;">ACCIÓN</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="aut in listarAutorizacionesprog">                          
                          <td style="text-align:center;">{{aut.NUMERO}}</td>
                          <td style="text-align:center;">{{aut.AUTN_NUMERO==0 ? 'SIN AUTORIZACION':aut.AUTN_NUMERO}}</td>
                          <td style="text-align:center;">{{aut.DOCUMENTO}}</td>
                          <td style="text-align:center;">{{aut.AFILIADO}}</td>
                          <td style="text-align:center;">{{aut.NOM_CLASIFICACION}}</td>
                          <td style="text-align:center;">{{aut.REGIMEN}}</td>
                          <td style="text-align:center;">{{aut.FECHA_ENTREGA}}</td>
                          <td style="text-align:center;"><span
                              class="status {{aut.CLASE_ESTADO}} white-text">{{setStatus(aut.ESTADO,aut.AUDITADA)}}</span>
                          </td>
                          <td style="text-align:center;">
                            <div class="tooltip" ng-show="aut.ESTADO == 'PENDIENTE AUTORIZAR' && aut.AUDITADA=='N'">
                              <i style="cursor:pointer;" ng-click="accionTabIII(aut)" class="material-icons">edit</i>
                              <span class="tooltiptext">Editar</span>
                            </div>
                            <div class="tooltip">
                              <i style="cursor:pointer;" ng-click="openmodals('modaldetalleprograma',aut)"
                                class="material-icons">assignment_turned_in</i>
                              <span class="tooltiptext">Detalle</span>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col s12" ng-show="verAutorizacionesEdit==true && verAutorizaciones==true"
            style="margin-bottom: 15px">
            <div class="col s5">
              <i class="material-icons left" style="margin-top: 14px;">more_vert</i>
              <h5>Información del Afiliado</h5>
            </div>
            <div class="col s12">
              <table class="responsive-table table-bordered" style="height:100px;">
                <thead>
                  <tr>
                    <th data-field="NOMBRE" class="center-align">NOMBRE</th>
                    <th data-field="Nombre" class="center-align">IDENTIFICACIÓN</th>
                    <th data-field="NACIMIENTO de Nacimiento" class="center-align">NACIMIENTO</th>
                    <th data-field="UBICACION" class="center-align">UBICACION</th>
                    <th data-field="GENERO" class="center-align">GENERO</th>
                    <th data-field="REGIMEN" class="center-align">REGIMEN</th>
                    <th data-field="EDAD" class="center-align">EDAD</th>
                    <th colspan="{{afirownumIV}}" data-field="AFILIADO" class="center-align">AFILIADO</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="center-align">{{infoafiliadoautedit.NombreCompleto}}</td>
                    <td class="center-align">{{infoafiliadoautedit.TipoDocumento}} - {{infoafiliadoautedit.Documento}}
                    </td>
                    <td class="center-align">{{infoafiliadoautedit.FechaNacimiento}}</td>
                    <td class="center-align">{{infoafiliadoautedit.Municipio}}</td>
                    <td class="center-align">{{infoafiliadoautedit.Sexo}}</td>
                    <td class="center-align">{{infoafiliadoautedit.Regimen}}</td>
                    <td class="center-align">{{edadautedit}} {{cantidadanosautedit}}</td>
                    <td class="center-align"><span class="status green">{{infoafiliadoautedit.Estado}}</span></td>
                    <td ng-show="infoafiliadoautedit.SINIESTRO == 'true'" class="center-align"><span
                        class="status orange">ALTO
                        COSTO</span></td>
                    <td ng-show="infoafiliadoautedit.TUTELA == 'true'" class="center-align"><span
                        class="status red">TUTELA</span></td>
                    <td ng-show="infoafiliadoautedit.PORTABILIDAD=='S'">
                      <span class="status light-blue">PORTABILIDAD</span>
                    </td>
                    <td ng-show="infoafiliadoautedit.ERROR_50=='true'" class="center-align">
                      <span class="status black" style="color:#fff">ERROR_50</span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col s12" style="padding-left: 0px; padding-right: 0px;"
            ng-show="verAutorizacionesEdit==true && verAutorizaciones==true">
            <div>
              <div class="col s12" style="margin-top: 12px;">
                <ul class="left mailbox-custom-search list-inline"
                  style="width: 100%;display: flex;justify-content: space-between;align-items: center;">
                  <li>
                  </li>
                  <li style="width: 60%;">
                    <div class="steper" style="padding-bottom: 0px;">
                      <button id="btn-solicitudtabIII"
                        style="width: 100%; margin-bottom: 10px; height: 44px; margin-right: 10px;"
                        class="btn white-text grey" type="button">Solicitud</button>
                      <button id="btn-productotabIII"
                        style="width: 100%; margin-bottom: 10px; height: 44px; margin-left: 6px; margin-right: 5px;"
                        class="btn white-text grey" type="button">Producto</button>
                      <button id="btn-finalizartabIII"
                        style="width: 100%; margin-bottom: 10px; height: 44px; margin-left: 10px;"
                        class="btn white-text grey" type="button">Finalizar</button>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="col s12">
                <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                  <div class="card-content foot4"
                    style="padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;">
                    <div class="col s11">
                      <h5 class="white-text">{{titletabIII}} - {{solicitudproedit.numero}}</h5>
                    </div>
                    <div class="col s1">
                      <h5 style="text-align: end;" ng-click="limpiar('4')"><i style="cursor:pointer;"
                          class="material-icons white-text">close</i></h5>
                    </div>
                  </div>
                  <div class="card-action" style="padding-bottom: 3px;border-top: 0">
                    <div class="row">
                      <div class="col s12">
                        <div ng-hide="invsolicitudtabIII">
                          <div class="col s12">
                            <div class="flex">
                              <div class="input-field col s6 margin" ng-click="openmodals('diagnostico','3')">
                                <input id="with_icon" type="text" disabled ng-attr-title="{{solicitudproedit.diagnom1}}"
                                  ng-model="solicitudproedit.diagnom1" style="cursor: pointer;" class="clase-gray">
                                <label for="with_icon" style="cursor: pointer;">Diagnostico 1: <span
                                    style="color:red;">*</span></label>
                                <a><i style="position: absolute; top: 16px; right: 0px;cursor: pointer;"
                                    class="material-icons prefix default-color">search</i></a>
                              </div>
                              <div class="input-field col s6 margin" ng-click="openmodals('diagnostico','3')">
                                <input id="with_icon" type="text" disabled ng-attr-title="{{solicitudproedit.diagnom2}}"
                                  ng-model="solicitudproedit.diagnom2" style="cursor: pointer;" class="clase-gray">
                                <label for="with_icon" style="cursor: pointer;">Diagnostico 2:</label>
                                <a><i style="position: absolute; top: 16px; right: 0px;cursor: pointer;"
                                    class="material-icons prefix default-color">search</i></a>
                              </div>
                              <a href="javascript:void(0)" ng-hide="!solicitudproedit.diagnom2"
                                ng-click="removeDiagnostico('t3')" style="display: flex;
                              align-items: center;
                              justify-content: center;"><i class="icon-trash default-color"></i></a>
                            </div>
                            <div class="flex">
                              <div class="input-field col"
                              ng-class="{'s4': listContratostab4.length>1, 's6':listContratostab4.length==1}" ng-click="openmodals('ips','1')"> 
                              <input id="with_icon" type="text" disabled ng-attr-title="{{solicitudproedit.ipssolicitante}}"
                                ng-model="solicitudproedit.ipssolicitante" style="cursor: pointer;" class="clase-gray">
                              <label for="with_icon" style="cursor: pointer;">IPS Solicitante: <span
                                  style="color:red;">*</span></label>
                              <a><i style="position: absolute; top: 16px; right: 0px;cursor: pointer;"
                                  class="material-icons prefix default-color">search</i></a>
                            </div>
                            <div class="input-field col s4"
                              ng-if="listContratostab4.length>1">
                              <label for="with_icon" style="margin-top: -20px;">Contrato: <span
                                  style="color:red;">*</span></label>
                              <select class="select-chosen-eps" ng-model="solicitudproedit.contrato"
                                ng-change="obtenerServiciosTabI(solicitudproedit.contrato, 'tab3')" required>
                                <option value="">Seleccionar</option>
                                <option ng-repeat="con in listContratostab4" ng-value="con.NUMERO"
                                  ng-selected='selectContratoTabIV'>{{con.MODALIDAD}}</option>
                              </select>
                            </div>
                            <div class="input-field col"
                              ng-class="{'s4': listContratostab4.length>1, 's6':listContratostab4.length==1}"
                              ng-click="openmodals('modalservicio','3')">
                              <input id="with_icon" type="text" disabled ng-attr-title="{{solicitudproedit.servicio}}"
                                ng-model="solicitudproedit.servicio" style="cursor: pointer;" class="clase-gray">
                              <label for="with_icon" style="cursor: pointer;">Servicio: <span
                                  style="color:red;">*</span></label>
                              <a><i style="position: absolute; top: 16px; right: 0px;cursor: pointer;"
                                  class="material-icons prefix default-color">search</i></a>
                            </div>

                          </div>
                          <div class="flex">
                            <div class="input-field col s6">
                              <input id="fechaparseada" type="date" ng-model="solicitudproedit.fecsolicitud"
                                max="{{maxDate}}">
                              <label style=" margin-top: -20px;">Fecha de Orden: <span
                                  style="color:red;">*</span></label>
                            </div>
                            <div class="input-field col s6">
                              <input id="fechaparseada" type="date" min="{{maxDate}}"
                                ng-model="solicitudproedit.fecprogramacion">
                              <label style=" margin-top: -20px;">Fecha de Programación: <span
                                  style="color:red;">*</span></label>
                            </div>
                          </div>                          
                            <div class="row">
                              <div class="input-field col s12">
                                <textarea ng-model="solicitudproedit.justificacion" class="materialize-textarea"
                                  style="max-height: 100px;overflow-y: auto;padding-top: 0;padding-bottom: 0;text-transform:uppercase"
                                  id="justclinicaedit" ng-keyup="FormatSoloTextoNumero('justclinicaedit')"></textarea>
                                <label>Justificación Clínica: <span
                                    style="color:red;">*</span></label>
                              </div>
                              <div class="input-field col s12">
                                <textarea ng-model="solicitudproedit.observacion" class="materialize-textarea"
                                  style="max-height: 100px;overflow-y: auto;padding-top: 0;padding-bottom: 0;text-transform:uppercase"
                                  id="observacionproedit" ng-keyup="FormatSoloTextoNumero('observacionproedit')"></textarea>
                                <label>Observacion:</label>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col s12">
                                <div class="input-field col m10 s12 w-100">
                                  <div class="file-field input-field">
                                    <div class="btn">
                                      <i class="icon-file-pdf"></i>
                                      <input type="file" name="adjunto" id="solprofiledit" accept="application/pdf" />
                                    </div>
                                    <div class="file-path-wrapper">
                                      <input id="inputFilePlaceHolder3" class="file-path" type="text"
                                        placeholder="Adjuntar archivo">
                                      <span ng-if="datatb3.formato==null" style="color:red;">Campo requerido (*)</span>
                                      <span ng-if="datatb3.formato"
                                        ng-class="{'red-text': solicitudproedit.namefile==null, 'green-text': solicitudproedit.namefile!=null }">{{datatb3.formato}}</span>
                                    </div>
                                  </div>
                                </div>
                                <div ng-if="v_encabezadov.ADJUNTO" class="tooltip" style="float: right">
                                  <i style="font-size: 35px;float: right;cursor: pointer" class="icon-download"
                                    ng-click="downloadFileAut(v_encabezadov.ADJUNTO,v_encabezadov.FTP);"></i>
                                  <span class="tooltiptext">Clic para ver soporte</span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col s12">
                            <div class="input-field col m12 s12" style="text-align: right;">
                              <button class="btn white-text" type="button" ng-click="pasostabIII('2')"
                                style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                  style="position: relative;" class="material-icons prefix">chevron_right</i></button>
                              <br>
                            </div>
                          </div>
                        </div>
                        <div ng-hide="invproductotabIII">
                          <div class="col s12">
                            <blockquote>Click en la opcion agregar + para adicionar productos!</blockquote>
                          </div>
                          <div class="col s12">
                            <table class="table table-bordered table-striped">
                              <thead>
                                <tr>
                                  <th style="text-align:center;">Producto</th>
                                  <th>Nombre</th>
                                  <th style="text-align:center;">Cantidad</th>
                                  <!-- <th style="text-align:center;">Valor</th> -->
                                  <th style="text-align:center;">Accion</th>
                                  <th style="text-align:center;"><a href="javascript:void(0)"
                                      ng-click="openmodals('producto','3')">Agregar
                                      <i class="material-icons prefix">add</i></a></th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr ng-repeat="det in productosagregadostabIII">
                                  <td style="text-align:center;">{{det.CODIGO}}</td>
                                  <td>{{det.NOMBRE}}   {{(det.SUBCLASNOM =='' || det.SUBCLASNOM ==undefined) ? '' : '-'}}  {{det.SUBCLASNOM}}  </td>
                                  <td style="text-align:center;">{{det.CANTIDAD}}</td>
                                  <!-- <td style="text-align:center;">{{det.VALOR}}</td> -->
                                  <td style="text-align:center;">
                                    <div class="tooltip">
                                      <i class="fa fa-trash" style="cursor: pointer"
                                        ng-click="eliminarProducto($index,'3')"></i>
                                      <span class="tooltiptext">Eliminar Producto</span>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div class="col s12">
                            <div class="input-field col m12 s12" style="text-align: right;">
                              <button class="btn white-text" type="button" ng-click="pasostabIII('-1')"
                                style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                  style="position: relative;" class="material-icons prefix">chevron_left</i></button>
                              <button class="btn white-text" type="button" ng-click="pasostabIII('3')"
                                style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                  style="position: relative;" class="material-icons prefix">chevron_right</i></button>
                            </div>
                          </div>
                        </div>
                        <div ng-hide="invfinalizartabIII">
                          <div class="col s12">
                            <blockquote>Estos campos son obligatorios para notificar al Afiliado!</blockquote>
                          </div>
                          <div class="row">
                            <div class="col s12">
                              <div class="input-field col s4" style="margin-right: 0">
                                <input id="with_icon" type="text" ng-model="solicitudproedit.celular" required>
                                <label for="with_icon">Celular: <span style="color:red;">*</span></label>
                              </div>
                              <div class="input-field col s4" style="margin-right: 0">
                                <label for="direcciont3" class="c-pointer noselectxtpqr">Dirección: <span
                                    style="color:red;">*</span></label>
                                <input class="c-pointer" id="direcciont3" type="text"
                                  ng-model="solicitudproedit.direccion"
                                  ng-attr-title="{{solicitudproedit.direccion? solicitudproedit.direccion:'CLICK PARA AGREGAR DIRECCION'}}"
                                  maxlength="100" ng-click="abrirModalDireccion();" readonly="">
                              </div>
                              <div class="input-field col s4" style="margin-right: 0">
                                <input id="with_icon" type="text" ng-model="solicitudproedit.email" required>
                                <label for="with_icon">Email:</label>
                              </div>
                            </div>
                          </div>
                          <div class="col s12">
                            <div class="input-field col m12 s12" style="text-align: right;">
                              <button class="btn white-text" type="button" ng-click="pasostabIII('-2')"
                                style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                  style="position: relative;" class="material-icons prefix">chevron_left</i></button>
                              <button class="btn white-text" type="button" ng-click="finalizartabIII()"
                                style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                                  style="position: relative;" class="material-icons prefix">flash_on</i></button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="modaldetalle" class="modal" ng-class="{'marca':v_encabezadov.ESTADO=='A' || v_encabezadov.ESTADO=='X'}"
          style="width: 95%!important; max-height: 100%;">
          <div class="modal-content" style="padding: 0px !important;">
            <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
              <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4" style="padding: 0"> 
                  <div class="col s11">
                    <h5 class="white-text">Detalle {{ v_encabezadov.FUENTE=='PROG' ? 'Solicitud':'Autorización'}}
                      {{ v_encabezadov.FUENTE=='PROG'? v_encabezadov.NUMERO: v_encabezadov.NUM_OASIS}} - {{v_encabezadov.UBI_OASIS}} 
                      <span ng-if="v_encabezadov.ESTADO=='P' && v_encabezadov.FUENTE=='PROG'"> - Autorización {{dAuto.AUTN_NUMERO}} - {{v_encabezadov.UBI_OASIS}}</span>
                      <i style="position: relative; cursor: pointer;" class="material-icons prefix"
                        ng-hide="verPrintDetalle" ng-click="v_encabezadov.FUENTE=='PROG' ?  printautmodPro(dAuto.AUTN_NUMERO,v_encabezadov.UBI_OASIS): printAut('4')">print</i></h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="closemodals('modaldetalle')"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="border-top: 0">
                  <div class="col s12">
                    <blockquote class="display-flex noselectxtpqr" style="margin: 10px 0;">
                      <strong class="c-none">Datos del Afiliado</strong>
                    </blockquote>
                    <table class="responsive-table table-bordered" style="height:100px;">
                      <thead>
                        <tr>
                          <th data-field="NOMBRE" class="center-align">NOMBRE</th>
                          <th data-field="Nombre" class="center-align">IDENTIFICACIÓN</th>
                          <th data-field="NACIMIENTO de Nacimiento" class="center-align">
                            NACIMIENTO</th>
                          <th data-field="UBICACION" class="center-align">UBICACION</th>
                          <th data-field="GENERO" class="center-align">GENERO</th>
                          <th data-field="REGIMEN" class="center-align">REGIMEN</th>
                          <th data-field="EDAD" class="center-align">EDAD</th>
                          <th colspan="{{afirownumIV}}" data-field="AFILIADO" class="center-align">AFILIADO</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="center-align">{{infoafiliadoautedit.NombreCompleto}}
                          </td>
                          <td class="center-align">{{infoafiliadoautedit.TipoDocumento}} -
                            {{infoafiliadoautedit.Documento}}</td>
                          <td class="center-align">{{infoafiliadoautedit.FechaNacimiento}}
                          </td>
                          <td class="center-align">{{infoafiliadoautedit.Municipio}}</td>
                          <td class="center-align">{{infoafiliadoautedit.Sexo}}</td>
                          <td class="center-align">{{infoafiliadoautedit.Regimen}}</td>
                          <td class="center-align">{{edadautedit}} {{cantidadanosautedit}}
                          </td>
                          <td class="center-align"><span class="status green">{{infoafiliadoautedit.Estado}}</span>
                          </td>
                          <td ng-show="infoafiliadoautedit.SINIESTRO == 'true'" class="center-align"><span
                              class="status orange">ALTO
                              RIESGO</span></td>
                          <td ng-show="infoafiliadoautedit.TUTELA == 'true'" class="center-align"><span
                              class="status red">TUTELA</span>
                          </td>
                          <td ng-show="infoafiliadoautedit.PORTABILIDAD=='S'">
                            <span class="status light-blue">PORTABILIDAD</span>
                          </td>
                          <td ng-show="infoafiliadoautedit.ERROR_50=='true'" class="center-align">
                            <span class="status black" style="color:#fff">ERROR_50</span>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="row">
                    <div class="col s6">
                      <blockquote class="display-flex noselectxtpqr" style="margin: 10px 0;">
                        <strong class="c-none">Datos
                          {{ v_encabezadov.FUENTE=='PROG' ? 'Solicitud':'Autorización'}}</strong>
                      </blockquote>
                      <div class="card-action"
                        style="padding-top: 0;padding-bottom: 0; border-top: 0;max-height: 60vh;overflow: auto;height: auto;"
                        ng-hide="dAuto">
                        <p style="margin: 0"><b>DIAGNOSTICO 1 : </b>
                          {{v_encabezadov.DX}}-{{v_encabezadov.NOMBRE_DX}}</p>
                        <p style="margin: 0"><b>DIAGNOSTICO 2 : </b>
                          {{v_encabezadov.DX1}}-{{v_encabezadov.NOMBRE_DX1}}</p>
                        <p style="margin: 0"><b>SERVICIO : </b> {{v_encabezadov.CLASIFICACION}}-{{
                              v_encabezadov.NOMBRE_CLAS}}</p>
                        <p style="margin: 0;text-transform: uppercase;"><b>MEDICO : </b>
                          {{v_encabezadov.MEDICO}}</p>
                        <p style="margin: 0"><b>ESPECIALIDAD : </b>
                          {{v_encabezadov.ESPECIALIDAD_MEDICO}}</p>
                        <p style="margin: 0;text-transform: uppercase; word-wrap: break-word;"><b>OBSERVACION :
                          </b>
                          {{v_encabezadov.JUSTIFICACION}}</p>
                        <p style="margin: 0"><b>SOPORTE:
                            <a ng-hide="!v_encabezadov.ADJUNTO" style="cursor: pointer"
                              ng-click="downloadFileAut(v_encabezadov.ADJUNTO, v_encabezadov.FTP);"> <i
                                class="icon-download"></i>ARCHIVO</a>
                          </b> {{!v_encabezadov.ADJUNTO ? 'SIN SOPORTE':''}}</p>
                        <p style="margin: 0"><b>IPS SOLICITANTE: </b>
                          {{v_encabezadov.SOLICITANTE}}</p>
                        <p style="margin: 0"><b>DIRECCION:</b>
                          {{v_encabezadov.DIR_SOLICITANTE}}</p>
                        <p style="margin: 0"><b>TELEFONO:</b>
                          {{v_encabezadov.TEL_SOLICITANTE}}</p>
                        <p style="margin: 0"><b>CONTRATO: </b> {{v_encabezadov.CONTRATO}}
                        </p>
                        <p style="margin: 0"><b>FECHA ORDEN: </b>
                          {{v_encabezadov.FECHA_ORDEN}}</p>
                        <p style="margin: 0"><b>FECHA SOLICITUD: </b> {{v_encabezadov.FECHA_SOLICITUD}}</p>
                        <p style="margin: 0"><b>FECHA AUTORIZACION: </b>
                          {{v_encabezadov.FECHA_AUTORIZACION}}</p>
                        <p style="margin: 0"><b>FECHA VENCIMIENTO: </b>
                          {{v_encabezadov.FECHA_VENCIMIENTO}}</p>
                        <p style="margin: 0"><b>ORIGEN ATENCION: </b>
                          {{v_encabezadov.ORIGEN_ATENCION}}</p>
                        <p style="margin: 0"><b>TIPO DE SERVICIO:</b>
                          {{v_encabezadov.TIPO_SOLICITUD}}</p>
                        <p style="margin: 0"><b>UBICACION: </b>
                          {{v_encabezadov.UBICACION_SOLi}}</p>
                        <p style="margin: 0"><b>IPS ASIGNADA: </b>
                          {{v_encabezadov.ASIGNADA}}</p>
                        <p style="margin: 0"><b>DIRECCION: </b>
                          {{v_encabezadov.DIR_ASIGNADA}}</p>
                        <p style="margin: 0"><b>TELEFONO: </b>
                          {{v_encabezadov.TEL_ASIGNADA}}</p>
                      </div>
                      <div ng-show="dAuto" style="max-height: 60vh;overflow: auto;height: auto;">
                        <p style="margin: 0"><b>DIAGNOSTICO PRINCIPAL: </b> {{v_encabezadov.DX}} -
                          {{v_encabezadov.NOMBRE_DX}}</p>
                        <p style="margin: 0"><b>DIAGNOSTICO SECUNDARIO : </b>{{v_encabezadov.DX1}} -
                          {{v_encabezadov.NOMBRE_DX1}}</p>
                        <p style="margin: 0"><b>FECHA ORDEN: </b> {{v_encabezadov.FECHA_ORDEN}}
                        </p>
                        <p style="margin: 0"><b>FECHA AUTORIZACION: </b> {{v_encabezadov.FECHA_AUTORIZACION}}
                        </p>
                        <p style="margin: 0"><b>CONTRATO : </b> {{v_encabezadov.CONTRATO}} - UBICACIÓN
                          {{v_encabezadov.UBICACION_CONTRATO}}</p>
                        <p style="margin: 0"><b>CLASIFICACION : </b> {{v_encabezadov.CLASIFICACION}} -
                          {{v_encabezadov.NOMBRE_CLAS}}</p>
                        <p style="margin: 0;text-transform: uppercase; word-wrap: break-word;"><b>JUSTIFICACION
                            MEDICA : </b>{{v_encabezadov.JUSTIFICACION}}
                        </p>
                        <p style="margin: 0;text-transform: uppercase; word-wrap: break-word;"><b>OBSERVACION :
                        </b>
                        {{v_encabezadov.OBSERVACION}}</p>
                        <p style="margin: 0"><b>SOPORTE:
                            <a ng-hide="!v_encabezadov.ADJUNTO" style="cursor: pointer"
                              ng-click="downloadFileAut(v_encabezadov.ADJUNTO, v_encabezadov.FTP);"> <i
                                class="icon-download"></i>ARCHIVO</a>
                          </b> {{!v_encabezadov.ADJUNTO ? 'SIN SOPORTE':''}}</p>
                        <p style="margin: 0"><b>IPS SOLICITANTE : </b> {{v_encabezadov.SOLICITANTE}}</p>
                        <p style="margin: 0"><b>DIRECCION SOLICITANTE: </b>
                          {{v_encabezadov.DIR_SOLICITANTE}}</p>
                        <p style="margin: 0"><b>TELEFONO SOLICITANTE: </b>
                          {{v_encabezadov.TEL_SOLICITANTE}}</p>
                        <p style="margin: 0"><b>IPS ASIGNADA : </b> {{v_encabezadov.ASIGNADA}}
                        </p>
                        <p style="margin: 0"><b>DIRECCION ASIGNADA: </b>
                          {{v_encabezadov.DIR_ASIGNADA}}</p>
                        <p style="margin: 0"><b>TELEFONO ASIGNADA: </b> {{v_encabezadov.TEL_ASIGNADA}}
                        </p>
                        <p style="margin: 0"><b>ESTADO AUTORIZACIÓN: </b>
                          <span class="status {{dAuto.CLASE_ESTADO}} white-text">{{dAuto.ESTADO}}</span>
                        </p>
                        <p style="margin: 0;text-transform: uppercase; word-wrap: break-word;" ng-if="v_encabezadov.MOTIVO_ANULACION"><b>MOTIVO ANULACIÓN: </b>
                          {{v_encabezadov.MOTIVO_ANULACION}}
                        </p>
                      </div>
                    </div>
                    <div class="col s6">
                      <blockquote class="display-flex noselectxtpqr" style="margin: 10px 0;">
                        <strong class="c-none">Productos</strong>
                      </blockquote>
                      <div class="row">
                        <div class="col s6" ng-repeat="d in v_detallev track by $index">
                          <div class="card">
                            <div class="card-content" style="height: auto;">
                              <label><b>CODIGO:</b> {{d.CODIGO}}</label>
                              <br>
                              <label> <b>NOMBRE:</b> {{d.NOMBRE}}</label>
                              <br>
                              <div>
                                <label><b>CANTIDAD:</b> {{d.CANTIDAD}}</label>
                                <!-- <label><b>VALOR:</b><i class="icon-dollar"></i>{{d.VALOR}}</label> -->
                              </div>
                              <i style="position: absolute; top: 9px; right: 9px;" class="icon-ok-6"></i>
                              <div class="progress green lighten-4"
                                style="position: absolute; bottom: 0px;  margin-top: 0px; left: 0px;">
                                <div class="determinate green darken-2" style="width: 100%"></div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row" ng-hide="v_detallev.length>0" style="text-align: center">
                        <h2>No hay productos en la Autorización</h2>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="modaldiagnostico" class="modal" style="overflow: hidden;">
          <div class="modal-content" style="padding: 0px !important;">
            <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
              <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4" style="padding: 0">
                  <div class="col s11">
                    <h5 class="white-text">Diagnosticos</h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="closemodals('diagnostico')"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="padding-bottom: 3px;border-top: 0">
                  <div class="row">
                    <div class="col s12">
                      <form ng-submit="buscarDiagnostico(buscard1)">
                        <div class="input-list input-form">
                          <div class="input-field col s12">
                            <a href="javascript:void(0)" ng-click="buscarDiagnostico(buscard1)"><i
                                style="position: absolute; top: 16px; right: 6px;"
                                class="material-icons prefix">search</i></a>
                            <input id="diaginput" type="text" ng-model="buscard1" required>
                            <label for="diaginput">Diagnostico:</label>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div class="col s12" ng-hide="inactivebarradiag" style="max-height: 45vh;overflow-y: auto;">
                      <table class="table table-bordered table-striped">
                        <thead>
                          <tr>
                            <th style="text-align:center;">CODIGO</th>
                            <th>NOMBRE</th>
                            <th style="text-align:center;"><a href="javascript:void(0)">Diagnostico 1 </th>
                            <th style="text-align:center;"><a href="javascript:void(0)">Diagnostico 2 </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="diag in listDiagnosticos | filter: buscard1 as resultdiag">
                            <td style="text-align:center;">{{diag.Codigo}}</td>
                            <td>{{diag.Nombre}}</td>
                            <td>
                              <center>
                                <i ng-click="seleccionardiagnostico(diag,'P')" style="cursor:pointer;"
                                  class="material-icons prefix">check</i>
                              </center>
                            </td>
                            <td>
                              <center>
                                <i ng-click="seleccionardiagnostico(diag,'S')" style="cursor:pointer;"
                                  class="material-icons prefix">check</i>
                              </center>
                            </td>
                          </tr>
                          <tr ng-if="resultdiag.length==0">
                            <th class="center-align" colspan="4">No hay Resultados</th>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="modalips" class="modal" style="overflow: hidden;">
          <div class="modal-content" style="padding: 0px !important;">
            <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
              <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4" style="padding: 0">
                  <div class="col s11">
                    <h5 class="white-text">Ips</h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="closemodals('ips')"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="padding-bottom: 3px;border-top: 0">
                  <div class="row">
                    <div class="col s12">
                      <form ng-submit="buscarIps(buscard2)">
                        <div class="input-list input-form">
                          <div class="input-field col s12">
                            <a href="javascript:void(0)" ng-click="buscarIps(buscard2)"><i
                                style="position: absolute; top: 16px; right: 6px;"
                                class="material-icons prefix">search</i></a>
                            <input id="ipsinput" type="text" ng-model="buscard2" required>
                            <label for="ipsinput">Ips:</label>
                          </div>
                        </div>
                      </form>
                    </div>
                    <div class="col s12" ng-hide="inactivebarraips" style="max-height: 45vh;overflow-y: auto;">
                      <table class="table table-bordered table-striped">
                        <thead>
                          <tr>
                            <th style="text-align:center;">NIT</th>
                            <th>NOMBRE</th>
                            <th>DIRECCION</th>
                            <th style="text-align:center;"><a href="javascript:void(0)">Ips
                                Solicitante</th>                        
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="ips in listIps | filter:buscard2 as resultips">
                            <td style="text-align:center;">{{ips.Codigo}}</td>
                            <td>{{ips.Nombre}}</td>
                            <td>{{ips.Direccion}}</td>
                            <td>
                              <center>
                                <i ng-click="seleccionarips(ips,'S')" style="cursor:pointer;"
                                  class="material-icons prefix">check</i>
                              </center>
                            </td>                    
                          </tr>
                          <tr ng-if="resultips.length==0">
                            <th class="center-align" colspan="5">No hay Resultados</th>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="modalproducto" class="modal" style="overflow: hidden;">
          <div class="modal-content" style="padding: 0px !important;">
            <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
              <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4" style="padding: 0">
                  <div class="col s11">
                    <h5 class="white-text">Productos</h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="closemodals('producto')"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="padding-bottom: 3px;border-top: 0">
                  <div class="row">
                    <div class="col s12">
                      <div class="row">
                        <div class="col s12">
                          <form ng-submit="buscarProducto(buscarpro)" name="findpro" id="findproa">
                            <div class="input-list input-form">
                              <div class="input-field col s12">
                                <a href="javascript:void(0)" ng-click="buscarProducto(buscarpro)">
                                  <i style="position: absolute; top: 16px; right: 6px;"
                                    class="material-icons prefix">search</i></a>
                                <input id="proinput" type="text" ng-model="buscarpro" required>
                                <label for="proinput">Producto:</label>
                              </div>
                            </div>
                          </form>
                        </div>
                        <div class="col s12" ng-hide="inactivebarrapro" style="max-height: 45vh;overflow-y: auto;">
                          <table class="table table-bordered table-striped">
                            <thead>
                              <tr>
                                <th style="text-align:center;">Producto</th>
                                <th style="text-align:center;">Nombre</th>
                                <!-- <th style="text-align:center;">Valor</th> -->
                                <th style="text-align:center;"><a href="javascript:void(0)">Agregar</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr ng-repeat="pro in listProductos | filter:buscarpro as resultbuscarpro">
                                <td style="text-align:center;">{{pro.CODIGO}}</td>
                                <td style="text-align:center;">{{pro.NOMBRE}}</td>
                                <!-- <td style="text-align:center;">{{pro.VALOR}}</td> -->
                                <td>
                                  <center>
                                    <i ng-click="seleccionarproducto(pro)" style="cursor:pointer;"
                                      class="material-icons prefix">check</i>
                                  </center>
                                </td>
                              </tr>
                              <tr ng-if="resultbuscarpro.length==0">

                                <th class="center-align" colspan="5"> No hay Resultados</th>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="modalservicio" class="modal" style="overflow: hidden;">
          <div class="modal-content" style="padding: 0px !important;">
            <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
              <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4" style="padding: 0">
                  <div class="col s11">
                    <h5 class="white-text">Servicios</h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="closemodals('modalservicio')"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="padding-bottom: 3px;border-top: 0">
                  <div class="row">
                    <div class="col s12">
                      <form name="findpro" id="findproa">
                        <div class="input-list input-form">
                          <div class="input-field col s12">
                            <input id="servinput" type="text" ng-model="bservicio" required>
                            <label for="servinput">Servicio:</label>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col s12">
                      <div class="responsive" style="max-height: 45vh;overflow-y: auto;">
                        <table class="table table-bordered table-striped">
                          <thead>
                            <tr>
                              <th style="text-align:center;">Codigo</th>
                              <th style="text-align:center;">Nombre</th>
                              <th style="text-align:center;"><a href="javascript:void(0)">Agregar</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr ng-repeat="s in listServicios  | filter:bservicio as resultservicio">
                              <td style="text-align:center;">{{s.CODIGO}}</td>
                              <td style="text-align:center;">{{s.NOMBRE}}</td>
                              <td>
                                <center>
                                  <i ng-click="seleccionarservicio(s)" style="cursor:pointer;"
                                    class="material-icons prefix">check</i>
                                </center>
                              </td>
                            </tr>
                            <tr ng-if="resultservicio.length==0">
                              <th class="center-align" colspan="3">No hay Resultados</th>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="modalnovedades" class="modal" style="width: 50%!important; max-height: 100%;">
          <div class="modal-content" style="padding: 0px !important;">
            <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
              <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4" style="padding: 0;text-align: center;">
                  <div class="col s11">
                    <h5 class="white-text">Información Adicional del Afiliado</h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="closemodals('modalnovedades')"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="border-top: 0">
                  <div class="row">
                    <div class="col s12">
                      <blockquote class="display-flex noselectxtpqr" style="margin: 10px 0;">
                        <strong class="c-none">Datos del Afiliado {{datosAfiModalNov.NombreCompleto}}</strong>
                      </blockquote>
                      <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                        <div class="card-action" style="border-top: 0">
                          <table class="striped table-bordered" style="height:100px;">
                            <tr>
                              <td colspan="4"> <strong>UBICACION: </strong> {{datosAfiModalNov.Municipio}} -
                                {{datosAfiModalNov.Departamento}}</td>
                            </tr>
                            <tr>
                              <td colspan="4"> <strong>DIRECCION: </strong> {{datosAfiModalNov.DIRECCION}}</td>
                            </tr>
                            <tr>
                              <td colspan="4"> <strong>CONTACTO: </strong> {{datosAfiModalNov.Celular1}}</td>
                            </tr>
                            <tr>
                              <td> <strong>AFILIACION: </strong> {{datosAfiModalNov.FECHA_AFILIACION}}</td>
                              <td> <strong>RETIRO: </strong> {{datosAfiModalNov.FECHA_RETIRO==null? 'NO
                                  APLICA':datosAfiModalNov.FECHA_RETIRO}}</td>
                              <td> <strong>CAMBIO ESTADO: </strong> {{datosAfiModalNov.CAMBIO_ESTADO==null?
                                  'NO
                                  APLICA':datosAfiModalNov.CAMBIO_ESTADO}}</td>
                            </tr>
                            <tr ng-if="datosAfiModalNov.CodigoRegimen=='C'"
                              ng-repeat="d in datosAfiModalNov.EMPLEADOR track by $index">
                              <td> <strong>EMPLEADOR: </strong> {{d.Nit}} -
                                {{d.Razon}}</td>
                              <td style="text-align: center"> <strong>NIVEL: </strong> {{datosAfiModalNov.NIVEL}}</td>
                              <td style="text-align: center"><strong>INGRESO: </strong>
                                {{d.FechaInicio}} </td>
                              <td style="text-align: center"><strong>TIPO: </strong> {{d.TicNombre}} </td>
                              </td>
                            </tr>
                            <tr>
                              <th colspan="4" style="text-align: center;">RED DE PRIMER NIVEL</th>
                            </tr>
                            <tr>
                              <th colspan="2" style="text-align: center">ENTIDAD</th>
                              <th colspan="2" style="text-align: center">CLASE</th>
                            </tr>
                            <tr ng-repeat="c in capita">
                              <td colspan="2">
                                {{c.NIT}} - {{c.NOMBRE}}
                              </td>
                              <td colspan="2">
                                {{c.CLASE}}
                              </td>
                            </tr>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <style>
          .tab a:hover {
            background-color: #ddd !important;
            color: white !important;
          }

          /* Style the active class (and buttons on mouse-over) */
          .activebtn-step,
          .activebtn-step:hover {
            background-color: #2196f3 !important;
            color: white !important;
          }

          .step-item {
            height: 100px;
            width: 100px;
            border-radius: 100px;
            padding: 0px;
          }

          .donebtn-step,
          .donebtn-step:hover {
            background-color: #2196f3 !important;
            color: white !important;
          }

          .steper {
            width: 60%;
            display: inline-flex;
            text-align: center;
            padding-bottom: 10px;
            margin-left: 20%;
          }

          .step-divider {
            width: 100%;
            position: relative;
            top: 30px;
            margin-left: 0px;
            margin-right: 0px;
            margin-top: 20px;
          }

          .btn-step-content {
            position: relative;
            display: none;
            height: calc(100% - 132px);
            width: inherit;
            overflow: visible;
            margin-left: 41px;
            margin-right: 24px;
          }

          .step-option {
            background: #eee;
            height: 70px;
            position: absolute;
            bottom: -45px;
            width: 100%;
            margin-bottom: 6px;
            left: 0px;
            z-index: 2;
          }

          .back-step,
          .back-step:hover {
            margin-top: 7px;
            position: absolute;
            right: 80px;
            background: #ff4350 !important;
          }

          .flex {
            display: flex !important;
          }

          .btn-step {
            background-color: rgba(0, 0, 0, .3);
            color: white;
          }

          .hover-item:hover {
            background-color: rgba(221, 221, 221, 0.45);
          }

          .hover-item:active {
            background-color: rgba(221, 221, 221, 0.45);
          }

          .tabmenu>li:target>a {
            background-color: rgba(221, 221, 221, 0.45);
          }

          .requerido {
            color: red !important;
          }

          .tabactiva {
            background-color: rgba(206, 206, 206, 0.71);
          }

          .colorblack {
            color: black;
          }

          .itemsspam {
            color: white !important;
            border-radius: 12px !important;
            box-shadow: 2px 2px 3px 0px #ccc !important;
            position: relative !important;
            top: 5px !important;
            left: 11px !important;
            cursor: pointer;
          }

          .hovpanel:hover {
            background: #32364c2b;
            color: #ffa51b;
            cursor: pointer;
          }

          .mayus {
            text-transform: uppercase;
          }

          #header-fixed {
            position: fixed;
            top: 0px;
            display: none;
          }

          .cuadrado {
            width: 25vh;
            max-width: 240px;
            height: 25vh;
            max-height: 240px;
            position: relative;
            background: white;
            box-shadow: 0 0 8px 1px #c7c7c7;
          }

          .coloritem {
            color: black !important;
          }

          .autprocesada {
            background-color: #4CAF50 !important;
          }

          .autactiva {
            background-color: #ff9800 !important;
          }

          .switch label {
            font-weight: 600;
          }

          .switch label .lever.check-c {
            background-color: #818181 !important;
          }

          .switch label .lever.check-c:after {
            background-color: #26a69a;
          }

          .switch label>span.activo {
            color: #26a69a !important;
          }

          .text-center {
            text-align: center;
          }

          div#modaldetalle {
            top: 1% !important;
          }

          div#modalnovedades {
            top: 1% !important;
          }

          .outer {
            width: 1px;
            height: 100%;
            margin: auto;
            position: relative;
            overflow: hidden;
          }

          .inner {
            /* position: absolute; */
            width: 100%;
            height: 50vh;
            background: grey;
            top: 30%;
            box-shadow: 0px 0px 30px 20px grey;
          }

          .style-table-default {
            height: 350px;
            overflow: auto;
          }

          /* Style Scroll */
          .scrollTableDefault::-webkit-scrollbar {
            /* width */
            width: 5px;
          }

          .scrollTableDefault::-webkit-scrollbar-track {
            /* Track */
            background: #f1f1f1;
          }

          .scrollTableDefault::-webkit-scrollbar-thumb {
            /* Handle */
            background: #888;
          }

          .scrollTableDefault::-webkit-scrollbar-thumb:hover {
            /* Handle on hover */
            background: #555;
          }

          .swal2-container {
            z-index: 10000 !important;
          }

          #tautorizaciones_length,
          #tautorizaciones_filter,
          #tautorizacionespro_length,
          #tautorizacionespro_filter {
            margin-top: -150px;
          }

          #tautorizaciones_filter,
          #tautorizacionespro_filter {
            margin-right: 10px;
          }

          #tautorizacionespro {
            width: 100% !important;
          }

          #tautorizaciones_paginate,
          #tautorizacionespro_paginate {
            margin-top: 15px;
          }

          .clase-gray {
            color: #736a6a !important;
          }

          #modaldetalle.marca:after {
            content: "AUTORIZACIÓN NO VALIDA";
            font-size: 4em;
            color: rgba(195, 195, 195, 0.2);
            z-index: 9999;

            display: flex;
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;

            -webkit-pointer-events: none;
            -moz-pointer-events: none;
            -ms-pointer-events: none;
            -o-pointer-events: none;
            pointer-events: none;

            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
            -ms-transform: rotate(-45deg);
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
          }

          .marca {
            overflow: hidden;
          }
        </style>
      </div>
    </div>