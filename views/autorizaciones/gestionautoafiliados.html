<div id="gestionaut">
  <div class="row">
    <div class="col s12 m12 l12 magazine margin widgets-tabs">
      <div class="card-panel widgets-tabs col l12" style="margin-top: 0px; padding-bottom: 15px;padding-top: 15px;">
        <!-- <ul tabs reload="allTabContentLoaded" style="box-shadow: 0px 2px 2px #f3f3f3;">
          <li class="tab col s3" style="cursor: pointer;" ng-class="activeIcolor"><a style="border-top:0"
              ng-click="setTab('1');sumPrint = 0;" ng-class="activeI">Solicitudes de Autorizaciones</a></li>
          <li class="tab col s3" style="cursor: pointer;" ng-class="activeIVcolor"><a style="border-top:0"
              ng-click="setTab('4')" ng-class="activeIV">Consulta
              de Autorizacion</a></li>
        </ul> -->
        <div ng-show="tabI" class="col no-padding" style="width: 100%;">
          <div class="col s12 l12">
            <div class="card" style="box-shadow: none;border: 1px solid rgba(160, 160, 160, 0.2);">
              <div class="card-content" style="    display: flex;
                        justify-content: space-between;
                        align-items: center;">

                <h5>Seguimiento de Solicitudes</h5>
                <!-- <i class="icon-left-open-2" ng-hide="tab.number==0 || (tab.number==2 && viewseccional!='1')"
                  ng-click="retroceder();" style="cursor: pointer">Atras</i> -->
                <i class="icon-left-open-2" ng-hide="tab.number==0 || (tab.number==1 && viewseccional!='1')"
                  ng-click="retroceder();" style="cursor: pointer">LISTAR MUNICIPIOS</i>
              </div>
              <div class="card-action">
                <div class="row">
                  <div id="visitchart">
                    <div class="col s12">
                      <div ng-show="datadep.length==0">
                        <div style="display: flex;align-items: center;justify-content: center;">
                          <img src="./images/no_autorizaciones.png" style="height: 40vh;">
                        </div>
                        <div style="display: flex">
                          <a class="waves-effect waves-light trial  btn center-block valign"
                            ng-click="viewseccional == '1' ?  getdepartamentos(): validatecallIps()">REFRESCAR
                          </a>
                        </div>
                      </div>
                      <!-- <div ng-show="tab.number==0 && viewseccional=='1'"> -->
                        <div ng-show="tab.number==0">
                        <h5 style="margin: 0;text-align: center;padding-bottom: 20px;" ng-if="datadep.length>0">
                          Seccionales</h5>
                        <div class="row content-container server" style="padding: 0px;">
                          <div class="row margin">

                            <!-- <div class="col s12  l3" ng-repeat="s in datadep" ng-click="validatecall(s);"
                              style="cursor:pointer"> -->
                               <div class="col s12  l3" ng-repeat="s in datadep" ng-click="validatecall(s.codigo);"
                              style="cursor:pointer">
                              <div class="card">
                                <div class="card-content">
                                  <h5> {{s.cantidad}}
                                    <i class="zmdi zmdi-pin right default-color"></i>
                                  </h5>
                                  <div class="row">
                                    <h6>{{s.nombre}}</h6>
                                  </div>
                                  <div class="progress"
                                    style="height: 15px;display: flex;justify-content: center;background: #ddd;">
                                    <div class="determinate default-background"
                                      ng-style="{width: ((s.cantidad/sumtotal)*100) + '%'}">
                                    </div>
                                    <span style="font-size: 10px;font-weight: bold;z-index: 1"
                                      class="white-text">{{((s.cantidad/sumtotal)*100) | number:0}}%</span>
                                  </div>
                                  <p style="text-align: center;font-weight: bold;">
                                    <small>Solicitud de Autorizaciones</small>
                                  </p>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row margin right">
                            <b style="margin-right: 15px;">Total de Solicitudes: {{sumtotal}}</b>
                          </div>
                        </div>
                      </div>
                      <!-- <div ng-show="tab.number==1 && viewseccional=='1'"> -->
                      <div ng-show="tab.number==1">
                        <h5 style="margin: 0;text-align: center;padding-bottom: 20px;">Municipios</h5>
                        <div class="row content-container server" style="padding: 0px;">
                          <div class="row margin">
                            <div class="col s12 l3" ng-repeat="s in listaMunicipios" ng-click="validatecallIps(s);"
                              style="cursor:pointer">
                              <div class="card">
                                <div class="card-content">
                                  <h5> {{s.cantidad}}
                                    <i class="zmdi zmdi-pin right" style="color: orange"></i>
                                  </h5>
                                  <div class="row">
                                    <h6>{{s.nombre}}</h6>
                                  </div>
                                  <div class="progress"
                                    style="height: 15px;display: flex;justify-content: center;background: #ddd;">
                                    <div class="determinate orange"
                                      ng-style="{width: ((s.cantidad/sumtotals)*100) + '%'}">
                                    </div>
                                    <span
                                      style="font-size: 10px;font-weight: bold;z-index: 1">{{((s.cantidad/sumtotals)*100)
                                      | number:0}}%</span>
                                  </div>
                                  <p style="text-align: center;font-weight: bold;">
                                    <small>Solicitud de Autorizaciones Pendientes</small>
                                  </p>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row margin right">
                            <b style="margin-right: 15px;">Total de Solicitudes: {{sumtotals}}</b>
                          </div>
                        </div>
                      </div>
                      <div ng-show="tab.number==2">
                        <h5 style="margin: 0;text-align: center;padding-bottom: 20px;">Solicitudes del Municipio</h5>
                        <div class="row margin">
                          <div class="col s12 m6 l4">
                              <div class="card">
                                  <div class="card-content">
                                      <h5>{{datovencidas.dias_0_2}} Solicitudes
                                        <div class="right Con_pulse_A" style="background-color: rgb(3, 197, 20)!important;">
                                          <i class="zmdi zmdi-globe-alt  white-text" style="padding: 10px;display: flex;"></i>
                                        </div>
                                      </h5>
                                      <div class="row">
                                          <h6>Solicitudes Con menos de 2 Dias</h6>
                                      </div>
                                      <div class="progress teal lighten-4">
                                          <div class="determinate teal darken-2" style="width: 100%"></div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div class="col s12 m6 l4">
                              <div class="card">
                                  <div class="card-content">
                                      <h5>{{datovencidas.dias_3_4}} Solicitudes 
                                        <div class="right Con_pulse_B" style="background-color: rgb(245, 221, 0)!important;">
                                          <i class="zmdi zmdi-globe-alt  white-text" style="padding: 10px;display: flex;"></i>
                                        </div>
                                      </h5>
                                      <div class="row">
                                          <h6>Solicitudes de 3 a 4 Dias</h6>
                                      </div>
                                      <div class="progress orange lighten-4">
                                          <div class="determinate orange darken-2" style="width: 100%"></div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div class="col s12 m6 l4">
                              <div style="cursor: pointer;" ng-click="VerPendientes()" class="card">
                                  <div class="card-content">
                                      <h5>{{datovencidas.mas_5_dias}} Solicitudes 
                                        <div class="right Con_pulse_C" style="background-color: rgb(211, 47, 47)!important;">
                                          <i class="zmdi zmdi-alert-triangle  white-text" style="padding: 10px;display: flex;"></i>
                                        </div>
                                      </h5>
                                      <div class="row">
                                          <h6>Solicitudes Con mas de 5 Dias</h6>
                                      </div>
                                      <div class="progress red lighten-4">
                                          <div class="determinate red darken-2" style="width: 100%"></div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                        <div class="row" ng-hide="listaIps.length==0">
                          <input type="text" style="float: right;margin-bottom: 10px"
                            class="margin border-none input-text-new" ng-keyup="filterIps(filtroIps)"
                            ng-model="filtroIps" placeholder="Buscar">
                        </div>
                        <table class="responsive-table table-bordered striped" style="height:100px;">
                          <thead>
                            <tr>
                              <th style="text-align:center;">#</th>
                              <th style="text-align:center;">Municipio</th>
                              <th style="text-align:center;">TOTAL REGISTROS</th>
                              <th style="text-align:center;">PENDIENTES</th>
                              <th style="text-align:center;">GESTIONADAS</th>
                              <th style="text-align:center;">RECHAZADAS</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr
                              ng-repeat="i in listaIpsprogTemp | inicio: currentPageips * pageSizeips | limitTo: pageSizeips"
                              ng-hide="listaIpsprogTemp.length == 0">
                              <td style=" text-align:center;">
                                {{$index+1}}
                              </td>
                              <td style="text-align:center;">
                                {{i.nombre}}
                              </td>
                              <td style="text-align:center;">
                                {{i.cantidad}}
                              </td>
                              <td style="text-align:center;">
                                <div class="tooltip">
                                  <i class="icon-eye-4 fs-20 c-pointer" style="color: orange" ng-click="getAut(i,'P');">
                                    <span class="spancount default-background white-text">{{i.activo}}</span>
                                  </i>
                                  <span class="tooltiptext">Ver Pendientes</span>
                                </div>
                              </td>
                              <td style="text-align:center;">
                                <div class="tooltip">
                                  <i class="icon-ok-circled-1 fs-20 c-pointer" style="color: green"
                                    ng-click="getAut(i,'G');">
                                    <span class="spancount default-background white-text">{{i.procesado}}</span>
                                  </i>
                                  <span class="tooltiptext">Ver Gestionadas</span>
                                </div>
                              </td>
                              <td style="text-align:center;">
                                <div class="tooltip">
                                  <i class="icon-cancel-circled-3 fs-20 c-pointer" style="color: red"
                                    ng-click="getAut(i,'X');">
                                    <span class="spancount default-background white-text">{{i.rechazado}}</span>
                                  </i>
                                  <span class="tooltiptext">Ver Rechazadas</span>
                                </div>
                              </td>
                            </tr>
                            <tr ng-show="listaIpsprogTemp.length==0">
                              <td style="text-align: center" colspan="7">No hay ips con solicitudes pentiendes</td>
                            </tr>
                          </tbody>
                        </table>
                        <ul style="text-align: center;padding-top: 20px;" class="pagination">
                          <li><button ng-disabled='currentPageips == 0' class="btn-floating default-background"
                              ng-click="pasoips('back')">&laquo;</button></li>
                          <li ng-repeat='page in pagesips'><button ng-disabled='currentPageips == page.no - 1'
                              class="btn-floating default-background"
                              ng-click='setPageips(page.no)'>{{page.no}}</button></li>
                          <li><button ng-disabled='currentPageips >= listaIpsprogTemp.length/pageSizeips - 1'
                              class="btn-floating default-background" ng-click="pasoips('next')">&raquo;</button></li>
                        </ul>
                      </div>
                      <div ng-show="tab.number==3 && ocultaripstatus=='P'">
                        <div style="display: flex;align-items: center;justify-content: center;">
                          <img src="./images/no_autorizaciones.png" style="height: 40vh;">
                        </div>
                        <div style="display: flex">
                          <a class="waves-effect waves-light trial  btn center-block valign" style="margin-right: 10px;"
                            ng-click="callramdom();">Llamar Solicitud
                          </a>
                          <a class="waves-effect waves-light trial  btn center-block valign" style="margin-left: 10px;"
                            ng-click="validatecallIps();tab.number=2">VER SOLICITUDES
                          </a>
                        </div>
                      </div>
                    </div>
                    <div ng-show="tab.number==4">
                      <div class="row">
                        <input type="text" style="float: right" class="margin border-none input-text-new"
                          ng-keyup="filterAut(filtroSol)" ng-model="filtroSol" placeholder="Buscar Solicitud">
                      </div>
                      <div class="row">
                        <div class="col s12" style="padding: 0">
                          <table class="striped  responsive-table table-bordered" style="height:100px;">
                            <thead>
                              <tr>
                                <th style="text-align:center;">NUMERO</th>
                                <!-- <th style="text-align:center;">UBICACION</th> -->
                                <th style="text-align:center;">AFILIADO</th>
                                <th style="text-align:center;">DOCUMENTO</th>
                                <th style="text-align:center;">REGIMEN</th>
                                <th style="text-align:center;">FECHA SOLICITUD</th>
                                <th style="text-align:center;">ESTADO</th>
                                <th style="text-align:center;">ACCIÓN</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr
                                ng-repeat="s in listaSolicitudesprogTemp | inicio: currentPage * pageSize | limitTo: pageSize"
                                ng-hide="listaSolicitudesprogTemp.length == 0 ">
                                <td style="text-align:center;">{{s.NUMERO}}</td>
                                <!-- <td style="text-align:center;">{{s.UBICACION}}</td> -->
                                <td style="text-align:center;">{{s.NOMBRE_AFI}}</td>
                                <td style="text-align:center;">{{s.DOCUMENTO}}</td>
                                <td style="text-align:center;">{{s.REGIMEN}}</td>
                                <td style="text-align:center;">{{s.FECHA_SOLICITUD}}</td>
                                <td style="text-align:center;">
                                  <span class="status {{s.CLASE_ESTADO}} white-text">{{s.ESTADO}}</span>
                                </td>
                                <td style="text-align:center;">
                                  <div class="tooltip" ng-if="s.ESTADO=='PENDIENTE'">
                                    <i class="icon-cogs fs-20 c-pointer"
                                      ng-click="openmodals('modalgestionpro',1, s);"></i>
                                    <span class="tooltiptext">Gestionar</span>
                                  </div>
                                  <div class="tooltip" ng-if="s.ESTADO!='PENDIENTE'">
                                    <i ng-click="openmodals('modaldetalle',1, s);"
                                      class="fs-20 c-pointer material-icons">
                                      assignment_turned_in</i>
                                    <span class="tooltiptext">Detalle</span>
                                  </div>
                                </td>
                              </tr>
                              <tr ng-if="listaSolicitudesprogTemp.length==0">
                                <td colspan="12" style="text-align:center;font-size: 20px;">No hay Solicitudes</td>
                              </tr>
                            </tbody>
                          </table>
                          <ul style="text-align: center;padding-top: 20px;" class="pagination">
                            <li><button ng-disabled='currentPage == 0' class="btn-floating default-background"
                                ng-click="paso('back')">&laquo;</button></li>
                            <li ng-repeat='page in pages'><button ng-disabled='currentPage == page.no - 1'
                                class="btn-floating default-background" ng-click='setPage(page.no)'>{{page.no}}</button>
                            </li>
                            <li><button ng-disabled='currentPage >= listaSolicitudesprogTemp.length/pageSize - 1'
                                class="btn-floating default-background" ng-click="paso('next')">&raquo;</button></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div ng-show="tabIV" class="col no-padding" style="width: 100%;">
          <div class="col s12 l12">
            <div class="row" ng-hide="inactiveseccion4tab4">
              <div class="col s4">
                <i class="material-icons left" style="margin-top: 14px;">more_vert</i>
                <h5>Consultar Autorización</h5>
              </div>
              <div class="col s8" style="text-align: right; margin-top: 15px;">
                <div class="col s12 input-padding">
                  Tipos de busqueda :
                  <span>
                    <input class="with-gap" type="radio" ng-model="filterOptions" name="occurrences" value="AFILIADO"
                      id="afiliado" />
                    <label for="afiliado" ng-class="{'default-color': filterOptions=='AFILIADO' }"
                      style="height: 0!important">AFILIADO </label>
                  </span>
                  <span> <input class="with-gap" type="radio" ng-model="filterOptions" name="occurrences"
                      value="AUTORIZACION" id="autorizacion" />
                    <label style="height: 0!important" ng-class="{'default-color': filterOptions=='AUTORIZACION' }"
                      for="autorizacion">AUTORIZACION</label>
                  </span>
                  <span> <input class="with-gap" type="radio" ng-model="filterOptions" name="occurrences" value="IPS"
                      id="ips" />
                    <label style="height: 25px!important" ng-class="{'default-color': filterOptions=='IPS'}"
                      for="ips">IPS</label>
                  </span>
                </div>
              </div>
              <div class="col s12">
                <form ng-submit="buscarAutorizaciones(vdocafiliado,vnumeroaut,vubicacionaut,vnitips)">
                  <div class="col s12">
                    <div class="col s8 offset-s3" ng-show="filterOptions=='AFILIADO'">
                      <div class="input-field col m12 s12">
                        <i class="material-icons prefix" style="margin-top: 10px;">wc</i>
                        <input id="with_icon1" type="text" ng-model="vdocafiliado"
                          ng-required="check_option? true:false">
                        <label for="with_icon1">Documento</label>
                        Ingrese el documento del afiliado. Si no obtiene resultados puede intentar
                        buscar por sus
                        <a style="cursor: pointer;" ng-click="busquedaDetalles()"
                          title="Búsqueda por detalles del afiliado"> DATOS BASICOS</a>
                      </div>
                    </div>
                    <div class="col s4 offset-s3" ng-show="filterOptions=='AUTORIZACION'">
                      <div class="input-field col m12 s12">
                        <i class="material-icons prefix" style="margin-top: 10px;">dialpad</i>
                        <input id="numaut" type="text" ng-model="vnumeroaut">
                        <label for="numaut">Numero</label>
                      </div>
                    </div>
                    <div class="col s4" ng-show="filterOptions=='AUTORIZACION'">
                      <div class="input-field col m12 s12">
                        <i class="material-icons prefix" style="margin-top: 10px;">location_on</i>
                        <input id="ubicacion" type="text" ng-model="vubicacionaut">
                        <label for="ubicacion">Ubicación</label>
                      </div>
                    </div>
                    <div class="col s8 offset-s3" ng-show="filterOptions=='IPS'">
                      <div class="input-field col m12 s12">
                        <i class="material-icons prefix" style="margin-top: 10px;">dialpad</i>
                        <input id="nitips" type="text" ng-model="vnitips">
                        <label for="nitips">Nit IPS</label>
                      </div>
                    </div>
                    <div class="col s1">
                      <div class="input-field col m12 s12">
                        <button class="btn white-text" type="submit"
                          style="padding-right: 5px; padding-left: 5px; margin-top: 10px;"><i
                            style="position: relative;" class="material-icons prefix">search</i></button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <div class="col s12" style="padding-left: 0px; padding-right: 0px;" ng-hide="verAutorizaciones">
            <div class="charts" style="margin-top: 5em; margin-bottom: 0px;width: 99%;">
              <div class="card-content foot4"
                style="padding-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px;">
                <div class="col s11">
                  <h5 class="white-text">Solicitudes</h5>
                </div>
                <div class="col s1">
                  <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="limpiar('5')"
                      class="material-icons white-text">close</i></h5>
                </div>
              </div>
              <div class="card-action" style="padding-bottom: 3px;border-top: 0">
                <div class="row">
                  <div class="responsive" ng-hide="switchtable">
                    <table class="table table-bordered striped" id="tautorizacionespro">
                      <thead>
                        <tr>
                          <th style="text-align:center;">NUMERO</th>
                          <th style="text-align:center;">UBICACION</th>
                          <th style="text-align:center;">AFILIADO</th>
                          <th style="text-align:center;">IPS</th>
                          <th style="text-align:center;">SERVICIO</th>
                          <th style="text-align:center;">REGIMEN</th>
                          <th style="text-align:center;">FECHA ORDEN</th>
                          <th style="text-align:center;">FECHA ENTREGA</th>
                          <th style="text-align:center;">ESTADO</th>
                          <th style="text-align:center;">GESTION</th>
                          <th style="text-align:center;">ACCIÓN</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr ng-repeat="aut in listarAutorizacionesprog">
                          <td style="text-align:center;">{{aut.NUMERO}}</td>
                          <td style="text-align:center;">{{aut.UBICACION}}</td>
                          <td style="text-align:center;">{{aut.NOMBRE_AFI}}</td>
                          <td style="text-align:center;">{{aut.IPS}}</td>
                          <td style="text-align:center;">{{aut.CLASIFICACION}} - {{aut.NOM_CLASIFICACION}}</td>
                          <td style="text-align:center;">{{aut.REGIMEN}}</td>
                          <td style="text-align:center;">
                            {{aut.FECHA_ORDEN}}
                          </td>
                          <td style="text-align:center;">
                            {{aut.FECHA_ENTREGA}}
                          </td>
                          <td style="text-align:center;"><span style="width: 70px;"
                              class="status {{aut.CLASE_ESTADO}} white-text">{{aut.ESTADO}}</span>
                          </td>
                          <td style="text-align:center;"><span
                              class="status {{aut.CLASE_ESTADO}} white-text">{{aut.AUDITADA=='S' ? 'SI':'NO'}}</span>
                          </td>
                          <td style="text-align:center;">
                            <div class="tooltip">
                              <i style="cursor:pointer;font-size: 20px!important;"
                                ng-click="openmodals('modaldetalle',aut);sumPrint = 0;" class="material-icons">
                                assignment_turned_in</i>
                              <span class="tooltiptext">Detalle</span>
                            </div>
                            <div class="tooltip" ng-if="aut.ESTADO=='ACTIVA'">
                              <i class="icon-cogs fs-20 c-pointer" ng-click="openmodals('modalgestionpro',4, aut);"></i>
                              <span class="tooltiptext">Gestionar</span>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="modalgestionpro" class="modal" style="width: 90%!important; max-height: 90%;top:5%!important">
          <div class="modal-content" style="padding: 0px !important;">
            <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
              <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4" style="padding: 0;text-align: center;">
                  <div class="col s11">
                    <h5 class="white-text">Gestión De Solicitudes Afiliados - Solicitud {{tempAut.NUMERO}} -
                      {{tempAut.UBICACION}}</h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="closemodals('modalgestionpro')"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="border-top: 0">
                  <div class="row">
                    <div class="col s6" style="height: 70vh">
                      <div class="row">
                        <div class="col s4">
                          <span> <b>TIPO DE GESTIÓN:</b> </span>
                        </div>
                        <div class="col s8">
                          <div class="input-field col s12" style="padding:0">
                            <label for="check_gestion" style="margin-top: -20px;"> SOLICITUD: <span
                                style="color:red;">*</span>
                            </label>
                            <select ng-init="check_gestion =1" id="check_gestion" class="select-chosen-eps" ng-model="check_gestion"
                            ng-change="cambiarmotivos(check_gestion)">
                              <option value="">SELECCIONAR</option>
                              <option value=1>APROBAR</option>
                              <option value=2>NO REQUIERE AUTORIZACION</option>
                              <option value=3>RECHAZAR</option>
                            </select>
                          </div>
                          <!-- <div class="btn-panel switch">
                            <label>
                              RECHAZADO
                              <input type="checkbox" ng-init="check_gestion = true" ng-model="check_gestion">
                              <span class="lever"></span>
                              APROBACIÓN
                            </label>
                          </div> -->
                        </div>
                      </div>
                      <div class="row">
                        <div class="card-action" style="border-top: 0" ng-show="check_gestion == 1">
                          <div class="row">
                            <h5>Importante</h5>
                            <p>Al aprobar deberas generar la autorización para el afiliado.</p>
                            <p>Presionar Clic en el boton APROBAR para ser redirigido al módulo de autorizaciones.</p>
                          </div>
                        </div>
                        <!-- <div class="card-action" style="border-top: 0" ng-show="check_gestion == 2">
                          <div class="row">
                            <div class="input-field col s12" style="padding:0">
                              <label for="motivoanulacion" style="margin-top: -20px;"> Motivo: <span
                                  style="color:red;">*</span>
                              </label>
                              <select id="motivoanulacion" class="select-chosen-eps" ng-model="motivo">
                                <option value="">SELECCIONAR</option>
                                <option value="1">NO REQUIERE AUTORIZACION</option>
                                <option value="2">NO REQUIERE AUTORIZACION PERTENECE A UN PGP</option>
                              </select>
                            </div>
                            <div class="input-field col s12" style="padding:0">
                              <textarea id="observacion" class="materialize-textarea" ng-model="justificacion" style="max-height: 10em;
                                              overflow: auto;text-transform:uppercase"></textarea>
                              <label for="observacion">Justificación no requiere Autorizacion: <span style="color:red;">*</span></label>
                            </div>
                          </div>
                        </div> -->
                        <div class="card-action" style="border-top: 0" ng-show="check_gestion == 3 || check_gestion == 2">
                          <div class="row">
                            <div class="input-field col s12" style="padding:0">
                              <label for="motivoanulacion" style="margin-top: -20px;"> Motivo: <span
                                  style="color:red;">*</span>
                              </label>
                              <select id="motivoanulacion" class="select-chosen-eps" ng-model="motivo">
                                <option value="">SELECCIONAR</option>
                                <!-- <option value="1">NO REQUIERE AUTORIZACION</option>
                                <option value="2">NO REQUIERE AUTORIZACION PERTENECE A UN PGP</option> -->
                                <option ng-repeat="m in listMotivos" ng-value="m.CODIGO">{{m.NOMBRE}}
                                </option>
                              </select>
                            </div>
                            <div class="input-field col s12" style="padding:0">
                              <textarea id="observacion" class="materialize-textarea" ng-model="justificacion" style="max-height: 10em;
                                              overflow: auto;text-transform:uppercase"></textarea>
                              <label for="observacion">Justificación: <span style="color:red;">*</span></label>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row float-none text-center">
                        <button class="waves-effect waves-light btn white-text red" type="button"
                          ng-click="closemodals('modalgestionpro')">CANCELAR</button>
                        <button ng-show="check_gestion==1" class="waves-effect waves-light trial  btn center-block valign"
                          ng-click="savegestionprog();">APROBAR</button>
                        <button ng-show="check_gestion==2" class="waves-effect waves-light trial  btn center-block valign"
                          ng-click="saveanulacion();">GUARDAR</button>
                        <button ng-show="check_gestion==3" class="waves-effect waves-light trial  btn center-block valign"
                          ng-click="saveanulacion();">RECHAZAR</button>
                      </div>
                      <div class="row">
                        <div class="card-action" style="border-top: 0">
                          <div class="row">
                            <p><strong>Celular:</strong>{{tempAut.TELEFONO1}} - {{tempAut.TELEFONO2}}</p>
                            <p><strong>Correo:</strong> {{tempAut.CORREO}}</p>
                            <h5>Observación Afiliado</h5>
                            <p> {{tempAut.OBSERVACION}}</p>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col s6" style="height: 65vh;"
                      ng-style="{'display': (tempAut.TEMPADJUNTO=='' || tempAut.TEMPADJUNTO==null)? 'flex':''}">
                      <div class="row" style="text-align: center" ng-if="tempAut.TEMPADJUNTO">
                        <div class="col s12">                        
                          <span><b>{{tempAut.TEMPADJUNTO ? 'SOPORTE DE SOLICITUD':'SOLICITUD SIN SOPORTE'}}</b> </span>
                        </div>
                      </div>
                      <iframe ng-if="tempAut.TEMPADJUNTO" ng-src="{{tempAut.TEMPADJUNTO}}"
                        style="width:100%; height: 65vh;margin-bottom: 1em;" frameborder="0"></iframe>                
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="modaldetalle" class="modal" style="width: 90%!important; max-height: 90%;top:5%!important">
          <div class="modal-content" style="padding: 0px !important;">
            <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
              <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4" style="padding: 0;text-align: center;">
                  <div class="col s11">
                    <h5 class="white-text">Gestión De Solicitudes Afiliados - Solicitud {{detallesolicitud.NUMERO}} -
                      {{detallesolicitud.UBICACION}}</h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="closemodals('modaldetalle')"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="border-top: 0">
                  <div class="row">
                    <div class="col s12">
                      <table class="responsive-table table-bordered">
                        <thead>
                          <tr>
                            <th data-field="NOMBRE" class="center-align">NOMBRE</th>
                            <th data-field="Nombre" class="center-align">IDENTIFICACIÓN</th>
                            <th data-field="NACIMIENTO de Nacimiento" class="center-align">NACIMIENTO</th>
                            <th data-field="UBICACION" class="center-align">UBICACION</th>
                            <th data-field="GENERO" class="center-align">GENERO</th>
                            <th data-field="REGIMEN" class="center-align">REGIMEN</th>
                            <th data-field="EDAD" class="center-align">EDAD</th>
                            <th data-field="IPS ANTERIOR" class="center-align"
                              ng-if="infoafiliadoautedit.SUPERSALUD!='CajacopiEPS'">EPS ANTERIOR</th>
                            <th colspan="{{afirownumIV}}" data-field="AFILIADO" class="center-align">
                              AFILIADO</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td class="center-align">{{infoafiliadoautedit.NombreCompleto}}</td>
                            <td class="center-align">{{infoafiliadoautedit.TipoDocumento}} -
                              {{infoafiliadoautedit.Documento}}
                            </td>
                            <td class="center-align">{{infoafiliadoautedit.FechaNacimiento}}</td>
                            <td class="center-align">{{infoafiliadoautedit.Municipio}}</td>
                            <td class="center-align">{{infoafiliadoautedit.Sexo}}</td>
                            <td class="center-align">{{infoafiliadoautedit.Regimen}}</td>
                            <td class="center-align">{{edadautedit}} {{cantidadanosautedit}}</td>
                            <td class="center-align" ng-if="infoafiliadoautedit.SUPERSALUD!='CajacopiEPS'">
                              <span class="status purple"
                                style="text-transform: uppercase;">{{infoafiliadoautedit.SUPERSALUD}}</span>
                            </td>
                            <td class="center-align"><span class="status green">{{infoafiliadoautedit.Estado}}</span>
                            </td>

                            <td ng-show="infoafiliadoautedit.SINIESTRO == 'true'" class="center-align"><span
                                class="status orange">ALTO
                                COSTO</span></td>
                            <td ng-show="infoafiliadoautedit.TUTELA == 'true'" class="center-align"><span
                                class="status red">TUTELA</span></td>
                            <td ng-show="infoafiliadoautedit.PORTABILIDAD=='S'">
                              <span class="status light-blue">PORTABILIDAD</span>
                            </td>
                            <td ng-show="infoafiliadoautedit.ERROR_50=='true'" class="center-align">
                              <span class="status black" style="color:#fff">ERROR_50</span>
                            </td>
                            <td ng-if="infoafiliadoautedit.AFIC_T045=='S'" class="center-align">
                              <span class="status" style="color:#fff;background-color: #3f51b5;">SENTENCIA
                                T045</span>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col s6" style="height: 70vh">
                      <div class="row">
                        <div class="card-action" style="border-top: 0" ng-hide="!check_gestion">
                          <div class="row">                                                    
                            <p><b> Observación </b> <br> {{detallesolicitud.OBSERVACION}}</p>
                            <p ng-if="detallesolicitud.MOTIVO_ANULACION"><b> Motivo Anulación </b> <br>
                              {{detallesolicitud.MOTIVO_ANULACION}}</p>
                            <p><b>Estado</b> <br> <span
                              class="status {{detallesolicitud.CLASE_ESTADO}} white-text">{{detallesolicitud.ESTADO}}</span></p>
                             
                          </div>
                        </div>

                      </div>
                    </div>
                    <div class="col s6" style="height: 65vh;"
                      ng-style="{'display': (detallesolicitud.TEMPADJUNTO=='' || detallesolicitud.TEMPADJUNTO==null)? 'flex':''}">
                      <div class="row" style="text-align: center">
                        <div class="col s12">
                          <span><b>{{detallesolicitud.TEMPADJUNTO ? 'SOPORTE DE SOLICITUD':'SOLICITUD SIN SOPORTE'}}</b> </span>
                        </div>
                      </div>
                      <iframe ng-if="detallesolicitud.TEMPADJUNTO" ng-src="{{detallesolicitud.TEMPADJUNTO}}"
                        style="width:100%; height: 65vh;margin-bottom: 1em;" frameborder="0"></iframe>              
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- ------------------------------------------------------------------------ -->
        <div id="modalseguimiento" class="modal" style="width: 82%!important; max-height: 70%;top:5%!important">
          <div class="modal-content" style="padding: 0px !important;">
            <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
              <div  style="margin-top: 0px; margin-bottom: 0px;">
                <div class="card-content foot4" style="padding: 0;text-align: center;">
                  <div class="col s11">
                    <h5 class="white-text">Seguimiento Solicitudes Generadas Por los Afiliados</h5>
                  </div>
                  <div class="col s1">
                    <h5 style="text-align: end;"><i style="cursor:pointer;" ng-click="closemodals('modalseguimiento')"
                        class="material-icons white-text">close</i></h5>
                  </div>
                </div>
                <div class="card-action" style="border-top: 0">
                  <div class="row" ng-style="stylesrowsearch">
                    <div class="col s4">
                        <label for="coincidencia1" class="label">Búsqueda</label>
                        <input id="coincidencia1" type="text" ng-init="coincidencia1=''" ng-model="coincidencia1"
                            class="ng-pristine ng-valid ng-touched">
                    </div>
                </div>
                  <div class="row">
                    <div class="col s12" style="height: 60vh">
                      <table class="responsive-table table-bordered" style="height:100px;">
                        <thead>
                          <tr>
                            <th data-field="ESTADO" class="center-align">ESTADO</th>
                            <th data-field="FECHA_SOLICITUD" class="center-align">FECHA_SOLICITUD</th>
                            <th data-field="FECHA_SOLICITUD" class="center-align">DOCUMENTO</th>
                            <th data-field="FECHA_SOLICITUD" class="center-align">AFILIADO</th>
                            <th data-field="REGIMEN" class="center-align">REGIMEN</th>
                            <th data-field="OBSERVACION" class="center-align">OBSERVACION</th>
                            <th data-field="ADJUNTO" class="center-align">AUTORIZAR</th>
                            <th data-field="ADJUNTO" class="center-align">SOPORTES</th>
                            <th data-field="ADJUNTO" class="center-align">NO REQUIERE</th>
                            <th data-field="ADJUNTO" class="center-align">RECHAZAR</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr  ng-repeat="daofi in listaSolicitudesPendientes | filter:coincidencia1">
                            <td class="center-align">{{daofi.ESTADO}}</td>
                            <td class="center-align">{{daofi.FECHA_SOLICITUD}}</td>
                            <td class="center-align">{{daofi.TIPO_DOC}} - {{daofi.DOCUMENTO}}</td>
                            <td class="center-align">{{daofi.AFILIADO}}</td>
                            <td class="center-align">{{daofi.REGIMEN}}</td>
                            <td class="center-align">{{daofi.OBSERVACION}}</td>
                            <td class="center-align"> <center>
                              <i title="Visualizar Soporte" ng-click="savegenerarauto(daofi)"
                                style="cursor:pointer;font-size: 20px;" class="icon-check-3 prefix"></i>
                            </center></td>
                            <td class="center-align"> <center>
                              <i title="Visualizar Soporte" ng-click="verdocumentoabjunto(daofi.ADJUNTO, daofi.FTP)"
                                style="cursor:pointer;font-size: 20px;" class="icon-file-pdf prefix"></i>
                            </center></td>
                            <td class="center-align"> <center>
                              <i class="icon-box-1 fs-20 c-pointer" style="color: rgb(0, 132, 255)"
                                              ng-click="guardargestionrechazo(daofi,2)">
                                            </i>
                            </center></td>
                            <td class="center-align"> <center>
                              <i class="icon-cancel-circled-3 fs-20 c-pointer" style="color: red"
                                              ng-click="guardargestionrechazo(daofi,3)">
                                            </i>
                            </center></td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- ------------------------------------------------------------------------ -->
      </div>
      <style>
        .tab a:hover {
          background-color: #ddd !important;
          color: white !important;
        }

        /* Style the active class (and buttons on mouse-over) */
        .activebtn-step,
        .activebtn-step:hover {
          background-color: #2196f3 !important;
          color: white !important;
        }

        .step-item {
          height: 100px;
          width: 100px;
          border-radius: 100px;
          padding: 0px;
        }

        .donebtn-step,
        .donebtn-step:hover {
          background-color: #2196f3 !important;
          color: white !important;
        }

        .steper {
          width: 60%;
          display: inline-flex;
          text-align: center;
          padding-bottom: 10px;
          margin-left: 20%;
        }

        .step-divider {
          width: 100%;
          position: relative;
          top: 30px;
          margin-left: 0px;
          margin-right: 0px;
          margin-top: 20px;
        }

        .btn-step-content {
          position: relative;
          display: none;
          height: calc(100% - 132px);
          width: inherit;
          overflow: visible;
          margin-left: 41px;
          margin-right: 24px;
        }

        .step-option {
          background: #eee;
          height: 70px;
          position: absolute;
          bottom: -45px;
          width: 100%;
          margin-bottom: 6px;
          left: 0px;
          z-index: 2;
        }

        .back-step,
        .back-step:hover {
          margin-top: 7px;
          position: absolute;
          right: 80px;
          background: #ff4350 !important;
        }

        .flex {
          display: flex !important;
        }

        .btn-step {
          background-color: rgba(0, 0, 0, .3);
          color: white;
        }

        .hover-item:hover {
          background-color: rgba(221, 221, 221, 0.45);
        }

        .hover-item:active {
          background-color: rgba(221, 221, 221, 0.45);
        }

        .tabmenu>li:target>a {
          background-color: rgba(221, 221, 221, 0.45);
        }

        .requerido {
          color: red !important;
        }

        .tabactiva {
          background-color: rgba(206, 206, 206, 0.71);
        }

        .colorblack {
          color: black;
        }

        .itemsspam {
          color: white !important;
          border-radius: 12px !important;
          box-shadow: 2px 2px 3px 0px #ccc !important;
          position: relative !important;
          top: 5px !important;
          left: 11px !important;
          cursor: pointer;
        }

        .hovpanel:hover {
          background: #32364c2b;
          color: #ffa51b;
          cursor: pointer;
        }

        .mayus {
          text-transform: uppercase;
        }

        #header-fixed {
          position: fixed;
          top: 0px;
          display: none;
        }

        .cuadrado {
          width: 25vh;
          max-width: 240px;
          height: 25vh;
          max-height: 240px;
          position: relative;
          background: white;
          box-shadow: 0 0 8px 1px #c7c7c7;
        }

        .coloritem {
          color: black !important;
        }

        .autprocesada {
          background-color: #4CAF50 !important;
        }

        .autactiva {
          background-color: #ff9800 !important;
        }

        .switch label {
          font-weight: 600;
        }

        .switch label .lever.check-c {
          background-color: #818181 !important;
        }

        .switch label .lever.check-c:after {
          background-color: #26a69a;
        }

        .switch label>span.activo {
          color: #26a69a !important;
        }

        .text-center {
          text-align: center;
        }

        div#modaldetalle {
          top: 1% !important;
        }

        .outer {
          width: 1px;
          height: 100%;
          margin: auto;
          position: relative;
          overflow: hidden;
        }

        .inner {
          /* position: absolute; */
          width: 100%;
          height: 50vh;
          background: grey;
          top: 30%;
          box-shadow: 0px 0px 30px 20px grey;
        }

        .style-table-default {
          height: 350px;
          overflow: auto;
        }

        /* Style Scroll */
        .scrollTableDefault::-webkit-scrollbar {
          /* width */
          width: 5px;
        }

        .scrollTableDefault::-webkit-scrollbar-track {
          /* Track */
          background: #f1f1f1;
        }

        .scrollTableDefault::-webkit-scrollbar-thumb {
          /* Handle */
          background: #888;
        }

        .scrollTableDefault::-webkit-scrollbar-thumb:hover {
          /* Handle on hover */
          background: #555;
        }

        .swal2-container {
          z-index: 10000 !important;
        }

        #tautorizaciones_length,
        #tautorizaciones_filter,
        #tautorizacionespro_length,
        #tautorizacionespro_filter {
          margin-top: -150px;
        }

        #tautorizaciones_filter,
        #tautorizacionespro_filter {
          margin-right: 10px;
        }

        #tautorizacionespro {
          width: 100% !important;
        }

        #tautorizaciones_paginate,
        #tautorizacionespro_paginate {
          margin-top: 15px;
        }

        .clase-gray {
          color: #736a6a !important;
        }

        .spancount {
          position: absolute;
          font-size: 10px;
          height: 15px;
          width: auto;
          min-height: 15px;
          min-width: 20px;
          border-radius: 50%;
          top: 10px;
          left: 20px;
          font-weight: bold;
          display: flex;
          justify-content: center;
          align-items: center;
        }

        .d-flex {
          display: flex;
          justify-content: center;
          align-items: center;
        }


        .Con_pulse_A {
      border-radius: 50%;
      color: #FFF;
      animation: animate-pulse_A 5s linear infinite;
      cursor: pointer;
    }

    @keyframes animate-pulse_A {
      0% {
        box-shadow: 0 0 0 0 rgba(3, 197, 20, 0.7), 0 0 0 0 rgba(3, 197, 20, 0.7);
      }

      40% {
        box-shadow: 0 0 0 15px rgba(3, 197, 20, 0.0), 0 0 0 0 rgba(3, 197, 20, 0.7);
      }

      80% {
        box-shadow: 0 0 0 0 rgba(3, 197, 20, 0.0), 0 0 0 15px rgba(3, 197, 20, 0);
      }

      100% {
        box-shadow: 0 0 0 0 rgba(3, 197, 20, 0.0), 0 0 0 0 rgba(3, 197, 20, 0);
      }
    }
        .Con_pulse_B {
      border-radius: 50%;
      color: #FFF;
      animation: animate-pulse_B 5s linear infinite;
      cursor: pointer;
    }

    @keyframes animate-pulse_B {
      0% {
        box-shadow: 0 0 0 0 rgba(245, 221, 0, 0.7), 0 0 0 0 rgba(245, 221, 0, 0.7);
      }

      40% {
        box-shadow: 0 0 0 15px rgba(245, 221, 0, 0.0), 0 0 0 0 rgba(245, 221, 0, 0.7);
      }

      80% {
        box-shadow: 0 0 0 0 rgba(245, 221, 0, 0.0), 0 0 0 15px rgba(245, 221, 0, 0);
      }

      100% {
        box-shadow: 0 0 0 0 rgba(245, 221, 0, 0.0), 0 0 0 0 rgba(245, 221, 0, 0);
      }
    }
        .Con_pulse_C {
      border-radius: 50%;
      color: #FFF;
      animation: animate-pulse_C 5s linear infinite;
      cursor: pointer;
    }

    @keyframes animate-pulse_C {
      0% {
        box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.7), 0 0 0 0 rgba(211, 47, 47, 0.7);
      }

      40% {
        box-shadow: 0 0 0 15px rgba(211, 47, 47, 0.0), 0 0 0 0 rgba(211, 47, 47, 0.7);
      }

      80% {
        box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.0), 0 0 0 15px rgba(211, 47, 47, 0);
      }

      100% {
        box-shadow: 0 0 0 0 rgba(211, 47, 47, 0.0), 0 0 0 0 rgba(211, 47, 47, 0);
      }
    }
      </style>
    </div>
  </div>