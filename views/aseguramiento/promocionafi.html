<div class="white newdesing" id="pantalla">
    <style>
      .newdesing .content-container {
        min-height: 0;
      }
    </style>
    <div class="row section-header margin">
      <ul class="left mailbox-custom-search list-inline w-100 d-flex justify-content-between align-items-center">
        <li id="inicio">
          <h5 class="cursor-pointer"
            style="font-family: 'Product Sans',Arial,sans-serif;font-size: 22px;line-height: 22px;opacity: .54;margin: 9px 0"
            onclick="location.reload();">
            <spam>
                <h5 class="fontello-icon">Promocion Afic
                </h5>
            </spam>
          </h5>
        </li>
      </ul>
    </div>
    <div id="Form" class="card-content clearfix card"
    style="width: 95%;margin: 1rem auto auto auto;border-radius: 15px;">
<!-- //////////////////////////////////////////////////Seleccionar TAB //////////////////////////////// -->
<div class="Hoja_2">
    <div class="row" style="width: 25%;">
    <ul class="tabs nav" style="background-color: transparent;margin: .5vh;width: 99%;overflow: hidden;">
      <li class="tab col w-auto active"><a  class="active"><strong
            style=" font-weight: bold;">REGISTRAR PROMOCION</strong></a>
      </li>
      <div  class="tooltip" >
        <i izes class="fontello-icon icon-list" ng-click="abrirmodalseguimientopromocion()"></i>
        <span class="tooltiptext" style="font-size: 18px;width: 60px;margin-left: -30px;">Asignar Permisos</span>
      </div>
    </ul>
</div>
</div>
<!-- //////////////////////////////////////////////////////////////////////////////////////////////////// -->

    <div>
      <div class="row" style="margin-bottom: 13;width: 98%;margin-top: 1rem;">
        <div style="padding:0px">
            <div class="card-content clearfix" style="padding-bottom:0px">
                <div class="col s12">
                    <div ng-show="verbusqueda" class="row">
                        <div class="col l4 m4 s4" style="padding-left: 20px; padding-right: 0px;">
                            <label style="padding-left: 25%;">Seleccione Tipo Documento *</label>
                              <select ng-model="buscar_tipo_documento"  
                                  style="display: flex;border: 1px solid #dee2e6; border-radius: 0.25rem;">
                                  <option value="" ng-disabled="true">Seleccionar Tipo Documento</option>
                                  <option ng-repeat="tipodocumento in Tipos_Documentos | orderBy:'NOMBRE'" value="{{tipodocumento.CODIGO}}">{{tipodocumento.NOMBRE}} - [{{tipodocumento.CODIGO}}]</option>
                              </select>
                          </div>
                        <div class="col l4 m4 s4">
                            <label style="padding-left: 35%;">Numero Documento</label>
                            <div class="col s12 ">
                                <input ng-model="buscar_numero" id="buscar_numero" type="number" style="border: 1px solid #dee2e6;
                                border-radius: 0.25rem;
                                background-color: #fff;
                                background-clip: padding-box;
                                padding: 0 1em;" class="ng-pristine ng-valid ng-animate ng-valid-max-add ng-valid-max ng-valid-max-add-active ng-touched" >
                            </div>
                        </div>
                          <div class="col l4 m4 s4">
                            <div class="col s12">
                                <button class="btn white-text blue buscarafi" ng-click="validarafiliado()">Buscar</button>
                            </div>
                        </div>
                    </div>

                    <form ng-show="verformulario" id="busafi" class="row" ng-submit="Registrar_Promocion()"
                        style="margin-bottom: 10px !important;">
                            <form class="col s12">
                                <div class="row">
                                    <div class="col l4 m4 s4" style="padding-left: 20px; padding-right: 0px;">
                                        <label style="padding-left: 25%;" id="tipodocumento1">Seleccione Tipo Documento *</label>
                                        <div ng-init="datosRG.tipo_doc=0">
                                          <select ng-model="datosRG.tipo_doc"  ng-disabled="deshabilitarcampo"
                                              style="display: flex;border: 1px solid #dee2e6; border-radius: 0.25rem;">
                                              <option value="0" disabled>Seleccionar Tipo Documento</option>
                                              <option ng-selected="tipodocumento.CODIGO == datosRG.tipo_doc" ng-repeat="tipodocumento in Tipos_Documentos | orderBy:'NOMBRE'" value="{{tipodocumento.CODIGO}}">{{tipodocumento.NOMBRE}} - [{{tipodocumento.CODIGO}}]</option>
                                          </select>
                                          </div>
                                      </div>
                                      <div class="col l4 m4 s4">
                                        <label style="padding-left: 32%;" id="numero_doc1">Numero de Documento *</label>
                                        <div class="col s12 ">
                                            <input ng-readonly="deshabilitarcampo1" id="numero_doc" ng-model="datosRG.numero_doc" type="text" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;">
                                           
                                        </div>
                                    </div>
                                    <div class="col l4 m4 s4">
                                        <label style="padding-left: 32%;" id="codigo_sat1">Codigo SAT *</label>
                                        <div class="col s12 ">
                                            <input  id="codigo_sat" ng-model="datosRG.codigo_sat" type="text" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;">
                                           
                                        </div>
                                    </div>
                                    <!-- <div class="col l3 m3 s3">
                                        <label style="padding-left: 35%;" id="fecha_nacimiento1">Fecha Nacimiento *</label>
                                        <div class="col s12 ">
                                            <input id="fecha_nacimiento" ng-model="datosRG.fecha_nacimiento" type="date" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;">
                                        </div>
                                    </div>
                                    <div class="col l3 m3 s3">
                                        <label style="padding-left: 35%;" id="fechaexp1">Fecha Exp *</label>
                                        <div class="col s12 ">
                                            <input id="fechaexp" ng-model="datosRG.fechaexp" type="date" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;">
                                        </div>
                                    </div> -->
                                </div>
                                <!-- <div class="row">
                                      <div class="col l3 m3 s3">
                                        <label style="padding-left: 37%;" id="pnombre1">Primer Nombre *</label>
                                        <div class="col s12 ">
                                            <input id="pnombre" ng-model="datosRG.pnombre" maxlength="20" type="text" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;text-transform:uppercase;">
                                        </div>
                                    </div>
                                      <div class="col l3 m3 s3">
                                        <label style="padding-left: 35%;">Segundo Nombre</label>
                                        <div class="col s12 ">
                                            <input id="snombre" ng-model="datosRG.snombre" maxlength="20" type="text" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;text-transform:uppercase;">
                                        </div>
                                    </div>
                                      <div class="col l3 m3 s3">
                                        <label style="padding-left: 35%;" id="papellido1">Primer Apellido *</label>
                                        <div class="col s12 ">
                                            <input id="papellido" ng-model="datosRG.papellido" maxlength="20" type="text" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;text-transform:uppercase;">
                                        </div>
                                    </div>
                                      <div class="col l3 m3 s3">
                                        <label style="padding-left: 35%;" id="sapellido1">Segundo Apellido *</label>
                                        <div class="col s12 ">
                                            <input id="sapellido" ng-model="datosRG.sapellido" maxlength="20" type="text" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;text-transform:uppercase;">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col l3 m3 s3" style="padding-left: 20px; padding-right: 0px;">
                                        <label style="padding-left: 43%;" id="sexo1">Sexo *</label>
                                          <select ng-model="datosRG.sexo"  
                                              style="display: flex;border: 1px solid #dee2e6; border-radius: 0.25rem;">
                                              <option value="" ng-disabled="true">SELECCIONAR</option>
                                                <option value="M" >MASCULINO</option>
                                                <option value="F">FEMENINO</option>
                                          </select>
                                      </div>
                                      <div class="col l3 m3 s3" style="padding-left: 20px; padding-right: 0px;">
                                        <label style="padding-left: 35%;" id="tipo_sangre1">Tipo de Sangre *</label>
                                          <select ng-model="datosRG.tipo_sangre"  
                                              style="display: flex;border: 1px solid #dee2e6; border-radius: 0.25rem;">
                                              <option value="" ng-disabled="true">SELECCIONAR</option>
                                                <option value="O" >O</option>
                                                <option value="A">A</option>
                                                <option value="B" >B</option>
                                                <option value="AB">AB</option>
                                          </select>
                                      </div>
                                      <div class="col l3 m3 s3" style="padding-left: 20px; padding-right: 0px;">
                                        <label style="padding-left: 43%;" id="tipo_rh1">Tipo RH *</label>
                                          <select ng-model="datosRG.tipo_rh"  
                                              style="display: flex;border: 1px solid #dee2e6; border-radius: 0.25rem;">
                                              <option value="" ng-disabled="true">SELECCIONAR</option>
                                                <option value="-" >Negativo</option>
                                                <option value="+">Positivo</option>
                                          </select>
                                      </div>
                                      <div class="col l3 m3 s3" style="padding-left: 20px; padding-right: 0px;">
                                        <label style="padding-left: 28%;" id="condicion_salud1">Condicion de Salud *</label>
                                          <select ng-model="datosRG.condicion_salud"  
                                              style="display: flex;border: 1px solid #dee2e6; border-radius: 0.25rem;">
                                              <option value="" ng-disabled="true">SELECCIONAR</option>
                                                <option value="1" selected>Afiliados con algún tipo de limitación física o motora</option>
                                                <option value="2">Casos de violencia de genero y violencia sexual</option>
                                                <option value="3">Hipertensión y diabetes</option>
                                                <option value="4">Mujeres gestantes y etapa de postparto</option>
                                                <option value="5">Personas que requieren acompañamiento psicológico</option>
                                                <option value="6">Personas afectadas por el conflicto armado</option>
                                                <option value="7">Ninguna de las Anterios</option>
                                          </select>
                                      </div>
                                </div>
                                <div class="row">
                                    <div class="col l6 m6 s6" style="padding-left: 20px; padding-right: 0px;">
                                        <label  style="padding-left: 30%;" id="departamento1">Seleccione el Departamento *</label>
                                        <div ng-init="datosRG.departamento=0">
                                          <select ng-model="datosRG.departamento"
                                          ng-change="lista_municipio_change(datosRG.departamento)"
                                              style="display: flex;border: 1px solid #dee2e6; border-radius: 0.25rem;">
                                              <option value="0">Seleccionar Departamento</option>
                                              <option ng-selected="dp.CODIGO == datosRG.departamento" ng-repeat="dp in departamentoselect | orderBy:'NOMBRE'" value="{{dp.CODIGO}}">{{dp.NOMBRE}} - [{{dp.CODIGO}}]</option>
                                          </select>
                                        </div>
                                      </div>
                                    <div class="col l6 m6 s6" style="padding-left: 20px; padding-right: 0px;">
                                        <label style="padding-left: 30%;" id="municipio1">Seleccione el Municipio *</label>
                                        <div ng-init="datosRG.municipio=0">
                                          <select ng-model="datosRG.municipio"  
                                              style="display: flex;border: 1px solid #dee2e6; border-radius: 0.25rem;">
                                              <option value="0">Seleccionar Municipio</option>
                                              <option ng-selected="mc.CODIGO == datosRG.municipio" ng-repeat="mc in municipioselect | orderBy:'NOMBRE'" value="{{mc.CODIGO}}">{{mc.NOMBRE}} - [{{mc.CODIGO}}]</option>
                                          </select>
                                      </div>
                                      </div>
                                </div>
                                <div class="row">
                                    <div class="col l3 m3 s3">
                                        <label style="padding-left: 45%;">Barrio</label>
                                        <div class="col s12 ">
                                            <input id="barrio" ng-model="datosRG.barrio" type="text" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;text-transform:uppercase;">
                                        </div>
                                    </div>
                                    <div class="col l3 m3 s3 tooltip">
                                            <span class="tooltiptext" >Ej: Carrera 4 # 32-45</span>
                                        <label style="padding-left: 35%;" id="direccion1">Direccion *</label>
                                        <div class="col s12 ">
                                            <input id="datosRG.direccion" ng-model="datosRG.direccion" type="text" style="border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;">
                                        </div>
                                    </div>
                                  <div class="col l3 m3 s3">
                                    <label style="padding-left: 35%;" ng-class="(datosRG.celular.length >= 7 && datosRG.celular.length <= 16) ? 'green-text' : 'red-text'" id="celular1">Telefono o Celular *</label>
                                    <div class="col s12 ">
                                        <input id="celular" ng-model="datosRG.celular" type="text" style="border: 1px solid #dee2e6;
                                        border-radius: 0.25rem;
                                        background-color: #fff;
                                        background-clip: padding-box;
                                        padding: 0 1em;" ng-keyup="FormatSoloNumeroCelular('celular')" minlength="7" maxlength="16" autocomplete="off">
                                    </div>
                                </div>
                                    <div class="col l3 m3 s3">
                                      <label style="padding-left: 45%;">Correo</label>
                                      <div class="col s12 ">
                                          <input id="correo" ng-model="datosRG.correo" type="email" style="border: 1px solid #dee2e6;
                                          border-radius: 0.25rem;
                                          background-color: #fff;
                                          background-clip: padding-box;
                                          padding: 0 1em;text-transform:uppercase;">
                                      </div>
                                  </div>
                              </div> -->
                              <div class="row">
                                <div class="col l6 m6 s6">
                                    <div class="col s12">
                                        <button class="btn white-text blue"
                                        style="background:linear-gradient(to bottom left,#5870ae,#1a2e63,#5870ae);width: 100%;"
                                            type="submit">Guardar Registro</button>
                                    </div>
                                </div>
                                        <div class="col l6 m6 s6">
                                            <div class="col s12">
                                                <a class="btn white-text blue"
                                                style="background:linear-gradient(to bottom left,#ae5858,#631a1a,#ae5858);width: 100%;"
                                                   ng-click="cancelarregistro()">Cancelar Registro</a>
                                            </div>
                                        </div>
                                    </div>
                              
                            </form>
                    </form>
                </div>
            </div>
        </div>
       

 
      </div>
    </div>
   
  </div>


<!-- //////////////////////////////////////////////////////////////////////modal admin reporte gestion genesis////////////////////////////////// -->
<div id="modalhistorico" class="modal" style="overflow: hidden;width: 70%;">
    <div class="modal-content" style="padding: 0px !important;">
        <div class="col s12" style="padding-left: 0px; padding-right: 0px;">
            <div class="card charts" style="margin-top: 0px; margin-bottom: 0px;">
                <div class="col s12 m12 l12 card margin" style="padding-right: 0px; padding-left: 0px;">
                    <div class="foot4 divcardcustom default-linear-gradient" style="border-radius: 0px;">
                        <div class="text-al divcardcustom2">
                            <strong class="switch" style="font-weight:600">Listado de Afiliados Registrados
                                ({{listadoseguimiento.length}})</strong>
                            <div class="tooltip" style="margin-left: 70%;">
                                <i style="cursor:pointer;" ng-click="closemodals('modalhistorico')"
                                    class="material-icons white-text">close</i>
                                <span class="tooltiptext"
                                    style="font-size: 12px;width: 60px;margin-left: -30px;">Cerrar</span>
                            </div>
                        </div>
                    </div>
                    <div class="tooltip" data-position="top" style="padding-left: 1%;">
                        <i ng-click="descarga()" class="fo fontello-icon  icon-file-excel"
                            style="font-size: 28px;"></i>
                        <span class="tooltiptext" style="   background-color: #9095a254;
                                                color: #131313;
                                                border-radius: 9px;
                                                border-bottom: 1px solid;">
                            Descargar</span>
                    </div>
                    <div class="row">
                        <div class="col l4 m4 s4">
                            <label style="padding-left: 35%;">Fecha Inicio</label>
                            <div class="col s12 ">
                                <input ng-model="fecha_inicio" max="{{sysdate | date:'yyyy-MM-dd'}}" type="date" style="border: 1px solid #dee2e6;
                                border-radius: 0.25rem;
                                background-color: #fff;
                                background-clip: padding-box;
                                padding: 0 1em;">
                            </div>
                        </div>
                        <div class="col l4 m4 s4">
                            <label style="padding-left: 35%;">Fecha Fin</label>
                            <div class="col s12 ">
                                <input ng-model="fecha_fin"  max="{{sysdate | date:'yyyy-MM-dd'}}" type="date" style="border: 1px solid #dee2e6;
                                border-radius: 0.25rem;
                                background-color: #fff;
                                background-clip: padding-box;
                                padding: 0 1em;">
                            </div>
                        </div>
                          <div class="col l4 m4 s4">
                            <div class="col s12">
                                <button class="btn white-text blue"
                                style="background:linear-gradient(to bottom left,#5870ae,#1a2e63,#5870ae);width: 100%;margin-top: 26px;"
                                   ng-click="seguimientopromocion()" >Generar Reporte</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-action" id="card-action"
                        style="overflow: auto;display: inline-block;width: 100%;height: 100%;padding-bottom: 0;">
                        <div class="col s12">
                            <div style="max-height: 48vh;overflow:auto;border: 2px solid;" class="default-color">
                                <table id="tableseguimiento" class=" highlight" style="width:100%;color: black;">
                                    <thead class="default-linear-gradient">
                                        <th class="center" style="cursor:pointer">#</th>
                                        <th class="center" style="cursor:pointer">TIPO DOCUMENTO<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer">NUMERO<span class="sortorder2"></span></th>
                                        <!-- <th class="center" style="cursor:pointer">NOMBRE<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer" ng-show="tipo_gestion != 'A'">FECHA NACIMIENTO<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer" ng-show="tipo_gestion != 'A'">SEXO<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer">TIPO SANGRE<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer">RH<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer">DEPARTAMENTO<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer">MUNICIPIO<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer">DIRECCION<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer">BARRIO<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer">TELEFONO<span class="sortorder2"></span></th> -->
                                        <th class="center" style="cursor:pointer">CODIGO SAT<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer" ng-show="tipo_gestion != 'A'">RESPONSABLE<span class="sortorder2"></span></th>
                                        <th class="center" style="cursor:pointer">ACCION<span class="sortorder2"></span></th>
                                    </thead>
                                    <tbody>
                                        <tr class="cursor-pointer"
                                            ng-repeat="x in listadoseguimiento | filter:filtroseguimiento">
                                            <td class="center">{{$index + 1}}</td>
                                            <td class="center">{{x.TIPODOCUMENTO}}</td>
                                            <td class="center">{{x.DOCUMENTO}}</td>
                                            <!-- <td class="center">{{x.NOMBRE1}} {{x.NOMBRE2}} {{x.APELLIDO1}} {{x.APELLIDO2}}</td>
                                            <td class="center" ng-show="tipo_gestion != 'A'">{{x.FNACIMIENTO}}</td>
                                            <td class="center" ng-show="tipo_gestion != 'A'">{{x.SEXO}}</td>
                                            <td class="center" >{{x.TSANGREE}}</td>
                                            <td class="center" >{{x.FRH}}</td>
                                            <td class="center">{{x.NDEPARTAMENTO}}</td>
                                            <td class="center">{{x.NMUNICIPIO}}</td>
                                            <td class="center">{{x.DIRECCION}}</td>
                                            <td class="center">{{x.BARRIO}}</td>
                                            <td class="center">{{x.TELEFONO}}</td> -->
                                             <td class="center">{{x.CODIGO_SAT}}</td>
                                             <td class="center" ng-show="tipo_gestion != 'A'">{{x.NREPONSABLE}}</td>
                                             <td class="center">
                                                
                                                    <i title="Eliminar Afiliado" ng-click="eliminarAfi(x)"
                                                      style="cursor:pointer;font-size: 22px;" class="icon-block-5 prefix"></i>
                                                  
                                             </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

    <style>
    
    .buscarafi{
        background:linear-gradient(to bottom left,#5870ae,#1a2e63,#5870ae);
        width: 100%;
        margin-top: 23px;
        height: 45px;
    }
        .Valid_Campo {
          border: 1px solid red !important;
        }
    
        .card-panel,
        .card,
        .btn {
          box-shadow: 0 2px 5px 0 rgb(197 208 239), 0 2px 10px 0 rgb(197 208 239) !important;
        }
    
        .tabs {
          height: 30px !important;
        }
    
        .tabs .tab {
          line-height: 30px !important;
          height: 30px !important;
        }
    
    
        /* ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
    
    .inpuntnuevo{
        border: 1px solid #dee2e6;
                                            border-radius: 0.25rem;
                                            background-color: #fff;
                                            background-clip: padding-box;
                                            padding: 0 1em;
    }
    
     
        .form-control {
    font-size: .875rem;
    height: calc(1.5em + 1.25rem + 5px);
    transition: all .15s ease-in-out;
}

.form-control {
    font-size: .875rem;
    font-weight: 400;
    line-height: 1.5;
    display: block;
    width: 100%;
    height: calc(1.5em + 1.25rem + 2px);
    padding: 0.625rem 0.75rem;
    transition: all .15s cubic-bezier(.68, -.55, .265, 1.55);
    color: #8898aa;
    border: 1px solid #dee2e6;
    border-radius: 0.25rem;
    background-color: #fff;
    background-clip: padding-box;
    box-shadow: 0 3px 2px rgb(233 236 239 / 5%);
}
input, button, select, optgroup, textarea {
    font-family: inherit;
    font-size: inherit;
    line-height: inherit;
    margin: 0;
}
    
        /* //////////////////////////////////////////////////////////////////////////////// */
      </style>
    </div>
