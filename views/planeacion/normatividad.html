<div>
    <div id="my_menu" class="row section-header" style="background: #9897e81f;margin-bottom: 0">
        <div class="col l12">
            <ul class="left mailbox-custom-search list-inline"
                style="width: 100%;display: flex;justify-content: space-between;align-items: center;">
                <li>
                    <h5
                        style="font-family: 'Product Sans',Arial,sans-serif;font-size: 22px;line-height: 22px;opacity: .54;">
                        Normatividad</h5>
                </li>
                <li ng-show="isSet(2)">

                    <i class="icon-search-2" ng-hide="verfiltrar" ng-click="verfiltrar=true" style="
                                    top: 164px;cursor: pointer;
                                    ">Filtrar</i>
                    <input id="buscarautaa" ng-show="verfiltrar"
                        style=" width: 300px; background: rgb(235, 235, 245); margin-bottom: -9px;"
                        ng-change="filter(val)" type="text" ng-model="val" placeholder="Filtrar Normativa"
                        class="ng-pristine ng-valid ng-touched">
                    <i ng-show="verfiltrar" ng-click="verfiltrar=false" class="icon-cancel-3"></i>
                </li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="col l12 m12 s12">
            <ul tabs="" reload="allTabContentLoaded"
                class="ng-isolate-scope tabs ui-tabs ui-corner-all ui-widget ui-widget-content">
                <li class="tab col l12" style="cursor: pointer;"><a ng-class="{ active: isSet(1) }" ng-click="setTab(1)"
                        id="tab" class="col l12 large waves-effect waves-pink tabI">Publicar Normativa</a></li>
                <li class="tab col l12" style="cursor: pointer;"><a ng-class="{ active: isSet(2) }"
                        ng-click="setTab(2); carga_acas_ips()"
                        class="col l12 large waves-effect waves-pink tabII">Gestionar
                        Normativas</a></li>
            </ul>
        </div>
    </div>
    <div class="container" style="width: 90% ;    background: #fff;    margin-bottom: -77px;">
        <div ng-show="isSet(1)">
            <div class="row content-container server margin">
                <div class="col l12">
                    <div class="row ">
                        <div class="input-field col l5" style="display: flex;align-items: flex-end">
                            <label style="margin-top: -20px;" class="">Entidad</label>
                            <i class="material-icons">library_books</i>
                            <select class="ng-touched ng-valid select-chosen-eps ng-dirty ng-valid-parse" id="entidad"
                                ng-model="entidad">
                                <option value="" disabled>SELECCIONAR</option>
                                <option ng-repeat="n_e in lista_entidad" value="{{n_e.CODIGO}}">{{n_e.NOMBRE}}</option>
                            </select>
                        </div>
                        <div class="input-field col l3" style="display: flex;align-items: flex-end;">
                            <label style="margin-top: -20px;" class="">Año</label>
                            <i class=" icon-calendar" style="font-size: 25px;"></i>
                            <select class="ng-touched ng-valid select-chosen-eps ng-dirty ng-valid-parse" id="anio"
                                ng-model="anio">
                                <option value="" disabled>SELECCIONAR</option>
                                <option ng-repeat="a in lista_anio" value="{{a.anno}}">{{a.anno}}</option>
                            </select>
                        </div>
                        <div class="input-field col l3" style="display: flex;align-items: flex-end">
                            <label style="margin-top: -20px;" class="">Tipo de Normativa</label>
                            <i class="material-icons">library_books</i>
                            <select class="ng-touched ng-valid select-chosen-eps ng-dirty ng-valid-parse" id="tipo"
                                ng-model="tipo">
                                <option value="" disabled>SELECCIONAR</option>
                                <option ng-repeat="t_n in lista_tipo" value="{{t_n.NUMERO}}">{{t_n.NOMBRE}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="row ">
                        <div class="input-field col l5">
                            <input id="titulo" type="text" ng-model="titulo">
                            <label for="titulo" class="">Titulo</label>
                        </div>
                        <div class=" col l6 file-field input-field">
                            <div class="btn">
                                <span class="white-text">Archivo</span>
                                <input type="file" id="adjunto" accept=".png,.jpg,.jpeg,.pdf,.doc" ng-model="adjunto"
                                    required>
                            </div>
                            <div class="file-path-wrapper">
                                <input id="nombreadjunto" class="file-path" type="text" ng-change="obtenerBase()"
                                    placeholder="Seleccioné Archivo" ng-model="nombreadjunto">
                            </div>
                        </div>
                    </div>

                    <div class="row ">
                        <div class="col l11" >
                            <div class="form-group shadow-textarea">
                                <!--<label style=" margin-top: -20px;">Descripción caracteres: {{count}}</label>-->
                                <textarea class="form-control z-depth-1" id="exampleFormControlTextarea6" rows="3"
                                    ng-keyup="handleKeyPress($event)" ng-model="descripcion" cols="50"
                                    placeholder="DESCRIPCIÓN"
                                    style="margin: 0px;/* width: 1268px; */height: 134px;     text-transform: uppercase;"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="cl l12" style="margin-left:50%">
                    <button id="actualizar" class="btn" ng-click="subir_adjunto('U')" ng-show="actualizar_campo"
                        style="margin-top: 10px;">Actualizar
                    </button>
                    <button id="actualizar" class="btn" ng-click="subir_adjunto('I')" ng-hide="actualizar_campo"
                        style="margin-top: 10px;">Guardar
                    </button>
                    <button id="guardar" class="btn" ng-click="limpiar()" style="margin-top: 10px;">Limpiar</button>
                </div>
            </div>

        </div>
        <div ng-show="isSet(2)">
            <div class="row">
                <div class="responsive">
                    <table class="table table-bordered table-striped">
                        <thead class="default-background white-text">
                            <tr>
                                <th style="border:none">#</th>
                                <th style="border:none">AÑO</th>
                                <th style="border:none">TIPO NORMATIVA</th>
                                <th style="border:none">TÍTULO</th>
                                <th style="border:none">ARCHIVO</th>
                                <th style="border:none;width: 26em">DESCRIPCIÓN</th>
                                <th style="border:none">ENTIDAD</th>
                                <th style="border:none">ESTADO</th>
                                <th style="border:none">ACCIÓN</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                ng-repeat="mda in mesasayudasTemp  | inicio: currentPage * pageSize | limitTo: pageSize"
                              
                                ng-style="{background:  [($index%2)==0?'#fff':'#ebebf5']}"> 
                                <th>{{$index+1 + (currentPage * pageSize)}}</th>
                                <th>{{mda.ANIO}}</th>
                                <td>{{mda.NORMA}}</td>
                                <td>{{mda.TITULO}}</td>
                                <td
                                    ng-click="descargafile(mda.ADJUNTO)">
                                    <div class="tooltip">
                                        <i class="Medium material-icons">library_books</i>
                                        <span class="tooltiptext">Ver</span>
                                    </div>
                                </td>
                                <td>{{mda.DESCRIPCION}}</td>
                                <td>{{mda.ENTIDAD}}</td>
                                <td><span class="{{mda.CLASE_ESTADO}}">{{mda.ESTADO}}</span></td>
                                <td>
                                    <div class="tooltip">
                                        <i class="Medium material-icons" ng-click="actualizar_funcion(mda.NUMERO,mda.ANIO,mda.COD_NORMA,mda.COD_ENTIDAD,mda.TITULO,mda.DESCRIPCION)">mode_edit</i>
                                        <span class="tooltiptext">Editar</span>
                                    </div>
                                    <div ng-show="mda.ESTADO=='PUBLICADO'" class="tooltip" style="margin-left: 10px;" ng-click="despublicar('D',mda.NUMERO,mda.CODIGO_ESTADO)">
                                        <i class="Medium material-icons">visibility_off</i>
                                        <span class="tooltiptext">Ocultar</span>
                                    </div>
                                    <div ng-hide="mda.ESTADO=='PUBLICADO'" class="tooltip" style="margin-left: 10px;" ng-click="despublicar('D',mda.NUMERO,mda.CODIGO_ESTADO)">
                                            <i class="Medium material-icons">visibility</i>
                                            <span class="tooltiptext">Publicar</span>
                                    </div>
                                </td>
                            </tr>
                            <tr ng-if="mesasayudasTemp.length==0">
                                <td colspan="7">
                                    <center>
                                        <h5>No se ha encontrado Registros</h5>
                                    </center>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                    <ul style="text-align: right;" class="pagination" ng-show="mesasayudasTemp.length!=0">
                        <li><button ng-disabled='currentPage == 0' class="btn-floating default-background"
                                ng-click='currentPage = currentPage - 1'>&laquo;</button></li>
                        <li ng-repeat='page in pages'><button ng-disabled='currentPage == page.no - 1'
                                class="btn-floating default-background" ng-click='setPage(page.no)'>{{page.no}}</button>
                        </li>
                        <li><button ng-disabled='currentPage >= mesasayudasTemp.length/pageSize - 1'
                                class="btn-floating default-background"
                                ng-click='currentPage = currentPage + 1'>&raquo;</button></li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
    <style type="text/css">
        a.active {
            border-bottom: 1px solid;
        }

        th,
        td {
            text-align: center;
            word-break: break-word;
        }

        i {
            cursor: pointer;
        }

        .pagination li {
            padding: 0 1px;
        }

        span.tooltiptext {
            background: #bbc8ec !important;
            color: #191919 !important;
            border-bottom: 1px solid !important;
        }
    </style>