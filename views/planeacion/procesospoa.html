<div class="white newdesing" id="pantalla">
  <style>
    .newdesing .content-container {
      min-height: 0;
    }

    .content-container {
      padding: 0 20px;
    }
  </style>
  <div class="row section-header margin">
    <ul class="left mailbox-custom-search list-inline w-100 d-flex justify-content-between align-items-center">
      <li id="inicio">
        <h5 class="cursor-pointer" style="font-size: 22px;line-height: 22px;opacity: .54;margin: 9px 0">
          <i class="icon-arrows-ccw default-color cursor-pointer" title="Refrescar" ng-click="Inicio()"></i>
          Control de Mando Integral (CMI)
          <!-- <i class="icon-download default-color cursor-pointer" title="Refrescar" ng-click="validar()"></i> -->
        </h5>
      </li>
      <li>
        <ul class="tabs transparent" style="overflow:hidden;">
          <li class="tab col w-auto" ng-if="permisos.BADC_ADMIN == 'S'">
            <a ng-click="SetTab(1)" id="tab_1" href>Procesos
              <!-- <i class="icon-users"></i> -->
            </a>
          </li>
          <li class="tab col w-auto">
            <a ng-click="SetTab(2)" id="tab_2" href class="active">Indicadores
              <!-- <i class="icon-users"></i> -->
            </a>
          </li>
          <li class="tab col w-auto" ng-if="permisos.BADC_GES_AUTO_PDM == 'S'">
            <a ng-click="SetTab(4)" id="tab_4" href class="active">Auto PDM
              <!-- <i class="icon-users"></i> -->
            </a>
          </li>
          <li class="tab col w-auto">
            <a ng-click="SetTab(3)" id="tab_3" href class="active">Hallazgos
              <!-- <i class="icon-users"></i> -->
            </a>
          </li>
          <!-- <li class="tab col w-auto">
            <a ng-click="SetTab(2);" id="Nueva" href>Causas<i class="icon-pen"></i></a>
          </li> -->
        </ul>
      </li>
    </ul>
  </div>

  <!-- //////////////////////////////////TAB 1////////////////////////////////// -->
  <!-- TABLA -->
  <div class="row dashboard-wrapper content-container white" ng-show="Tabs == 1">
    <div class="col s12 m12 l12" style="justify-content: center;">
      <div class="card-action" id="card-action"
        style="overflow: auto;display: inline-block;width: 100%;height: 100%;padding-bottom: 0;">
        <!--  -->
        <span class="btn" ng-click="modalCrearProcesos()">Crear proceso</span>
        <!--  -->
        <div class="foot4 divcardcustom default-linear-gradient">
          <div class="text-al divcardcustom2">
            <strong class="switch">Listado de Procesos
              ({{hojaProcesos.listadoTabla.length}})</strong>
            <div class="tooltip">
              <i class="icon-cw-circle cursor-pointer" ng-click="hojaProcesosListar()"></i>
              <span class="tooltiptext" style="font-size: 12px;width: 70px;margin-left: -35px;">Actualizar</span>
            </div>

            <div class="col s3 no-padding label-new right"
              style="width: 25%;display: inline-flex;margin-right: -5px;margin-top: -2px;">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l black-text"
                style="text-align:right;" autocomplete="off" placeholder="Buscar..." ng-model="hojaProcesos.filtro"
                ng-change="filter('hojaProcesos',hojaProcesos.filtro)">
            </div>
          </div>
        </div>
        <div class="default-color">
          <table class="tablaListado bordered highlight"
            style="width:100%;font-size:6px !important;color: black;border:3px solid;">
            <thead class="default-border default-color">
              <th>#</th>
              <th>Proceso</th>
              <th>Tipo</th>
              <th>Categoría</th>
              <!-- <th>Descripcion</th> -->
              <th>Estado</th>
              <th>Soporte</th>
              <!-- <th>-</th> -->
            </thead>
            <tbody>
              <tr style="cursor:pointer;"
                ng-repeat="x in hojaProcesos.listadoTablaTemp | inicio: hojaProcesos.varsTabla.currentPage * hojaProcesos.varsTabla.pageSize | limitTo: hojaProcesos.varsTabla.pageSize">
                <td ng-click="modalEditarProcesos(x)">{{x.UNIN_CODIGO}}</td>
                <td ng-click="modalEditarProcesos(x)">{{x.UNIC_NOMBRE}}</td>
                <td ng-click="modalEditarProcesos(x)">{{obtenerTipoProceso(x.UNIC_MACRO_PROCESO)}}</td>
                <td ng-click="modalEditarProcesos(x)">{{obtenerCategoriaProceso(x.UNIC_CATEGORIA)}}</td>
                <!-- <td ng-click="modalEditarProcesos(x)">{{x.UNIC_DESCRIPCION}}</td> -->
                <td ng-click="modalEditarProcesos(x)">
                  <span
                    class="status {{x.UNIC_ESTADO == 'A' ? 'etiquetaVerde' : 'etiquetaRoja'}}">{{obtenerEstado(x.UNIC_ESTADO)}}</span>
                </td>
                <td>
                  <i class="iconFontSize icon-file-pdf red-text c-pointer" ng-click="descargarSoporte(x.UNIC_SOPORTE)"
                    ng-show="x.UNIC_SOPORTE" title="Ver soporte"></i>
                  <i class="iconFontSize icon-eye-off default-color c-pointer" ng-show="!x.UNIC_SOPORTE"
                    title="Sin soporte"></i>
                </td>
              </tr>
              <tr ng-show="hojaProcesos.listadoTablaTemp.length == 0">
                <td class="center-align" colspan="6" style="font-weight: bolder;">No se encontraron resultados.</td>
              </tr>
            </tbody>
          </table>

          <div class="row margin">
            <div class="col s6"><label for="normal">Total de Procesos filtrados:
                {{hojaProcesos.listadoTablaTemp.length}}</label></div>
            <div class="col s6 right-align"><label for="normal">Total de Procesos encontrados:
                {{hojaProcesos.listadoTabla.length}}</label></div>
          </div>

          <ul style="text-align: center;padding-top: 20px;" class="pagination">
            <li><button ng-disabled='hojaProcesos.varsTabla.currentPage == 0'
                class="btn-floating default-linear-gradient" ng-click="paso('hojaProcesos','back')">&laquo;</button>
            </li>
            <li ng-repeat='page in hojaProcesos.varsTabla.pages'><button
                ng-disabled="hojaProcesos.varsTabla.currentPage == page.no - 1"
                class="btn-floating default-linear-gradient"
                ng-click="setPage('hojaProcesos',page.no)">{{page.no}}</button></li>
            <li><button
                ng-disabled='hojaProcesos.varsTabla.currentPage >= hojaProcesos.listadoTablaTemp.length/hojaProcesos.varsTabla.pageSize - 1'
                class="btn-floating default-linear-gradient" ng-click="paso('hojaProcesos','next')">&raquo;</button>
            </li>
          </ul>
        </div>

        <!-- //-// -->
      </div>
    </div>
  </div>
  <!-- TABLA -->
  <!-- MODAL -->
  <div id="modalCrearProcesos" class="modal"
    style="margin: 0 auto;max-height:99%;width: 90%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4">
        <h5><span style="font-weight: 700;" class="default-color">{{!hojaProcesos.formulario.idProcesoSeleccionado ?
            'Crear':'Editar'}} Nuevo Proceso</span></h5>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin" style="max-height: 100vh;overflow-y: auto;">
          <form ng-submit="guardarFormProcesos()">

            <div class="col s12 m12 l12">
              <!--  -->
              <div class="col s5 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaProcesos.formulario.nombre" text-upper required>
                <label>Nombre del Proceso (*)</label>
              </div>
              <div class="col s2 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l" ng-model="hojaProcesos.formulario.tipo" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="{{x.codigo}}" ng-selected="x.codigo == hojaProcesos.formulario.tipo"
                    ng-repeat="x in hojaProcesos.formulario.listadoTipo">
                    {{x.nombre}}</option>
                </select>
                <label>Tipo (*)</label>
              </div>
              <div class="col s3 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l" ng-model="hojaProcesos.formulario.categoria"
                  required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="{{x.codigo}}" ng-selected="x.codigo == hojaProcesos.formulario.categoria"
                    ng-repeat="x in hojaProcesos.formulario.listadoCategoria">
                    {{x.nombre}}</option>
                </select>
                <label>Categoría (*)</label>
              </div>
              <div class="col s1 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l" style="box-shadow: none;" watch
                  ng-model="hojaProcesos.formulario.estado"
                  ng-disabled="!hojaProcesos.formulario.idProcesoSeleccionado">
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="A" ng-selected="hojaProcesos.formulario.estado == 'A'">Activo</option>
                  <option value="I" ng-selected="hojaProcesos.formulario.estado == 'I'">Inactivo</option>
                </select>
                <label>Estado</label>
              </div>
              <!--  -->
            </div>
            <!--  -->
            <div class="col s12 m12 l12">
              <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                <textarea class="white input-text-new input-out-new w-100 margin m-l m-r" maxlength="1800"
                  autocomplete="off" text-description text-upper
                  ng-model="hojaProcesos.formulario.descripcion"></textarea>
                <label>Descripción del proceso (*)</label>
              </div>
            </div>
            <div class="col s12 m12 l12" ng-show="!hojaProcesos.formulario.soporteUrl">
              <div class="col s4 no-padding m-t">
                <div class="file-upload-wrapper file-field input-field m-l"
                  data-text="{{hojaProcesos.formulario.soporteB64 ? 'Archivo Seleccionado' : 'Cargar Archivo (.ZIP - .PDF)'}}">
                  <input type="file" id="procesosFile" name="procesosFile">
                  <i class="icon-check-1 green-text right" style="font-size: 1.3vw;"
                    ng-show="hojaProcesos.formulario.soporteB64"></i>
                </div>
              </div>

            </div>
            <div class="col s12 m12 l12 m-t">
              <blockquote class="blockquote_titulo m-b">
                Objetivos
              </blockquote>
            </div>
            <div class="col s12 m12 l12">
              <div class="col s2 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l" ng-model="hojaProcesos.formulario.perspectiva">
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="{{x.codigo}}" ng-selected="x.codigo == hojaProcesos.formulario.perspectiva"
                    ng-repeat="x in hojaProcesos.formulario.listadoObjetivoPerspectiva">
                    {{x.nombre}}</option>
                </select>
                <label>Perspectiva</label>
              </div>
              <div class="col s3 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l"
                  ng-model="hojaProcesos.formulario.objetivoEstrategico">
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="{{x.codigo}}" ng-selected="x.codigo == hojaProcesos.formulario.objetivoEstrategico"
                    ng-repeat="x in hojaProcesos.formulario.listadoObjetivoEstrategico">
                    {{x.nombre}}</option>
                </select>
                <label>Objetivo Estrategico</label>
              </div>
              <div class="col s4 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaProcesos.formulario.objetivoTactivo" text-upper>
                <label>Indicador Estrategico</label>
              </div>
              <!--  -->
              <div class="col s1 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" type="number" min="2020" max="2030" ng-model="hojaProcesos.formulario.anioInicial">
                <label>Año Inicial</label>
              </div>
              <div class="col s1 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" type="number" min="2020" max="2030" ng-model="hojaProcesos.formulario.anioFinal">
                <label>Año Final</label>
              </div>
              <!--  -->
              <div class="col s1 no-padding label-new">
                <button class="btn btn-primary btnAgregar m-l" type="button" title="Agregar Objetivo"
                  ng-click="agregarObjetivo()" ng-if="!hojaProcesos.formulario.objetivoTactivoCod">
                  <i class="icon-list-add"></i>
                </button>
                <button class="btn btn-primary btnAgregar m-l" type="button" title="Actualizar Objetivo"
                  ng-click="guardarObjetivoEditado()" ng-if="hojaProcesos.formulario.objetivoTactivoCod">
                  <i class="icon-list-add"></i>
                </button>
              </div>
              <!--  -->
            </div>
            <div class="col s12 m12 l12" style="max-height: 100vh;overflow-y: auto;"
              ng-show="hojaProcesos.formulario.listadoObjetivos.length">
              <table class="bordered default-border">
                <thead>
                  <tr>
                    <th>Perspectiva</th>
                    <th>Objetivo Estrategico</th>
                    <th>Indicador Estrategico</th>
                    <th>Periodo</th>
                    <th>-</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="x in hojaProcesos.formulario.listadoObjetivos">
                    <td>{{x.codigo_perspectiva+ ' - ' +x.nombre_perspectiva}}</td>
                    <td>{{x.codigo_estrategico+ ' - ' +x.nombre_estrategico}}</td>
                    <td>{{x.codigo_tactico+ ' - ' +x.nombre_tactico}}</td>
                    <td>{{x.anio_inicial ? x.anio_inicial+ ' - ' +x.anio_final : ''}}</td>
                    <td>
                      <span ng-click="actualizarEstadoObjetivos(x)"
                        class="status c-pointer {{x.estado == 'A' ? 'etiquetaVerde' : 'etiquetaRoja'}}">{{obtenerEstado(x.estado)}}</span>
                      <i class="iconFontSize icon-edit default-color c-pointer" title="Editar"
                        ng-click="editarObjetivo(x)"></i>
                      <i class="iconFontSize icon-trash default-color c-pointer" title="Borrar"
                        ng-click="quitarObjetivo($index, x)"></i>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <!--  -->
            <div class="col s12 m12 l12 center m-t m-b">
              <input class="btn white-text default-linear-gradient" type="submit"
                value="{{!hojaProcesos.formulario.idProcesoSeleccionado ? 'Guardar':'Actualizar'}} Proceso">
              <!-- <input class="btn white-text default-linear-gradient" type="submit" value="Actualizar"
                ng-click="actualizarProyecto();"
                ng-if="Form.Status == 2 && proyectoBK.estado.split('-')[0] != 'FIN' && usuarioPermiso == '0'"> -->
              <!-- <input class="btn white-text red"
                style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit" value="Cerrar"
                ng-click="Atras();"> -->
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
  <!-- MODAL -->
  <!-- //////////////////////////////////TAB 2////////////////////////////////// -->
  <!-- TABLA -->
  <div class="row dashboard-wrapper content-container white" ng-show="Tabs == 2">
    <div class="col s12 m12 l12" style="justify-content: center;">
      <div class="card-action" id="card-action"
        style="overflow: auto;display: inline-block;width: 100%;height: 100%;padding-bottom: 0;">
        <!--  -->
        <!-- //-// -->
        <!--  -->
        <span class="btn" ng-click="modalCrearIndicadores()" ng-if="permisos.BADC_CREAR_FICHA=='S'">Crear
          Indicador</span>
        <span class="btn right" ng-click="openModal('modalFiltroIndicadores')"><i class="icon-filter-1 cursor-pointer"></i> Filtros</span>
        <!--  -->
        <div class="foot4 divcardcustom default-linear-gradient">
          <div class="text-al divcardcustom2">
            <strong class="switch">Listado de Indicadores
              ({{hojaIndicadores.listadoTabla.length}})</strong>
            <div class="tooltip">
              <i class="icon-cw-circle cursor-pointer" ng-click="hojaIndicadoresListar()"></i>
              <span class="tooltiptext" style="font-size: 12px;width: 70px;margin-left: -35px;">Actualizar</span>
            </div>
            <!-- <div class="tooltip m-l">
              <i class="icon-filter-1 cursor-pointer" ng-click="openModal('modalFiltroIndicadores')"></i>
              <span class="tooltiptext" style="font-size: 12px;width: 70px;margin-left: -35px;">Filtrar</span>
            </div> -->
            <div class="tooltip m-l">
              <i class="icon-download-1 cursor-pointer" ng-click="descargarInformeMultiple()"></i>
              <span class="tooltiptext" style="font-size: 12px;width: 105px;margin-left: -52px;">Informe Multiple</span>
            </div>
            <div class="tooltip">
              <i class="icon-download-6 cursor-pointer white-text" ng-click="descargarInformeFiltrado()"
                ng-show="hojaIndicadores.filtros.activo"></i>
              <span class="tooltiptext" style="font-size: 12px;width: 105px;margin-left: -52px;">Informe Filtrado</span>
            </div>
            <!-- <div class="col s3 no-padding label-new right"
              style="width: 25%;display: inline-flex;margin-right: -5px;margin-top: -2px;"
              ng-show="!hojaIndicadores.filtros.activo">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l black-text"
                style="text-align:right;" autocomplete="off" placeholder="Buscar..." ng-model="hojaIndicadores.filtro"
                ng-change="filter('hojaIndicadores',hojaIndicadores.filtro)">
            </div> -->
          </div>
        </div>

        <!-- <div class="foot4 divcardcustom default-linear-gradient black-text" ng-show="hojaIndicadores.filtros.activo">

        </div> -->

        <div class="default-color">
          <table class="tablaListado bordered highlight"
            style="width:100%;font-size:6px !important;color: black;border:3px solid;">
            <thead class="default-border default-color">
              <th>
                <!-- Indicador -->
                <div class="d-flex">
                  <input class="margin border-none white input-text-new input-w-p w-25 black-text" autocomplete="off" type="number"
                    placeholder="# Indicador" ng-model="hojaIndicadores.filtroCodigo"
                    ng-change="filterColumn('hojaIndicadores','CODIGO',hojaIndicadores.filtroCodigo);hojaIndicadores.filtroNombre=''">
                  <input class="margin border-none white input-text-new input-w-p w-50 black-text" autocomplete="off"
                    placeholder="Nombre Indicador" ng-model="hojaIndicadores.filtroNombre"
                    ng-change="filterColumn('hojaIndicadores','REGN_NOM_INDICADOR',hojaIndicadores.filtroNombre);hojaIndicadores.filtroCodigo=''">
                </div>
              </th>
              <th>Año</th>
              <th>Prioridad</th>
              <th>Clasificacion</th>
              <!-- <th>Tipo/Medicion</th> -->
              <!-- <th>Semaforización</th> -->
              <th>Periodicidad</th>
              <th>Diligenciamiento</th>
              <!-- <th>Analisis</th> -->
              <th>Orden</th>
              <th>Estado Gestión</th>
              <th>Acciones</th>
            </thead>
            <tbody>
              <tr style="cursor:pointer;" class="{{x.CODIGO == itemSeleccionado ? 'focusElement' :''}}"
                id="{{x.CODIGO}}"
                ng-repeat="x in hojaIndicadores.listadoTablaTemp | inicio: hojaIndicadores.varsTabla.currentPage * hojaIndicadores.varsTabla.pageSize | limitTo: hojaIndicadores.varsTabla.pageSize">
                <td class="left-align" ng-click="modalEditarIndicador(x)">
                  {{x.CODIGO}} - <b>{{x.REGN_NOM_INDICADOR}}</b>
                </td>
                <td ng-click="modalEditarIndicador(x)">{{x.REGN_ANNO}}</td>
                <td ng-click="modalEditarIndicador(x)">{{x.REGC_PRIORIDAD.split('-')[1]}}</td>
                <td ng-click="modalEditarIndicador(x)">{{x.REGC_CLASIFICACION.split('-')[1]}}</td>
                <!-- <td ng-click="modalEditarIndicador(x)">{{x.REGC_TIPO_CALCULO.split('-')[1]}}</td> -->
                <td ng-click="modalEditarIndicador(x)">{{x.REGC_PERIODICIDAD_ANALISIS.split('-')[1]}}</td>
                <!-- <td ng-click="modalEditarIndicador(x)">{{obtenerEstadoIndicadores(x.REGC_SEMAFORIZACION)}}</td> -->
                <td ng-click="modalEditarIndicador(x)">{{x.DILIGENCIAMIENTO}} %</td>
                <td ng-click="modalEditarIndicador(x)">{{x.REGC_TIPO.split('-')[1]}}</td>
                <!-- <td ng-click="modalEditarIndicador(x)">{{x.analisis}}</td> -->
                <!-- <td>
                  <span
                    class="status {{x.REGC_ESTADO == 'A' ? 'etiquetaVerde' : 'etiquetaRoja'}}">{{obtenerEstadoIndicadores(x.REGC_ESTADO)}}</span>
                </td> -->
                <td>
                  <span
                    class="status transparent-text {{obtenerEstadoGestionIndicador(x.REGC_TIPO.split('-')[0], x.ESTADO_ACTUAL.split('-')[0])}}">---</span>
                  <!-- <span
                    class="status transparent-text {{obtenerEstadoGestionIndicador(x.REGC_TIPO.split('-')[0], x.ESTADO_ACTUAL.split('-')[0])}}">{{x.ESTADO_ACTUAL.split('-')[0]}}</span> -->

                </td>
                <td>
                  <i class="iconFontSize icon-doc-text-1 default-color c-pointer" title="Ficha del Indicador"
                    ng-click="modalFichaTecnica(x)"></i>
                  <i class="iconFontSize icon-chart-line default-color c-pointer"
                    title="Grafico de Estado del Indicador" ng-click="modalGraficoIndicador(x);"></i>
                  <i class="iconFontSize icon-calendar-3 default-color c-pointer" title="Datos Periodo Correspondiente"
                    ng-click="modalDatosCorresp(x);"></i>
                </td>
              </tr>
              <tr ng-show="hojaIndicadores.listadoTablaTemp.length==0">
                <td class="center-align" colspan="9" style="font-weight: bolder;">No se encontraron resultados.</td>
              </tr>
            </tbody>
          </table>

          <div class="row margin">
            <div class="col s6"><label for="normal">Total de Indicadores filtrados:
                {{hojaIndicadores.listadoTablaTemp.length}}</label></div>
            <div class="col s6 right-align"><label for="normal">Total de Indicadores encontrados:
                {{hojaIndicadores.listadoTabla.length}}</label></div>
          </div>

          <ul style="text-align: center;padding-top: 20px;" class="pagination">
            <li><button ng-disabled='hojaIndicadores.varsTabla.currentPage == 0'
                class="btn-floating default-linear-gradient" ng-click="paso('hojaIndicadores','back')">&laquo;</button>
            </li>
            <li ng-repeat='page in hojaIndicadores.varsTabla.pages'><button
                ng-disabled="hojaIndicadores.varsTabla.currentPage == page.no - 1"
                class="btn-floating default-linear-gradient"
                ng-click="setPage('hojaIndicadores',page.no)">{{page.no}}</button></li>
            <li><button
                ng-disabled='hojaIndicadores.varsTabla.currentPage >= hojaIndicadores.listadoTablaTemp.length/hojaIndicadores.varsTabla.pageSize - 1'
                class="btn-floating default-linear-gradient" ng-click="paso('hojaIndicadores','next')">&raquo;</button>
            </li>
          </ul>
        </div>


        <!-- //-// -->
      </div>
    </div>
  </div>
  <!-- TABLA -->
  <!-- MODAL -->
  <div id="modalFiltroIndicadores" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4">
        <h5><span style="font-weight: 700;" class="default-color">Aplicar Filtro</span></h5>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin" style="max-height: 100vh;overflow-y: auto;">
          <!--  -->
          <div class="col s12 m12 l12">

            <div class="col s3 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.filtros.proceso">
                <option value="">-</option>
                <option value="{{x.UNIN_CODIGO}}" ng-selected="x.UNIN_CODIGO == hojaIndicadores.filtros.proceso"
                  ng-repeat="x in hojaProcesos.listadoTabla" ng-show="x.UNIC_ESTADO == 'A'">
                  {{x.UNIC_NOMBRE}}</option>
              </select>
              <label>Proceso</label>
            </div>

            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.filtros.regional">
                <option value="">-</option>
                <option value="999">Nacional</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.filtros.regional"
                  ng-repeat="x in hojaIndicadores.listadoRegionales">
                  {{x.nombre}}</option>
              </select>
              <label>Regional</label>
            </div>

            <div class="col s5 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.filtros.dependencia">
                <option value="">-</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.filtros.dependencia"
                  ng-repeat="x in hojaIndicadores.listadoDependencias">
                  {{x.nombre}}</option>
              </select>
              <label>Dependencia</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.filtros.periodicidadAnalisis">
                <option value="">-</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.filtros.periodicidadAnalisis"
                  ng-repeat="x in hojaIndicadores.listadoFrecuencia">
                  {{x.nombre}}</option>
              </select>
              <label>Periodicidad</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.filtros.anio">
                <option value="">-</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.filtros.anio"
                  ng-repeat="x in hojaIndicadores.listadoAnio">
                  {{x.codigo}}</option>
              </select>
              <label>Año</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.filtros.fenix">
                <option value="">-</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>Ind. Control Priorizado</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.filtros.pedt">
                <option value="">-</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>PEDT</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.filtros.altocosto">
                <option value="">-</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>Altocosto</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.filtros.marca2335">
                <option value="">-</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>Marca 2335</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.filtros.incentivo">
                <option value="">-</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>Incentivo</label>
            </div>
          </div>
          <!--  -->
          <!--  -->
          <div class="col s12 m12 l12 center m-t m-b">
            <input class="btn white-text"
              style="background: linear-gradient(to left bottom, rgb(224, 66, 66), rgb(139, 0, 0), rgb(224, 66, 66));"
              type="submit" value="Limpiar" ng-click="hojaIndicadoresLimpiarFiltro()">
            <input class="btn white-text default-linear-gradient" type="submit" value="Aplicar"
              ng-click="hojaIndicadoresAplicarFiltro()">
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- MODAL -->
  <!-- MODAL -->
  <div id="modalCrearIndicadores" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;display: flex;" class="default-color">
            {{!hojaIndicadores.formulario.idIndicadorSeleccionado
            ?
            'Crear Nuevo Indicador': '#'+hojaIndicadores.formulario.idIndicadorSeleccionado+' Editar Indicador'}}

            <select class="select-default-new input-out-new m-l" style="width: 7%;font-size: 1rem;"
              ng-model="hojaIndicadores.formulario.anio" ng-show="!hojaIndicadores.formulario.idIndicadorSeleccionado"
              required>
              <option value="" disabled>Año</option>
              <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.anio"
                ng-repeat="x in hojaIndicadores.listadoAnio" ng-show="x.codigo <= SysDay.getFullYear()">
                {{x.codigo}}</option>
            </select>

            <i class="icon-doc-new c-pointer" title="Crear nuevo indicador para el año siguiente"
              ng-show="hojaIndicadores.formulario.idIndicadorSeleccionado"
              ng-click="generarIndicadorNuevo(modalDatosIndicador)" ng-if="permisos.BADC_CREAR_FICHA=='S'"></i>

          </span></h5>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin" style="max-height: 100vh;overflow-y: auto;">
          <!-- <form ng-submit="guardarFormIndicador()"> -->
          <!--  -->
          <div class="col s12 m12 l12" id="modalCrearIndicadores_Scroll">
            <div class="col s6 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                ng-disabled="hojaIndicadores.formulario.nombreDsb" autocomplete="off"
                ng-model="hojaIndicadores.formulario.nombre" maxlength="180" text-upper required>
              <label>Nombre del Indicador (*)</label>
            </div>
            <div class="col s4 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.proceso"
                ng-change="hojaIndicadoresObtenerTipoyObjetivos(hojaIndicadores.formulario.proceso,'')" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.UNIN_CODIGO}}" ng-selected="x.UNIN_CODIGO == hojaIndicadores.formulario.proceso"
                  ng-repeat="x in hojaProcesos.listadoTabla" ng-show="x.UNIC_ESTADO == 'A'">
                  {{x.UNIC_NOMBRE}}</option>
              </select>
              <label>Proceso (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.tipoProceso" ng-disabled="true" text-upper
                required>
              <label>Tipo (*)</label>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12">
            <div class="col s12 no-padding label-new m-b formIndicador_Desactivar">
              <!-- ng-disabled="hojaIndicadores.formulario.idIndicadorSeleccionado" -->
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.formulario.objetivoEstrategicoTactico" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.UNIN_OBJETIVO_COD_ESTR+'_'+x.UNIN_OBJETIVO_COD_TACT}}"
                  ng-selected="x.UNIN_OBJETIVO_COD_ESTR+'_'+x.UNIN_OBJETIVO_COD_TACT == hojaIndicadores.formulario.objetivoEstrategicoTactico"
                  ng-repeat="x in hojaIndicadores.listadoObjetivos">
                  {{x.NOMBRE +' - '+ x.UNIC_NOMBRE}}</option>
              </select>
              <label>Objetivos Estrategicos - Tacticos (*)</label>
            </div>
          </div>
          <div class="col s12 m12 l12">
            <div class="col s2 no-padding label-new m-b formIndicador_Desactivar">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.nivel" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.nivel"
                  ng-repeat="x in hojaIndicadores.listadoNivel">
                  {{x.nombre}}</option>
              </select>
              <label>Nivel (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b formIndicador_Desactivar"
              ng-show="hojaIndicadores.formulario.nivel === '2'">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.regional"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.regional"
                  ng-repeat="x in hojaIndicadores.listadoRegionales">
                  {{x.nombre}}</option>
              </select>
              <label>Regional (*)</label>
            </div>
            <div
              class="col {{hojaIndicadores.formulario.nivel === '2' ? 's6' : 's8'}} no-padding label-new m-b formIndicador_Desactivar">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.dependencia"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.dependencia"
                  ng-repeat="x in hojaIndicadores.listadoDependencias">
                  {{x.nombre}}</option>
              </select>
              <label>Dependencias (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b formIndicador_Desactivar_Estado">
              <select class="select-default-new input-out-new m-l" style="box-shadow: none;" watch
                ng-model="hojaIndicadores.formulario.estado">
                <option value="" disabled>SELECCIONAR</option>
                <option value="A">Activo</option>
                <option value="I">Inactivo</option>
              </select>
              <label>Estado</label>
            </div>
          </div>

          <div class="col s12 m12 l12 m-b formIndicador_Desactivar">
            <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
              <textarea class="white input-text-new input-out-new w-100 margin m-l m-r" maxlength="1800"
                autocomplete="off" text-description text-upper
                ng-model="hojaIndicadores.formulario.definicion"></textarea>
              <label>Definición del Indicador (*)</label>
            </div>
          </div>

          <div class="col s12 m12 l12">
            <div class="col s2 no-padding label-new m-b formIndicador_Desactivar">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.acumulativo"
                ng-change="hojaIndicadoresCalcularMetaVigencia()" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="S">Si</option>
                <option value="N">No</option>
              </select>
              <label>Acumulativo (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b formIndicador_Desactivar">
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.formulario.periodicidadAnalisis" ng-disabled="!permisos.BADC_ADMIN=='S'"
                ng-change="hojaIndicadoresCalcularMetaVigencia()" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.periodicidadAnalisis"
                  ng-repeat="x in hojaIndicadores.listadoFrecuencia">
                  {{x.nombre}}</option>
              </select>
              <label>Periodicidad de Análisis (*)</label>
            </div>

            <div class="col s2 no-padding label-new m-b formIndicador_Desactivar">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.meta"
                ng-change="hojaIndicadoresCalcularMetaVigencia()" numbers-decimal-only maxlength="18" required>
              <label>Meta (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.metaVigencia" readonly required>
              <label>Meta Vigencia (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.tipoVigencia"
                ng-disabled="hojaIndicadores.formulario.tipoVigenciaDsb" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.tipoVigencia"
                  ng-repeat="x in hojaIndicadores.listadoTipoVigencia">
                  {{x.nombre}}</option>
              </select>
              <label>Tipo Vigencia (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b formIndicador_Desactivar">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.unidadMedida"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.unidadMedida"
                  ng-repeat="x in hojaIndicadores.listadoUnidadMedida">
                  {{x.nombre}}</option>
              </select>
              <label>Unidad de Medida (*)</label>
            </div>

          </div>
          <div class="col s12 m12 l12 m-t formIndicador_Desactivar">
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.lineaBase" maxlength="18" numbers-decimal-only
                required>
              <label>Línea Base (*)</label>
            </div>

            <div class="col s5 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.fuenteNumerador" maxlength="180" text-upper
                text-description required>
              <label>Fuente del Numerador (*)</label>
            </div>
            <div class="col s5 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.fuenteDenominador" maxlength="180" text-upper
                text-description required>
              <label>Fuente del Denominador (*)</label>
            </div>
          </div>
          <!-- Información Complementaria -->
          <div class="col s12 m12 l12 m-t">
            <blockquote class="blockquote_titulo m-b">
              Información Complementaria
            </blockquote>
          </div>

          <div class="col s12 m12 l12 m-t formIndicador_Desactivar">
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.vigencia"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.vigencia"
                  ng-repeat="x in hojaIndicadores.listadoVigencia">
                  {{x.nombre}}</option>
              </select>
              <label>Vigencia (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.formulario.clasificacionIndicador" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.clasificacionIndicador"
                  ng-repeat="x in hojaIndicadores.listadoClasifIndicador">
                  {{x.nombre}}</option>
              </select>
              <label>Clasificación del Indicador (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.prioridad"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.prioridad"
                  ng-repeat="x in hojaIndicadores.listadoPrioridad">
                  {{x.nombre}}</option>
              </select>
              <label>Prioridad (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.tipoNorma"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.tipoNorma"
                  ng-repeat="x in hojaIndicadores.listadoTipoNorma">
                  {{x.nombre}}</option>
              </select>
              <label>Tipo de Norma</label>
            </div>
            <div class="col s4 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.norma" maxlength="180" text-upper
                text-description required>
              <label>Norma</label>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-t formIndicador_Desactivar">
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.formulario.periodicidadReporte" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.periodicidadReporte"
                  ng-repeat="x in hojaIndicadores.listadoFrecuencia">
                  {{x.nombre}}</option>
              </select>
              <label>Periodicidad del Reporte (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.formulario.planDeMejoramiento" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>Plan de Mejoramiento (*)</label>
            </div>
            <div class="col s4 no-padding label-new m-b" ng-show="hojaIndicadores.formulario.planDeMejoramiento == 'S'">
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.formulario.descripcionPlanDeMejoramiento" required>
                <option value="" disabled>SELECCIONAR</option>
                <!-- <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.descripcionPlanDeMejoramiento"
                  ng-show="x.estado == 'A' || hojaIndicadores.formulario.descripcionPlanDeMejoramiento == x.codigo"
                  ng-repeat="x in hojaPDM.listadoAutoPDM">
                  {{x.nombre}}</option> -->
                <option value="2023310030000901">2023310030000901 (GUAJIRA)</option>
                <option value="2022310000000429">2022310000000429 (497)</option>
                <option value="2023310000000641">2023310000000641 (441)</option>
              </select>
              <label>Auto Plan de Mejoramiento (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.tipologia"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-repeat="x in hojaIndicadores.listadoTipologias"
                  ng-selected="x.codigo == hojaIndicadores.formulario.tipologia">{{x.nombre}}
                </option>
              </select>
              <label>Tipología (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.fenix" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>Ind. Control Priorizado (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.marca_pedt" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>PEDT (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.marca_altocosto" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>Altocosto (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.marca_2335" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>2335 (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.marca_incentivo" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="N">No</option>
                <option value="S">Si</option>
              </select>
              <label>Incentivo (*)</label>
            </div>
            <!-- <div class="col s8 no-padding label-new m-b" ng-show="hojaIndicadores.formulario.planDeMejoramiento == 'S'">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.descripcionPlanDeMejoramiento" maxlength="180" text-upper required>
              <label>Descripcion Plan de Mejoramiento</label>
            </div> -->
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-t formIndicador_Desactivar">
            <!-- <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.frecuencia"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.frecuencia"
                  ng-repeat="x in hojaIndicadores.listadoFrecuencia">
                  {{x.nombre}}</option>
              </select>
              <label>Frecuencia (*)</label>
            </div> -->
            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.formulario.periodicidadReporte" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.periodicidadReporte"
                  ng-repeat="x in hojaIndicadores.listadoFrecuencia">
                  {{x.nombre}}</option>
              </select>
              <label>Periodicidad del Reporte (*)</label>
            </div>
            <form ng-submit="hojaIndicadoresBuscarResponsables('responsableReporte','listadoResponsableReporte')">
              <div class="col s4 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaIndicadores.formulario.responsableReporte"
                  list="listadoResponsableReporte" text-upper required>
                <datalist id="listadoResponsableReporte" open="open">
                  <option value="{{x.codigo +' - '+ x.nombre}}"
                    ng-repeat="x in hojaIndicadores.formulario.listadoResponsableReporte">
                </datalist>
                <label class="m-l">Responsable del reporte (*)
                  <i class="icon-search c-pointer"
                    ng-click="hojaIndicadoresBuscarResponsables('responsableReporte','listadoResponsableReporte')"
                    ng-if="permisos.BADC_CREAR_FICHA == 'S' || permisos.BADC_ACTUALIZAR_FICHA == 'S'"></i>
                </label>
              </div>
            </form>
            <form ng-submit="hojaIndicadoresBuscarResponsables('responsableAnalisis','listadoResponsableAnalisis')">
              <div class="col s4 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaIndicadores.formulario.responsableAnalisis"
                  list="listadoResponsableAnalisis" text-upper required>
                <datalist id="listadoResponsableAnalisis" open="open">
                  <option value="{{x.codigo +' - '+ x.nombre}}"
                    ng-repeat="x in hojaIndicadores.formulario.listadoResponsableAnalisis">
                </datalist>
                <label class="m-l">Responsable del análisis (*)
                  <i class="icon-search c-pointer"
                    ng-click="hojaIndicadoresBuscarResponsables('responsableAnalisis','listadoResponsableAnalisis')"
                    ng-if="permisos.BADC_CREAR_FICHA == 'S' || permisos.BADC_ACTUALIZAR_FICHA == 'S'"></i>
                </label>
              </div>
            </form>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-t formIndicador_Desactivar">
            <form ng-submit="hojaIndicadoresBuscarActores(hojaIndicadores.formulario.actores)">
              <div class="col s8 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaIndicadores.formulario.actores" list="listadoActores"
                  ng-change="hojaIndicadoresAgregarActores()" text-upper required>
                <datalist id="listadoActores" open="open">
                  <option value="{{x.codigo +' - '+ x.nombre}}"
                    ng-repeat="x in hojaIndicadores.formulario.listadoActores">
                </datalist>
                <label class="m-l">Actores Interesados (*)
                  <i class="icon-search c-pointer"
                    ng-click="hojaIndicadoresBuscarActores(hojaIndicadores.formulario.actores)"
                    ng-if="permisos.BADC_CREAR_FICHA == 'S' || permisos.BADC_ACTUALIZAR_FICHA == 'S'"></i>
                </label>
              </div>
            </form>
          </div>
          <!--  -->
          <div class="col s8 m8 l8 m-l" style="max-height: 30vh;overflow-y: auto;"
            ng-show="hojaIndicadores.formulario.listadoActoresTabla.length">
            <table class="bordered default-border">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Actor</th>
                  <th>-</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="x in hojaIndicadores.formulario.listadoActoresTabla">
                  <td>{{$index + 1}}</td>
                  <td>{{x.codigo + ' - ' + x.nombre}}</td>
                  <td>
                    <i class="iconFontSize icon-trash default-color c-pointer" title="Borrar"
                      ng-click="hojaIndicadoresQuitarActores($index)"
                      ng-if="permisos.BADC_CREAR_FICHA == 'S' || permisos.BADC_ACTUALIZAR_FICHA == 'S'"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-t">
            <blockquote class="blockquote_titulo m-b">
              Semaforización
            </blockquote>
          </div>
          <!--  -->
          <div class="col s12 m12 l12">
            <div class="col s3 no-padding label-new m-b formIndicador_Desactivar">
              <select class="select-default-new input-out-new m-l" ng-model="hojaIndicadores.formulario.tipoCalculo"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaIndicadores.formulario.tipoCalculo"
                  ng-repeat="x in hojaIndicadores.listadotipoCalculo">
                  {{x.nombre}}</option>
              </select>
              <label>Forma de Cálculo (*)</label>
            </div>

            <div class="col s3 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.formulario.semaforizacionEstado"
                ng-disabled="hojaIndicadores.formulario.idIndicadorSeleccionado" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="S">Si</option>
                <option value="N">No</option>
              </select>
              <label>Semaforización habilitada (*)</label>
            </div>
            <div class="col s3 no-padding label-new m-b"
              ng-show="hojaIndicadores.formulario.semaforizacionEstado == 'S'">
              <select class="select-default-new input-out-new m-l"
                ng-model="hojaIndicadores.formulario.semaforizacionSentido"
                ng-disabled="hojaIndicadores.formulario.idIndicadorSeleccionado" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="A">Ascendente</option>
                <option value="D">Descendente</option>
              </select>
              <label>Tipo de Orden (*)</label>
            </div>
          </div>
          <div class="col s12 m12 l12 formIndicador_Desactivar">
            <div class="col s5 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.descripcionNumerador" maxlength="180" text-upper
                text-description>
              <label>Descripción del Numerador</label>
            </div>
            <div class="col s5 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.descripcionDenominador" maxlength="180"
                text-upper text-description>
              <label>Descripción del Denominador</label>
            </div>
            <div class="col s5 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.descripcionConstante" maxlength="180" text-upper
                text-description>
              <label>Descripción del Constante</label>
            </div>
          </div>


          <div class="col s12 m12 l12 formIndicador_Desactivar"
            ng-show="hojaIndicadores.formulario.semaforizacionEstado == 'S'">
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.semaforizacionValor1" numbers-decimal-only
                style="border-color: red !important;" maxlength="16" required>
              <label>Valor 1 (*) - {{hojaIndicadores.formulario.semaforizacionSentido == 'A' ? 'Baja' : 'Alta'}}</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.semaforizacionValor2" numbers-decimal-only
                style="border-color: yellow !important;" maxlength="16" required>
              <label>Valor 2 (*) - Media</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.semaforizacionValor3" numbers-decimal-only
                style="border-color: green !important;" maxlength="16" required>
              <label>Valor 3 (*) - {{hojaIndicadores.formulario.semaforizacionSentido == 'A' ? 'Alta' : 'Baja'}}</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaIndicadores.formulario.semaforizacionValorMax" numbers-decimal-only
                style="border-color: green !important;" maxlength="16" required>
              <label>Valor Máx. (*)</label>
            </div>
            <!-- <div class="col s2 no-padding label-new m-b">
              <i class="icon-chart-pie-alt c-pointer" title="Ver Gráfico" ng-click="hojaIndicadoresCalcularGraficoSemaforizacion()"
                style="font-size: 1.5rem;"></i>
            </div> -->
            <div class="col s2 no-padding label-new m-l">
              <button class="btn btn-primary btnAgregar" type="button" title="Ver Gráfico"
                ng-click="calcularGraficoSemaforizacion('hojaIndicadores')">Ver Gráfico
                <i class="icon-chart-pie-alt"></i>
              </button>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m-b" ng-show="hojaIndicadores.formulario.semaforizacionEstado == 'S'">
            <div class="col s12 align-items" id="hojaIndicadores_graficoSemaforizacion" style="height: 250px;">
            </div>
          </div>
          <!--  -->
        </div>
        <div class="row bg-white white margin"
          ng-if="permisos.BADC_CREAR_FICHA == 'S' || permisos.BADC_ACTUALIZAR_FICHA == 'S'">
          <div class="col s12 m12 l12 center">
            <input class="btn white-text default-linear-gradient" type="submit"
              value="{{!hojaIndicadores.formulario.idIndicadorSeleccionado ? 'Guardar':'Actualizar'}} Indicador"
              ng-click="guardarFormIndicadores()">
          </div>
        </div>
      </div>
      <!--  -->
      <!--  -->
    </div>
  </div>
  <!--  -->
  <div id="modalFichaTecnica" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;" class="default-color">
            Ficha Técnica del Indicador
            <i class="icon-download c-pointer" title="Descargar Ficha Técnica" style="font-size: 1rem;"
              ng-click="descargarFichaTecnica(modalFichaTecnicaDatos)"></i>
            <i class="icon-file-excel c-pointer" title="Descargar Informe" style="font-size: 1rem;"
              ng-click="descargarInformeIndividual(modalFichaTecnicaDatos)"></i>
          </span>
        </h5>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin" style="max-height: 100vh;overflow-y: auto;">
          <!--  -->
          <div class="col s12 m12 l12">
            <div class="col s9">
              <table id="tableFichaTecnica" class="table-bordered">
                <tr>
                  <td colspan="2" style="background-color:#efefef">
                    <h6 class="fw600">
                      Identificación del Indicador
                    </h6>
                  </td>
                </tr>
                <tr>
                  <th style="width: 20%;">Nombre del Indicador:</th>
                  <td>{{modalFichaTecnicaVars.nombre}}</td>
                </tr>
                <tr>
                  <th>Definición u Objetivo:</td>
                  <td>{{modalFichaTecnicaVars.definicion}}</td>
                </tr>
                <tr>
                  <th>Numerador:</th>
                  <td>{{modalFichaTecnicaVars.numerador}}</td>
                </tr>
                <tr>
                  <th>Denominador:</td>
                  <td>{{modalFichaTecnicaVars.denominador}}</td>
                </tr>

                <!--  -->
                <tr>
                  <td colspan="2" style="background-color:#efefef">
                    <h6 class="fw600">
                      Información Adicional
                    </h6>
                  </td>
                </tr>
                <tr>
                  <th>Clasificación:</td>
                  <td>{{modalFichaTecnicaVars.clasificacionIndicador}}</td>
                </tr>
                <tr>
                  <th>Prioridad:</td>
                  <td>{{modalFichaTecnicaVars.prioridad}}</td>
                </tr>
                <!-- <tr>
                  <th>Tipo de Norma:</td>
                  <td>{{modalFichaTecnicaVars.tipoNorma}}</td>
                </tr> -->
                <tr>
                  <th>Periodicidad del Reporte:</th>
                  <td>{{modalFichaTecnicaVars.periodicidadReporte}}</td>
                </tr>
                <tr>
                  <th>Periodicidad del Analisis:</td>
                  <td>{{modalFichaTecnicaVars.periodicidadAnalisis}}</td>
                </tr>
                <tr>
                  <th>Registrador por:</td>
                  <td>{{modalFichaTecnicaVars.responsableRegistro}}</td>
                </tr>

              </table>
              <button class="btn" style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);"
                ng-click="hojaIndicadoresEliminar()" ng-if="permisos.BADC_ELIMINAR_FICHA == 'S'">
                <i class="icon-trash-8"></i>Eliminar
              </button>

            </div>
            <div class="col s3 card" style="border-radius: 15px;margin-top: 0;">
              <ul>
                <li>
                  <h6 class="fw600 margin">
                    Ubicación
                  </h6>
                  <label>Ubicacion dentro de entidad</label>
                  <hr class="m-b" style="border: 1px solid lightgrey;">
                </li>
                <li>
                  <div style="display: flex;">
                    <div class="cuadroVerde">
                      <i class="icon-codeopen" style="padding: 10px;display: flex;"></i>
                    </div>
                    <div class="m-l">
                      <h6 class="fw600 margin">
                        {{modalFichaTecnicaVars.dependencia}}
                      </h6>
                      <label>Dependencia</label>
                    </div>
                  </div>
                  <hr class="m-b" style="border: 1px solid lightgrey;">
                </li>
                <li>
                  <div style="display: flex;">
                    <div class="cuadroAzul">
                      <i class="icon-dribbble-2" style="padding: 10px;display: flex;"></i>
                    </div>
                    <div class="m-l">
                      <h6 class="fw600 margin">
                        {{modalFichaTecnicaVars.proceso}}
                      </h6>
                      <label>Proceso</label>
                    </div>
                  </div>
                </li>
              </ul>

            </div>
            <!--  -->
            <div class="col s3 card" style="border-radius: 15px;">
              <ul>
                <li>
                  <h6 class="fw600 margin">
                    Semaforización
                  </h6>
                  <label>Parametrización del indicador</label>
                  <hr class="m-b" style="border: 1px solid lightgrey;">
                </li>
                <li>
                  <div style="display: flex;">
                    <div class="{{modalFichaTecnicaVars.semaforizacionEstado == 'S' ? 'cuadroVerde': 'cuadroRojo'}}">
                      <i class="zmdi {{modalFichaTecnicaVars.semaforizacionSentido == 'A' ? 'zmdi-shield-check' : 'zmdi-shield-security'}}"
                        style="padding: 9px 13px;display: flex;font-size: 17px;"></i>
                    </div>
                    <div class="m-l">
                      <h6 class="fw600 margin">
                        Semaforización {{modalFichaTecnicaVars.semaforizacionEstado == 'S' ? 'activa': 'inactiva'}}
                      </h6>
                      <label>Rangos definidos</label>
                    </div>
                  </div>
                </li>
              </ul>

            </div>
            <!--  -->
            <div class="col s3 card" style="border-radius: 15px;">
              <ul>
                <li>
                  <h6 class="fw600 margin">
                    Sentido del indicador
                  </h6>
                  <label>Parametrización del indicador</label>
                  <hr class="m-b" style="border: 1px solid lightgrey;">
                </li>
                <li>
                  <div style="display: flex;">
                    <div class="{{modalFichaTecnicaVars.semaforizacionSentido == 'A' ? 'cuadroVerde' : 'cuadroRojo'}}">
                      <i class="zmdi {{modalFichaTecnicaVars.semaforizacionSentido == 'A' ? 'zmdi-trending-up' : 'zmdi-trending-down'}}"
                        style="padding: 9px 13px;display: flex;font-size: 17px;"></i>
                    </div>
                    <div class="m-l">
                      <h6 class="fw600 margin">
                        {{modalFichaTecnicaVars.semaforizacionSentido == 'A' ? 'Ascendente' : 'Descendente'}}
                      </h6>
                      <label>...</label>
                    </div>
                  </div>
                </li>
              </ul>

            </div>
            <!--  -->
          </div>
          <!--  -->
          <!-- </form> -->

        </div>
      </div>
      <!--  -->
    </div>
  </div>
  <!--  -->
  <div id="modalGraficoIndicador" class="modal"
    style="margin: 0 auto;max-height:99%;width: 90%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;display: flex;" class="default-color">
            Gráfico del Indicador
            <i class="icon-right-circle-1 f-20 c-pointer" ng-click="closeModal();modalDatosCorresp(modalDatosCambio)"
              title="Ver Datos"></i>
            <!-- <select class="select-default-new input-out-new m-l" style="width: 7%;font-size: 1rem;"
              ng-model="modalGraficoVars.anio" ng-change="cargarGraficoPeriodoChange()" required>
              <option value="" disabled>Seleccionar</option>
              <option value="{{x.codigo}}" ng-selected="x.codigo == modalGraficoVars.anio"
                ng-repeat="x in hojaIndicadores.listadoAnio">
                {{x.codigo}}</option>
            </select> -->
          </span></h5>
        <label>
          <b>#{{modalDatosCambio.CODIGO}} - {{modalDatosCambio.REGN_NOM_INDICADOR}}</b>
        </label>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin">
          <!--  -->
          <div class="col s12" id="graficoIndicador" style="zoom: 1.2;width: 100 !important;">
          </div>
          <!--  -->
        </div>
      </div>
      <!--  -->
    </div>
  </div>
  <!--  -->
  <div id="modalDatosCorresp" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;display: flex;" class="default-color">
            Datos Correspondiente del Periodo
            <i class="icon-right-circle-1 f-20 c-pointer"
              ng-click="closeModal();modalGraficoIndicador(modalDatosCambio)" title="Ver Gráfica"></i>

            <!-- <select class="select-default-new input-out-new m-l" style="width: 7%;font-size: 1rem;"
              ng-model="modalDatosCorrespVars.anio" ng-show="modalDatosCorrespVars.vista == 1"
              ng-change="cargarDatosPeriodoChange()" required>
              <option value="" disabled>Seleccionar</option>
              <option value="{{x.codigo}}" ng-selected="x.codigo == modalDatosCorrespVars.anio"
                ng-repeat="x in hojaIndicadores.listadoAnio">
                {{x.codigo}}</option>
            </select> -->
          </span></h5>
        <label>
          <b>#{{modalDatosCambio.CODIGO}} - {{modalDatosCambio.REGN_NOM_INDICADOR}}</b>
        </label>
        <i class="icon-upload f-20 c-pointer default-color" ng-click="cargarMasivoGestionIndicador()"
          title="Cargar Gestión" ng-if="modalDatosCambio.REGC_ESTADO == 'A' && permisos.BADC_EDITAR_GESTION == 'S'"></i>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin w-100" style="max-height: 100vh;overflow-y: auto;">
          <!--  -->
          <div class="col s12 m12 l12" ng-show="modalDatosCorrespVars.vista == 1">
            <table class="tableDatosCorresp table-bordered highlight">
              <thead>
                <tr>
                  <th>Año</th>
                  <th>Periodo</th>
                  <th>Formula</th>
                  <th>Acumulado</th>
                  <th
                    ng-show="permisos.BADC_ACTUALIZAR_FICHA == 'S' && modalDatosCorrespVars.REGC_TIPO_VIGENCIA.split('-')[0] == 'M'">
                    Meta Vigencia</th>
                  <th>Analisis</th>
                  <th>Responsable del dato</th>
                  <th>Estado Gestión</th>
                  <th style="width:1%"></th>
                </tr>
              </thead>
              <tr ng-repeat="x in modalDatosCorrespVars.listado"
                class="{{x.GESV_RESPONSABLE == '-' ? 'resaltadoRojo':''}}">
                <th>{{x.GESN_ANNO}}</th>
                <th>{{x.GESN_PERIODO_NOMBRE}}</th>
                <td>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CA' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mrow>
                        <mn>{{x.GESN_CONSTANTE}}</mn>
                      </mrow>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'PO' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>*</mo>
                      <mn>100</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'RA' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TA' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>*</mo>
                      <mn>{{x.GESN_CONSTANTE}}</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'VA' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                          <mo>-</mo>
                          <mn>{{x.GESN_DENOMINADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>*</mo>
                      <mn>100</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DI' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mn>100</mn>
                      <mo>-</mo>
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>*</mo>
                      <mn>100</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'AJ' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mn>{{x.GESN_CONSTANTE}}</mn>
                      <mo>-</mo>
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_CONSTANTE}}</mn>
                          <mo>*</mo>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DE' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mn>1</mn>
                      <mo>-</mo>
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}} * {{x.GESN_CONSTANTE}}</mn>
                      </mfrac>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TL' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mo>(</mo>
                      <mn>{{x.GESN_NUMERADOR}}</mn>
                      <mo>-</mo>
                      <mn>{{x.GESN_DENOMINADOR}}</mn>
                      <mo>)</mo>
                      <mo>*</mo>
                      <mn>{{x.GESN_CONSTANTE}}</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CT' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mn>{{x.GESN_NUMERADOR}}</mn>
                      <mo>-</mo>
                      <mn>{{x.GESN_DENOMINADOR}}</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'PR' && x.GESV_RESPONSABLE != '-'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                          <mo>+</mo>
                          <mn>{{x.GESN_DENOMINADOR}}</mn>
                        </msup>
                        <mn>2</mn>
                      </mfrac>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                </td>
                <td>
                  <span ng-show="x.GESV_RESPONSABLE != '-'">{{x.GESN_ACUMULADO.startsWith(',') ? ('0'+x.GESN_ACUMULADO)
                    : x.GESN_ACUMULADO}}</span>
                </td>
                <td
                  ng-show="permisos.BADC_ACTUALIZAR_FICHA == 'S' && modalDatosCorrespVars.REGC_TIPO_VIGENCIA.split('-')[0] == 'M'">
                  {{x.GESN_META_VIGENCIA}} <i class="icon-arrows-cw c-pointer" title="Gestionar Meta Vigencia"
                    style="font-size: 1rem;" ng-click="hojaIndicadoresEditarMetaVigencia(x)"></i></td>
                <td>
                  <span ng-show="x.GESC_OBSERVACION.length > 626">{{x.GESC_OBSERVACION.substr(0,626) + ' ...'}}</span>
                  <span ng-show="x.GESC_OBSERVACION.length <= 626">{{x.GESC_OBSERVACION}}</span>
                </td>
                <td>
                  <span ng-show="x.GESV_RESPONSABLE != '-'">{{x.GESV_RESPONSABLE.split('-')[1]}}</span>
                </td>
                <td>
                  <span ng-show="x.GESV_RESPONSABLE != '-'"
                    class="status transparent-text {{obtenerEstadoGestionIndicador(modalDatosCorrespVars.REGC_TIPO.split('-')[0], x.ESTADO_ACTUAL.split('-')[0])}}">---</span>
                  <!-- <span ng-show="x.GESV_RESPONSABLE != '-'"
                    class="status transparent-text {{obtenerEstadoGestionIndicador(modalDatosCorrespVars.REGC_TIPO.split('-')[0], x.ESTADO_ACTUAL.split('-')[0])}}">{{x.ESTADO_ACTUAL.split('-')[0]}}</span> -->

                  <i class="iconFontSize icon-doc-text-inv default-color c-pointer" title="Compromisos"
                    ng-show="x.GESV_RESPONSABLE != '-'" ng-click="abrirModalCompromisos(x);"></i>
                  <i class="iconFontSize icon-sitemap default-color c-pointer" title="Plan de Mejoramiento"
                    ng-click="abrirModalPlanMejora(x);"
                    ng-show="x.GESV_RESPONSABLE != '-' && (x.ESTADO_ACTUAL.split('-')[1] == 'ROJO' || x.ESTADO_ACTUAL.split('-')[1] == 'GRIS')"></i>

                </td>
                <td>
                  <i class="icon-list-add c-pointer" title="Gestionar Periodo" style="font-size: 1rem;"
                    ng-click="modalDatosCorrespGestionarPeriodo(x, $index)"
                    ng-if="modalDatosCambio.REGC_ESTADO == 'A' && permisos.BADC_EDITAR_GESTION == 'S'"></i>
                </td>
              </tr>
            </table>
          </div>
          <!--  -->
          <div class="col s12 m12 l12" ng-show="modalDatosCorrespVars.vista == 2">
            <blockquote class="blockquote_titulo m-b mt-0">
              Datos para {{modalDatosCorrespVarsPeriodo.periodoNombre}} de {{modalDatosCorrespVarsPeriodo.anio}} -
              Forma de Cálculo {{modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[1]}}
              <i class="icon-download-1 c-pointer" title="Descargar Traza" style="font-size: 1rem;"
                ng-click="modalDatosCorrespObtenerdatos_traza()"></i>
            </blockquote>

            <div class="col s6 m6 l6">
              <div class="row">
                <div class="col s6 no-padding label-new m-b"
                  ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] != 'CA'">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                    autocomplete="off" ng-model="modalDatosCorrespVarsPeriodo.numerador"
                    ng-change="calcularResultadoPeriodo()" maxlength="18" numbers-decimal-only required>
                  <label>Dato Numerador (*)</label>
                </div>
                <div class="col s6 no-padding label-new m-b"
                  ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] != 'CA'">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                    autocomplete="off" ng-model="modalDatosCorrespVarsPeriodo.denominador"
                    ng-change="calcularResultadoPeriodo()" maxlength="18" numbers-decimal-only required>
                  <label>Dato Denominador (*)</label>
                </div>
                <div class="col s6 no-padding label-new m-b" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TA' || modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CA' ||
                   modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'AJ' || modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DE' ||
                   modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TL'">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                    autocomplete="off" ng-model="modalDatosCorrespVarsPeriodo.constante"
                    ng-change="calcularResultadoPeriodo()" maxlength="18" numbers-decimal-only required>
                  <label>Dato Constante (*)</label>
                </div>
                <div class="col s6 no-padding label-new m-b">

                  <div class="file-upload-wrapper file-field input-field m-l" data-text="Cargar Archivo (.ZIP - .PDF)">
                    <input type="file" id="fileGestionIndic" name="fileGestionIndic">
                    <!-- <i class="icon-check-1 green-text right" style="font-size: 1.3vw;"
                      ng-show="archivosSubir.length"></i> -->
                  </div>

                  <!-- <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                    autocomplete="off" ng-model="modalDatosCorrespVarsPeriodo.denominador"
                    ng-change="calcularResultadoPeriodo()" maxlength="18" numbers-decimal-only required>
                  <label>Dato Denominador (*)</label> -->
                </div>
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" minlength="50" maxlength="3998"
                    autocomplete="off" text-description text-upper
                    ng-model="modalDatosCorrespVarsPeriodo.nota"></textarea>
                  <label>Análisis (*)</label>
                </div>
                <div class="col s12 m12 l12 m-t m-l" style="padding: 0; border: 1px solid #8a88865e !important;"
                  ng-show="modalDatosCorrespVarsPeriodo.listadoAdjuntos.length">
                  <div class="" style="max-height: 20vh;overflow-y: auto;">
                    <table id="table" class="highlight">
                      <tr>
                        <th width="50%">Archivo</th>
                        <th width="15%">Fecha</th>
                        <th width="30%">Responsable</th>
                        <th>-</th>
                      </tr>
                      <tr title="Ver Anexo" class="c-pointer"
                        ng-repeat="x in modalDatosCorrespVarsPeriodo.listadoAdjuntos">
                        <td ng-click="descargarSoporte(x.GESC_RUTA)">{{x.GESC_NOMBRE}}</td>
                        <td ng-click="descargarSoporte(x.GESC_RUTA)">{{x.GESF_FECHA}}</td>
                        <td ng-click="descargarSoporte(x.GESC_RUTA)">{{x.RESPONSABLE}}</td>
                        <td><i class="iconFontSize icon-trash default-color c-pointer" title="Borrar"
                            ng-click="eliminarSoportesGestionIndi(x.GESC_RUTA)"
                            ng-if="permisos.BADC_ELIMINAR_GESTION == 'S'"></i>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <!--  -->
            <div class="col s6 m6 l6">
              <div class="row">
                <div class="col s12 m12 l12">
                  <ul>
                    <li>
                      <div class="default-color m-b" style="padding: .6rem; border: 2px solid;">
                        <h6 class="fw600 margin">
                          Numerador
                        </h6>
                        <label>{{modalDatosCorrespVars.REGN_DESCRIPCION_NUMERADOR}}</label>
                      </div>
                    </li>
                    <li>
                      <div class="default-color m-b" style="padding: .6rem; border: 2px solid;">
                        <h6 class="fw600 margin">
                          Denominador
                        </h6>
                        <label>{{modalDatosCorrespVars.REGN_DESCRIPCION_DENOMINADOR}}</label>
                      </div>
                    </li>
                    <li ng-show="modalDatosCorrespVars.REGN_DESCRIPCION_CONSTANTE">
                      <div class="default-color m-b" style="padding: .6rem; border: 2px solid;">
                        <h6 class="fw600 margin">
                          Constante
                        </h6>
                        <label>{{modalDatosCorrespVars.REGN_DESCRIPCION_CONSTANTE}}</label>
                      </div>
                    </li>
                    <li>
                      <div class="default-color" style="padding: .6rem; border: 2px solid;">
                        <h6 class="fw600 margin default-linear-gradient" style="padding: 2px;">
                          Formula Aplicada
                        </h6>
                        <label class="center-align" style="font-size: 2rem;">
                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CA'">
                            <math display="inline">
                              <mrow>
                                <mn>{{modalDatosCorrespVarsPeriodo.constante}}</mn>
                              </mrow>
                            </math>
                          </div>
                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'PO'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>*</mo>
                              <mn>100</mn>
                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'RA'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TA'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>*</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.constante}}</mn>
                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'VA'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                  <mo>-</mo>
                                  <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                                </msup>
                                <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>*</mo>
                              <mn>100</mn>
                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DI'">
                            <math display="inline">
                              <mn>100</mn>
                              <mo>-</mo>
                              <mfrac>
                                <msup>
                                  <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>*</mo>
                              <mn>100</mn>
                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>

                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'AJ'">
                            <math display="inline">
                              <mn>{{modalDatosCorrespVarsPeriodo.constante}}</mn>
                              <mo>-</mo>
                              <mfrac>
                                <msup>
                                  <mn>{{modalDatosCorrespVarsPeriodo.constante}}</mn>
                                  <mo>*</mo>
                                  <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>

                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DE'">
                            <math display="inline">
                              <mn>{{1}}</mn>
                              <mo>-</mo>
                              <mfrac>
                                <msup>
                                  <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{modalDatosCorrespVarsPeriodo.denominador}} *
                                  {{modalDatosCorrespVarsPeriodo.constante}}</mn>
                              </mfrac>
                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TL'">
                            <math display="inline">
                              <mo>(</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                              <mo>-</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              <mo>)</mo>
                              <mo>*</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.constante}}</mn>
                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CT'">
                            <math display="inline">
                              <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                              <mo>-</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t" ng-show="modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'PR'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                  <mo>+</mo>
                                  <mn>{{modalDatosCorrespVarsPeriodo.denominador}}</mn>
                                </msup>
                                <mn>2</mn>
                              </mfrac>

                              <mo>=</mo>
                              <mn>{{modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>

                        </label>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>

            </div>

            <!--  -->


            <div class="col s12 m12 l12 center m-t m-b">
              <input class="btn white-text red"
                style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit" value="Cerrar"
                ng-click="hojaIndicadoresAtrasModalPeriodo();">
              <input class="btn white-text default-linear-gradient" type="submit"
                value="{{modalDatosCorrespVarsPeriodo.accion == 'I' ? 'Guardar':'Actualizar'}} Datos"
                ng-click="modalDatosCorrespGuardarPeriodo()">
            </div>
          </div>
          <!--  -->
        </div>
        <!--  -->

        <!--  -->
      </div>
      <!--  -->
      <!--  -->
    </div>
  </div>
  <!--  -->
  <div id="modalCompromisos" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;display: flex;" class="default-color">
            <i class="icon-left-circle-1 f-20 c-pointer" ng-click="closeModal();modalDatosCorresp(modalDatosCambio)"
              title="Ver Datos"></i>
            Compromisos
          </span></h5>
        <label>
          <b>#{{modalDatosCambio.CODIGO}} - {{modalDatosCambio.REGN_NOM_INDICADOR}} - Periodo: {{modalCompromisosVars.periodoNombre}} </b>
        </label>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin w-100" style="max-height: 100vh;overflow-y: auto;">
          <!--  -->
          <div class="col s12 m12 l12" ng-show="modalCompromisosVars.activarForm == 'N'">
            <table class="tableDatosCorresp table-bordered highlight">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Compromiso</th>
                  <th>Descripcion</th>
                  <th>Fecha Inicio</th>
                  <th>Fecha Venc.</th>
                  <th>Estado</th>
                  <th>Responsable Registro</th>
                  <th>Fecha Registro</th>
                  <th style="width:1%"></th>
                </tr>
              </thead>
              <tr ng-repeat="x in modalCompromisosVars.listadoCompromisos">
                <td>{{x.GESN_ID_COMPROMISO}}</td>
                <td>{{x.GESC_NOMBRE}}</td>
                <td>{{x.GESC_DESCRIPCION}}</td>
                <td>{{x.GESF_FECHA_INICIO}}</td>
                <td>{{x.GESF_FECHA_VENCIMIENTO}}</td>
                <td>{{x.GESC_ESTADO.split('-')[1]}}</td>
                <td>{{x.GESN_RESPONSABLE_REGISTRO}}</td>
                <td>{{x.GESF_FECHA_REGISTRO}}</td>
                <td>
                  <i class="icon-list-add c-pointer" title="Gestionar Compromiso" style="font-size: 1rem;"
                    ng-click="editarModalCompromisos(x, $index)" ng-if="permisos.BADC_EDITAR_PLAN == 'S'"></i>
                  <!-- <i class="icon-list-add c-pointer" title="Gestionar Periodo" style="font-size: 1rem;"
                    ng-click="modalDatosCorrespGestionarPeriodo(x, $index)"
                    ng-if="validarPermisos(['AS', 'AM', 'US'])"></i> -->
                </td>
              </tr>
              <tr ng-show="modalCompromisosVars.listadoCompromisos.length == 0">
                <th colspan="9" style="text-align: center;">Sin registros</th>
              </tr>
            </table>
            <div class="col s12 m12 l12 center m-t m-b">

              <input class="btn white-text default-linear-gradient" type="submit" value="Crear Compromiso"
                ng-if="modalDatosCambio.REGC_ESTADO == 'A' && permisos.BADC_CREAR_PLAN == 'S'" ng-click="crearModalCompromisos()">
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12" ng-show="modalCompromisosVars.activarForm == 'S'">
            <blockquote class="blockquote_titulo m-b mt-0">
              {{modalCompromisosVars.idCompromiso == '' ? 'Compromiso Nuevo' : 'Actualizar Compromiso #' +
              modalCompromisosVars.idCompromiso}}
            </blockquote>

            <div class="row">
              <div class="col s12 m12 l12 formIndicCompromisos_Desactivar">

                <div class="col s12 no-padding label-new m-b">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                    autocomplete="off" ng-model="modalCompromisosVars.nombre" required>
                  <label>Nombre (*)</label>
                </div>

              </div>
              <div class="col s12 m12 l12 formIndicCompromisos_Desactivar">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    ng-model="modalCompromisosVars.descripcion"></textarea>
                  <label>Descripción (*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 m-t">
                <div class="col s3 no-padding label-new m-b formIndicCompromisos_Desactivar">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                    autocomplete="off" ng-model="modalCompromisosVars.fechaInicio">
                  <label>Fecha de Inicio (*)</label>
                </div>

                <div class="col s3 no-padding label-new m-b formIndicCompromisos_Desactivar">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                    autocomplete="off" ng-model="modalCompromisosVars.fechaVencimiento"
                    >
                  <label>Fecha de Vencimiento (*)</label>
                </div>
                <div class="col s3 no-padding label-new m-b formIndicCompromisos_Desactivar_Gest">
                  <select class="select-default-new input-out-new m-l" ng-model="modalCompromisosVars.estado" required>
                    <option value="P" ng-disabled="modalCompromisosVars.idCompromiso != ''">Pendiente</option>
                    <option value="C" ng-disabled="modalCompromisosVars.idCompromiso == ''">Cumplio</option>
                    <option value="N" ng-disabled="modalCompromisosVars.idCompromiso == ''">No Cumplio</option>
                  </select>
                  <label>Estado (*)</label>
                </div>
              </div>

              <div class="col s12 m12 l12">
                <div class="col s6 no-padding label-new m-b m-t"
                  ng-show="modalDatosCambio.REGC_ESTADO == 'A' && modalCompromisosVars.idCompromiso != '' && modalCompromisosVars.gestionTerminada == 'N' && permisos.BADC_EDITAR_PLAN == 'S'">
                  <div class="file-upload-wrapper file-field input-field m-l" data-text="Cargar Archivo (.ZIP - .PDF)">
                    <input type="file" id="fileGestionIndicCompromiso" name="fileGestionIndicCompromiso">
                  </div>
                </div>
              </div>

              <div class="col s12 m12 l12 formIndicCompromisos_Desactivar_Gest">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;"
                  ng-show="modalCompromisosVars.idCompromiso != ''">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    ng-model="modalCompromisosVars.observacion"></textarea>
                  <label>Observación (*)</label>
                </div>
              </div>

              <div class="col s12 m12 l12 m-t m-l" style="padding: 0; border: 1px solid #8a88865e !important;"
                ng-show="modalCompromisosVars.listadoAdjuntos.length">
                <div style="max-height: 20vh;overflow-y: auto;">
                  <table id="table" class="highlight">
                    <tr>
                      <th width="50%">Archivo</th>
                      <th width="20%">Fecha</th>
                      <th width="30%">Responsable</th>
                    </tr>
                    <tr title="Ver Anexo" class="c-pointer" ng-click="descargarSoporte(x.GESC_RUTA)"
                      ng-repeat="x in modalCompromisosVars.listadoAdjuntos">
                      <td>{{x.GESC_NOMBRE}}</td>
                      <td>{{x.GESF_FECHA}}</td>
                      <td>{{x.RESPONSABLE}}</td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
            <!--  -->
            <div class="col s12 m12 l12 center m-t m-b">
              <input class="btn white-text red"
                style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit" value="Atras"
                ng-click="atrasModalCompromisos();">
              <input class="btn white-text default-linear-gradient" type="submit"
                value="{{modalCompromisosVars.idCompromiso == '' ? 'Guardar':'Actualizar'}} Datos"
                ng-click="guardarFormCompromisos()"
                ng-if="modalDatosCambio.REGC_ESTADO == 'A' && modalCompromisosVars.gestionTerminada == 'N' && permisos.BADC_CREAR_PLAN == 'S'">
            </div>
          </div>
        </div>
        <!--  -->
      </div>
      <!--  -->

      <!--  -->
    </div>
    <!--  -->
  </div>
  <!--  -->
  <div id="modalPlanMejora" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;display: flex;" class="default-color">
            <i class="icon-left-circle-1 f-20 c-pointer" ng-click="closeModal();modalDatosCorresp(modalDatosCambio)"
              title="Ver Datos"></i>
            Plan de Mejoramiento
          </span></h5>
        <label>
          <b>#{{modalDatosCambio.CODIGO}} - {{modalDatosCambio.REGN_NOM_INDICADOR}} - Periodo: {{modalPlanMejoraVars.periodoNombre}} </b>
        </label>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin w-100" style="max-height: 100vh;overflow-y: auto;">
          <!--  -->
          <div class="col s12 m12 l12" ng-show="modalPlanMejoraVars.activarForm == 'N'">
            <table class="tableDatosCorresp table-bordered highlight">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Descripción</th>
                  <!-- <th>Corrección</th>

                <th>Acciones</th>
                <th>Corrección</th>
                <th>Corrección</th> -->

                  <th>Fecha Inicio</th>
                  <th>Fecha Term.</th>
                  <th>Comentarios</th>
                  <th>Estado</th>
                  <th>Responsable Registro</th>
                  <th>Fecha Registro</th>
                  <th>Seguimientos</th>
                  <th style="width:1%"></th>
                </tr>
              </thead>
              <tr ng-repeat="x in modalPlanMejoraVars.listadoPlanMejora">
                <td>{{x.GESN_ID_PLANMEJORA}}</td>
                <td>{{x.GESC_DESCRIPCION}}</td>

                <!-- <td>{{x.GESC_CORRECCION}}</td>
                <td>{{x.GESC_ACCIONES}}</td>
                <td>{{x.GESC_ACCION_MEJORA}}</td>
                <td>{{x.GESC_INDICADORES}}</td>
                <td>{{x.GESC_META}}</td> -->

                <td>{{x.GESF_FECHA_INICIO}}</td>
                <td>{{x.GESF_FECHA_TERMINACION}}</td>
                <td>{{x.GESC_COMENTARIOS}}</td>
                <td>
                  <span
                    class="status {{x.GESN_ESTADO.split('-')[0] == 'A' ? 'etiquetaVerde' : 'etiquetaRoja'}}">{{x.GESN_ESTADO.split('-')[1]}}</span>
                </td>
                <td>{{x.GESN_RESPONSABLE_REGISTRO}}</td>
                <td>{{x.GESF_FECHA_REGISTRO}}</td>
                <td>{{x.CANTIDAD_SEGUIMIENTOS}}</td>

                <td>
                  <i class="icon-list-add c-pointer" title="Gestionar Plan" style="font-size: 1rem;"
                    ng-click="editarModalPlanMejora(x, $index)"></i>

                </td>
              </tr>
              <tr ng-show="modalPlanMejoraVars.listadoPlanMejora.length == 0">
                <th colspan="10" style="text-align: center;">Sin registros</th>
              </tr>
            </table>
            <div class="col s12 m12 l12 center m-t">
              <input class="btn white-text default-linear-gradient" type="submit" value="Crear Plan de Mejoramiento"
                ng-if="modalDatosCambio.REGC_ESTADO == 'A' && permisos.BADC_CREAR_PLAN == 'S'" ng-click="crearModalPlanMejora()">
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12"
            ng-show="modalPlanMejoraVars.activarForm == 'S' && modalPlanMejoraVars.activarFormSeg == 'N'">
            <blockquote class="blockquote_titulo m-b mt-0">
              {{modalPlanMejoraVars.idPlanMejora == '' ? 'Plan de Mejoramiento Nuevo' : 'Plan de Mejoramiento
              #' +
              modalPlanMejoraVars.idPlanMejora}}
            </blockquote>

            <div class="row">

              <div class="col s12 m12 l12 formIndicPlanMejora_Desactivar">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    ng-model="modalPlanMejoraVars.descripcion"></textarea>
                  <label>Descripción del Hallazgo(*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 formIndicPlanMejora_Desactivar m-t">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper ng-model="modalPlanMejoraVars.correccion"></textarea>
                  <label>Corrección Inmediata(*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 formIndicPlanMejora_Desactivar m-t">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    title="Describa las acciones de mejoramiento que busque eliminar la causa raiz del hallazgo, con el fin de que no vuelva a ocurrir"
                    ng-model="modalPlanMejoraVars.acciones"></textarea>
                  <label>Acciones (*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 formIndicPlanMejora_Desactivar m-t">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    title="Cómo realizará la acción, método o herramienta a utilizar"
                    ng-model="modalPlanMejoraVars.accionMejora"></textarea>
                  <label>Acciones Mejora (*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 formIndicPlanMejora_Desactivar m-t">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    ng-model="modalPlanMejoraVars.indicadores"></textarea>
                  <label>Indicadores (*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 formIndicPlanMejora_Desactivar m-t">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper ng-model="modalPlanMejoraVars.meta"></textarea>
                  <label>Meta (*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 formIndicPlanMejora_Desactivar m-t">

                <div class="col s3 no-padding label-new m-b">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                    autocomplete="off" ng-model="modalPlanMejoraVars.fechaInicio" max="{{SysDay | date:'yyyy-MM-dd'}}">
                  <label>Fecha de Inicio (*)</label>
                </div>

                <div class="col s3 no-padding label-new m-b">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                    autocomplete="off" ng-model="modalPlanMejoraVars.fechaTerminacion"
                    min="{{SysDay | date:'yyyy-MM-dd'}}">
                  <label>Fecha de Terminación (*)</label>
                </div>
              </div>

              <div class="col s12 m12 l12 formIndicPlanMejora_Desactivar">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    ng-model="modalPlanMejoraVars.comentarios"></textarea>
                  <label>Comentarios (*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 formIndicPlanMejora_Desactivar_Gest m-t">
                <div class="col s3 no-padding label-new m-b" ng-show="modalPlanMejoraVars.idPlanMejora != ''">
                  <select class="select-default-new input-out-new m-l" ng-model="modalPlanMejoraVars.estado" required>
                    <option value="A">Abierto</option>
                    <option value="C">Cerrado</option>
                  </select>
                  <label>Estado del Hallazgo(*)</label>
                </div>
              </div>


              <div class="col s12 m12 l12 center m-t">
                <input class="btn white-text red"
                  style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit"
                  value="Cerrar" ng-click="atrasModalPlanMejora();">
                <input class="btn white-text default-linear-gradient" type="submit" value="Guardar Datos"
                  ng-click="guardarFormPlanMejora()"
                  ng-if="modalDatosCambio.REGC_ESTADO == 'A' && modalPlanMejoraVars.gestionTerminada == 'N' && permisos.BADC_CREAR_PLAN == 'S'">
              </div>

            </div>
            <!-- SEGUIMIENTOS -->
            <div class="col s12 m12 l12 m-b m-l" style="padding: 0; border: 1px solid #8a88865e !important;"
              ng-show="modalPlanMejoraVars.listadoPlanMejoraSeguimiento.length">
              <div style="max-height: 20vh;overflow-y: auto;">
                <table id="table" class="highlight">
                  <tr>
                    <th># Seguimiento</th>
                    <th>Fecha</th>
                    <th>Porcentaje</th>
                    <th>Verificación</th>
                    <th>Comentario</th>
                    <th>Responsable</th>
                    <th>Fecha de Registro</th>
                  </tr>
                  <tr title="Ver Anexo" ng-repeat="x in modalPlanMejoraVars.listadoPlanMejoraSeguimiento">
                    <td>{{x.GESN_ID_SEGUIMIENTO}}</td>
                    <td>{{x.GESF_FECHA_SEGUIMIENTO}}</td>
                    <td>{{x.GESC_PORCENTAJE_AVANCE}}</td>
                    <td>{{x.GESC_VERIFICACION}}</td>
                    <td>{{x.GESC_COMENTARIOS}}</td>
                    <td>{{x.GESN_RESPONSABLE_REGISTRO}}</td>
                    <td>{{x.GESF_FECHA_REGISTRO}}</td>
                  </tr>
                </table>
              </div>
              <!--  -->
            </div>
            <div class="col s12 m12 l12 center m-b"
              ng-if="modalPlanMejoraVars.idPlanMejora != '' && modalPlanMejoraVars.listadoPlanMejoraSeguimiento.length <=2 && modalPlanMejoraVars.estado != 'C'">
              <input class="btn white-text default-linear-gradient" type="submit" value="Crear Seguimiento"
                ng-if="modalDatosCambio.REGC_ESTADO == 'A' && permisos.BADC_CREAR_SEG_PLAN == 'S'" ng-click="crearModalPlanMejoraSeg()">
            </div>

          </div>
          <!--  -->
          <div class="col s12 m12 l12" ng-show="modalPlanMejoraVars.activarFormSeg == 'S'">
            <blockquote class="blockquote_titulo m-b mt-0">
              {{'Seguimiento Nuevo #' + (modalPlanMejoraVars.listadoPlanMejoraSeguimiento.length + 1)}}
            </blockquote>

            <div class="row">
              <div class="col s12 m12 l12">
                <div class="col s3 no-padding label-new m-b">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                    autocomplete="off" ng-model="modalPlanMejoraVars.fechaSeguimientoSeg"
                    max="{{SysDay | date:'yyyy-MM-dd'}}">
                  <label>Fecha de Seguimiento (*)</label>
                </div>
              </div>

              <div class="col s12 m12 l12 m-t">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    ng-model="modalPlanMejoraVars.porcentajeAvanceSeg"></textarea>
                  <label>Porcentaje de Avance (*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 m-t">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    ng-model="modalPlanMejoraVars.verificacionSeg"></textarea>
                  <label>Verificación (*)</label>
                </div>
              </div>
              <div class="col s12 m12 l12 m-t">
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="1000"
                    autocomplete="off" text-description text-upper
                    ng-model="modalPlanMejoraVars.comentariosSeg"></textarea>
                  <label>Comentarios (*)</label>
                </div>
              </div>

              <div class="col s12 m12 l12 center m-t m-b">
                <input class="btn white-text red"
                  style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit"
                  value="Cerrar" ng-click="atrasModalPlanMejoraSeg();">
                <input class="btn white-text default-linear-gradient" type="submit" value="Guardar Datos"
                  ng-click="guardarFormPlanMejoraSeg()">
              </div>

            </div>
          </div>

          <!--  -->
        </div>
        <!--  -->
      </div>
      <!--  -->

      <!--  -->
    </div>
    <!--  -->
  </div>
  <!-- ///// -->
  <!-- //////////////////////////////////TAB 3////////////////////////////////// -->
  <!-- TABLA -->
  <div class="row dashboard-wrapper content-container white" ng-show="Tabs == 3">
    <div class="col s12 m12 l12" style="justify-content: center;">
      <div class="card-action" id="card-action"
        style="overflow: auto;display: inline-block;width: 100%;height: 100%;padding-bottom: 0;">
        <!--  -->
        <span class="btn" ng-click="modalCrearPDM()" ng-if="permisos.BADC_CREAR_FICHA_PDM == 'S'">Crear Hallazgo</span>
        <!--  -->
        <div class="foot4 divcardcustom default-linear-gradient">
          <div class="text-al divcardcustom2">
            <strong class="switch">Listado de Hallazgo
              ({{hojaPDM.listadoTabla.length}})</strong>
            <div class="tooltip">
              <i class="icon-cw-circle cursor-pointer" ng-click="hojaPDMListar()"></i>
              <span class="tooltiptext" style="font-size: 12px;width: 70px;margin-left: -35px;">Actualizar</span>
            </div>
            <div class="tooltip">
              <i class="icon-filter-1 cursor-pointer" ng-click="hojaPDMActivarFiltro()"></i>
              <span class="tooltiptext" style="font-size: 12px;width: 70px;margin-left: -35px;">Filtrar</span>
            </div>
            <div class="tooltip">
              <i class="icon-download-1 cursor-pointer" ng-click="descargarInformeMultiplePDM()"></i>
              <span class="tooltiptext" style="font-size: 12px;width: 70px;margin-left: -35px;">Informe Multiple</span>
            </div>
            <div class="col s3 no-padding label-new right"
              style="width: 25%;display: inline-flex;margin-right: -5px;margin-top: -2px;"
              ng-show="!hojaPDM.filtros.activo">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l black-text"
                style="text-align:right;" autocomplete="off" placeholder="Buscar..." ng-model="hojaPDM.filtro"
                ng-change="filter('hojaPDM',hojaPDM.filtro)">
            </div>
          </div>
        </div>
        <div class="foot4 divcardcustom default-linear-gradient black-text" ng-show="hojaPDM.filtros.activo">
          <div class="col s3 no-padding m-b m-r">
            <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.filtros.autoPDM"
              ng-change="hojaPDMAplicarFiltro()">
              <option value="">Filtro Auto PDM</option>
              <option value="{{x.codigo}}" ng-selected="x.codigo == hojaPDM.filtros.autoPDM"
                ng-repeat="x in hojaPDM.listadoAutoPDM" ng-show="x.estado == 'A'">
                {{x.nombre}}</option>
            </select>
          </div>
          <div class="col s1 no-padding m-b">
            <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.filtros.anio"
              ng-change="hojaPDMAplicarFiltro()">
              <option value="">Filtro Año</option>
              <option value="{{x.codigo}}" ng-selected="x.codigo == hojaPDM.filtros.anio"
                ng-repeat="x in hojaIndicadores.listadoAnio">
                {{x.codigo}}</option>
            </select>
          </div>
        </div>
        <!--  -->
        <div class="default-color">
          <table class="tablaListado bordered highlight"
            style="width:100%;font-size:6px !important;color: black;border:3px solid;">
            <thead class="default-border default-color">
              <th>#</th>
              <th>Hallazgo</th>
              <th>Auto PDM</th>
              <th>Año</th>
              <th>Nivel</th>

              <th>Tipo/Medicion</th>
              <th>Frecuencia</th>
              <th>Fecha Inicio</th>
              <th>Fecha Fin</th>
              <th>Tipo Orden</th>
              <th>Diligenciamiento</th>
              <th>Estado Gestión</th>
              <th>Acciones</th>
            </thead>
            <tbody>
              <tr style="cursor:pointer;" class="{{x.CODIGO == itemSeleccionado_PDM ? 'focusElement' :''}}"
                id="{{x.CODIGO}}"
                ng-repeat="x in hojaPDM.listadoTablaTemp | inicio: hojaPDM.varsTabla.currentPage * hojaPDM.varsTabla.pageSize | limitTo: hojaPDM.varsTabla.pageSize">
                <td ng-click="modalEditarPDM(x)">
                  {{(x.CODIGO)}}
                  <!-- - <b>{{x.REGN_NOM_INDICADOR}}</b> -->
                </td>
                <td ng-click="modalEditarPDM(x)">{{x.REGC_HALLAZGO}}</td>
                <td ng-click="modalEditarPDM(x)">{{x.REGC_DESCRIPCION}}</td>
                <!-- <td ng-click="modalEditarPDM(x)">{{x.REGC_AUTOPDM.split('-')[1]}}</td> -->
                <td ng-click="modalEditarPDM(x)">{{x.REGN_ANNO}}</td>
                <td ng-click="modalEditarPDM(x)">{{x.REGC_NIVEL.split('-')[1]}}</td>
                <td ng-click="modalEditarPDM(x)">{{x.REGC_TIPO_CALCULO.split('-')[1]}}</td>
                <td ng-click="modalEditarPDM(x)">{{x.REGC_FRECUENCIA.split('-')[1]}}</td>
                <td ng-click="modalEditarPDM(x)">{{x.REGF_FECHA_INICIO}}</td>
                <td ng-click="modalEditarPDM(x)">{{x.REGF_FECHA_TERMINACION}}</td>
                <!-- <td ng-click="modalEditarPDM(x)">{{x.REGC_CLASIFICACION.split('-')[1]}}</td> -->
                <td ng-click="modalEditarPDM(x)">{{x.REGC_TIPO_SENTIDO.split('-')[1]}}</td>
                <td ng-click="modalEditarPDM(x)">{{x.DILIGENCIAMIENTO}} %</td>
                <td>
                  <span
                    class="status transparent-text {{obtenerEstadoGestionIndicador(x.REGC_TIPO.split('-')[0], x.ESTADO_ACTUAL.split('-')[0])}}">---</span>
                  <!-- <span
                    class="status transparent-text {{obtenerEstadoGestionIndicador(x.REGC_TIPO.split('-')[0], x.ESTADO_ACTUAL.split('-')[0])}}">{{x.ESTADO_ACTUAL.split('-')[0]}}</span> -->
                </td>
                <td>
                  <!-- <i class="iconFontSize icon-doc-text-1 default-color c-pointer" title="Ficha del Indicador"
                    ng-click="modalFichaTecnica(x)"></i> -->
                  <i class="iconFontSize icon-chart-line default-color c-pointer" title="Grafico"
                    ng-click="modalGraficoPDM(x);"></i>
                  <i class="iconFontSize icon-calendar-3 default-color c-pointer" title="Datos Periodo"
                    ng-click="modalDatosCorrespPDM(x);"></i>
                  <i class="iconFontSize icon-list-4 default-color c-pointer" title="Seguimiento"
                    ng-click="modalSeguimientoPDM(x);"></i>
                </td>
              </tr>
              <tr ng-show="hojaPDM.listadoTablaTemp.length==0">
                <td class="center-align" colspan="11" style="font-weight: bolder;">No se encontraron resultados.</td>
              </tr>
            </tbody>
          </table>

          <div class="row margin">
            <div class="col s6"><label for="normal">Total de PDM filtrados:
                {{hojaPDM.listadoTablaTemp.length}}</label></div>
            <div class="col s6 right-align"><label for="normal">Total de PDM encontrados:
                {{hojaPDM.listadoTabla.length}}</label></div>
          </div>

          <ul style="text-align: center;padding-top: 20px;" class="pagination">
            <li><button ng-disabled='hojaPDM.varsTabla.currentPage == 0' class="btn-floating default-linear-gradient"
                ng-click="paso('hojaPDM','back')">&laquo;</button>
            </li>
            <li ng-repeat='page in hojaPDM.varsTabla.pages'><button
                ng-disabled="hojaPDM.varsTabla.currentPage == page.no - 1" class="btn-floating default-linear-gradient"
                ng-click="setPage('hojaPDM',page.no)">{{page.no}}</button></li>
            <li><button
                ng-disabled='hojaPDM.varsTabla.currentPage >= hojaPDM.listadoTablaTemp.length/hojaPDM.varsTabla.pageSize - 1'
                class="btn-floating default-linear-gradient" ng-click="paso('hojaPDM','next')">&raquo;</button>
            </li>
          </ul>
        </div>

        <!-- //-// -->
      </div>
    </div>
  </div>
  <!-- TABLA -->
  <!-- MODAL -->
  <!-- MODAL -->
  <div id="modalCrearPDM" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;display: flex;" class="default-color">
            {{!hojaPDM.formulario.idPDMSeleccionado
            ?
            'Crear Nuevo Hallazgo':'Editar Hallazgo'}}

            <select class="select-default-new input-out-new m-l" style="width: 7%;font-size: 1rem;"
              ng-model="hojaPDM.formulario.anio" ng-show="!hojaPDM.formulario.idPDMSeleccionado" required>
              <option value="" disabled>Año</option>
              <option value="{{x.codigo}}" ng-selected="x.codigo == hojaPDM.formulario.anio"
                ng-repeat="x in hojaPDM.listadoAnio">
                {{x.codigo}}</option>
            </select>

            <i class="icon-download c-pointer" title="Descargar Ficha Técnica"
              ng-show="hojaPDM.formulario.idPDMSeleccionado"
              ng-click="descargarFichaTecnicaPDM(hojaPDM.formulario)"></i>

            <i class="icon-doc-new c-pointer" title="Duplicar indicador" ng-show="hojaPDM.formulario.idPDMSeleccionado"
              ng-click="generarIndicadorNuevoPDM(hojaPDM.formulario)" ng-if="permisos.BADC_CREAR_FICHA_PDM == 'S'"></i>

          </span></h5>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin" style="max-height: 100vh;overflow-y: auto;">
          <!-- <form ng-submit="guardarFormIndicador()"> -->
          <!--  -->
          <div class="col s12 m12 l12" id="modalCrearPDM_Scroll">
            <div class="col s3 no-padding label-new m-b formPDM_Desactivar">
              <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.formulario.nivel" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaPDM.formulario.nivel"
                  ng-repeat="x in hojaPDM.listadoNivel">
                  {{x.nombre}}</option>
              </select>
              <label>Nivel (*)</label>
            </div>
            <div class="col s3 no-padding label-new m-b formPDM_Desactivar" ng-show="hojaPDM.formulario.nivel === '2'">
              <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.formulario.regional" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaPDM.formulario.regional"
                  ng-repeat="x in hojaPDM.listadoRegionales">
                  {{x.nombre}}</option>
              </select>
              <label>Regional (*)</label>
            </div>

            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                autocomplete="off" ng-model="hojaPDM.formulario.fechaInicio" max="{{SysDay | date:'yyyy-MM-dd'}}">
              <label>Fecha de Inicio (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                autocomplete="off" ng-model="hojaPDM.formulario.fechaTerminacion">
              <label>Fecha de Terminacion (*)</label>
            </div>

            <div class="col s2 no-padding label-new m-b formPDM_Desactivar_Estado"
              ng-show="hojaPDM.formulario.idPDMSeleccionado">
              <select class="select-default-new input-out-new m-l" style="box-shadow: none;" watch
                ng-model="hojaPDM.formulario.estado">
                <option value="" disabled>SELECCIONAR</option>
                <option value="A">Activo</option>
                <option value="I">Inactivo</option>
              </select>
              <label>Estado</label>
            </div>

          </div>

          <div class="col s12 m12 l12 formPDM_Desactivar">
            <div class="col s9 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.componente" maxlength="200" text-upper required>
              <label>Componente/Estándar (*)</label>
            </div>
            <div class="col s3 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.formulario.autoPDM" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaPDM.formulario.autoPDM"
                  ng-show="x.estado == 'A' || hojaPDM.formulario.autoPDM == x.codigo"
                  ng-repeat="x in hojaPDM.listadoAutoPDM">
                  {{x.nombre}}</option>
              </select>
              <label>Auto Plan de Mejoramiento (*)</label>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-b formPDM_Desactivar">
            <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
              <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="3999" autocomplete="off"
                text-description text-upper ng-model="hojaPDM.formulario.descripcion"></textarea>
              <label>Nombre del indicador (*)</label>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 formPDM_Desactivar">
            <div class="col s12 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.hallazgo" maxlength="200" text-upper required>
              <label>Hallazgo (*)</label>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-b formPDM_Desactivar">
            <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
              <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="3999" autocomplete="off"
                text-description text-upper ng-model="hojaPDM.formulario.descripcionHallazgo"></textarea>
              <label>Descripcion del Hallazgo (*)</label>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-b formPDM_Desactivar">
            <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
              <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="3999" autocomplete="off"
                text-description text-upper ng-model="hojaPDM.formulario.accionMejora"></textarea>
              <label>Acción de Mejora (*)</label>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-b formPDM_Desactivar">
            <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
              <textarea class="white input-text-new input-out-new w-100 margin m-l" maxlength="3999" autocomplete="off"
                text-description text-upper ng-model="hojaPDM.formulario.descripcionMejora"></textarea>
              <label>Descripción de la acción de Mejora (*)</label>
            </div>
          </div>
          <!--  -->

          <!--  -->

          <div class="col s12 m12 l12 formPDM_Desactivar">

            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.formulario.frecuencia" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaPDM.formulario.frecuencia"
                  ng-repeat="x in hojaPDM.listadoFrecuencia">
                  {{x.nombre}}</option>
              </select>
              <label>Frecuencia (*)</label>
            </div>

            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.meta" numbers-decimal-only maxlength="18" required>
              <label>Meta (*)</label>
            </div>

            <div class="col s2 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.formulario.unidadMedida" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaPDM.formulario.unidadMedida"
                  ng-repeat="x in hojaPDM.listadoUnidadMedida">
                  {{x.nombre}}</option>
              </select>
              <label>Unidad de Medida (*)</label>
            </div>

            <div class="col s3 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.formulario.accionMejoraEstado"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="S" ng-show="hojaPDM.formulario.idPDMSeleccionado">Si</option>
                <option value="N" ng-show="hojaPDM.formulario.idPDMSeleccionado">No</option>
                <option value="E">En Espera</option>
              </select>
              <label>Acción de mejora aprobada (*)</label>
            </div>

          </div>


          <!--  -->

          <!--  -->
          <div class="col s12 m12 l12 m-b formPDM_Desactivar">
            <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
              <textarea class="white input-text-new input-out-new w-100 margin m-l m-r" maxlength="3999"
                autocomplete="off" text-description text-upper ng-model="hojaPDM.formulario.fuenteDatos"></textarea>
              <label>Fuente datos (*)</label>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-t formPDM_Desactivar">
            <form ng-submit="hojaPDMBuscarResponsable(hojaPDM.formulario.responsables)">
              <div class="col s8 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaPDM.formulario.responsables" list="listadoResponsables"
                  ng-change="hojaPDMAgregarResponsable()" text-upper required>
                <datalist id="listadoResponsables" open="open">
                  <option value="{{x.codigo +' - '+ x.nombre}}" ng-repeat="x in hojaPDM.formulario.listadoResponsables">
                </datalist>
                <label class="m-l">Responsable(s) del seguimiento y análisis (*)
                  <i class="icon-search c-pointer" ng-click="hojaPDMBuscarResponsable(hojaPDM.formulario.responsables)"
                    ng-if="permisos.BADC_CREAR_FICHA_PDM == 'S' || permisos.BADC_EDITAR_FICHA_PDM == 'S'"></i>
                </label>
              </div>
            </form>
          </div>
          <!--  -->
          <div class="col s8 m8 l8 m-l" style="max-height: 30vh;overflow-y: auto;"
            ng-show="hojaPDM.formulario.listadoResponsablesTabla.length">
            <table class="bordered default-border">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Responsable</th>
                  <th>-</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="x in hojaPDM.formulario.listadoResponsablesTabla">
                  <td>{{$index + 1}}</td>
                  <td>{{x.codigo + ' - ' + x.nombre}}</td>
                  <td>
                    <i class="iconFontSize icon-trash default-color c-pointer" title="Borrar"
                      ng-click="hojaPDMQuitarResponsable($index)"
                      ng-if="permisos.BADC_CREAR_FICHA_PDM == 'S' || permisos.BADC_EDITAR_FICHA_PDM == 'S'"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 m-t">
            <blockquote class="blockquote_titulo m-b">
              Semaforización
            </blockquote>
          </div>
          <!--  -->
          <div class="col s12 m12 l12 formPDM_Desactivar">
            <div class="col s3 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.formulario.tipoCalculo" required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="{{x.codigo}}" ng-selected="x.codigo == hojaPDM.formulario.tipoCalculo"
                  ng-repeat="x in hojaPDM.listadotipoCalculo">
                  {{x.nombre}}</option>
              </select>
              <label>Tipo de Cálculo (*)</label>
            </div>

            <div class="col s3 no-padding label-new m-b">
              <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.formulario.semaforizacionEstado"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="S">Si</option>
                <option value="N">No</option>
              </select>
              <label>Semaforización habilitada (*)</label>
            </div>
            <div class="col s3 no-padding label-new m-b" ng-show="hojaPDM.formulario.semaforizacionEstado == 'S'">
              <select class="select-default-new input-out-new m-l" ng-model="hojaPDM.formulario.semaforizacionSentido"
                required>
                <option value="" disabled>SELECCIONAR</option>
                <option value="A">Ascendente</option>
                <option value="D">Descendente</option>
              </select>
              <label>Tipo de Orden (*)</label>
            </div>
          </div>
          <div class="col s12 m12 l12 formPDM_Desactivar" ng-show="hojaPDM.formulario.semaforizacionEstado == 'S'">
            <div class="col s6 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.descripcionNumerador" maxlength="180" text-upper
                text-description>
              <label>Descripción del Numerador</label>
            </div>
            <div class="col s6 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.descripcionDenominador" maxlength="180" text-upper
                text-description>
              <label>Descripción del Denominador</label>
            </div>
            <div class="col s6 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.descripcionConstante" maxlength="180" text-upper
                text-description>
              <label>Descripción del Constante</label>
            </div>
          </div>


          <div class="col s12 m12 l12 formPDM_Desactivar" ng-show="hojaPDM.formulario.semaforizacionEstado == 'S'">
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.semaforizacionValor1" numbers-decimal-only
                style="border-color: red !important;" maxlength="16" required>
              <label>Valor 1 (*) - {{hojaPDM.formulario.semaforizacionSentido == 'A' ? 'Baja' : 'Alta'}}</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.semaforizacionValor2" numbers-decimal-only
                style="border-color: yellow !important;" maxlength="16" required>
              <label>Valor 2 (*) - Media</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.semaforizacionValor3" numbers-decimal-only
                style="border-color: green !important;" maxlength="16" required>
              <label>Valor 3 (*) - {{hojaPDM.formulario.semaforizacionSentido == 'A' ? 'Alta' : 'Baja'}}</label>
            </div>
            <div class="col s2 no-padding label-new m-b">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                autocomplete="off" ng-model="hojaPDM.formulario.semaforizacionValorMax" numbers-decimal-only
                style="border-color: green !important;" maxlength="16" required>
              <label>Valor Máx. (*)</label>
            </div>
            <div class="col s2 no-padding label-new m-l">
              <button class="btn btn-primary btnAgregar" type="button" title="Ver Gráfico"
                ng-click="calcularGraficoSemaforizacion('hojaPDM')">Ver Gráfico
                <i class="icon-chart-pie-alt"></i>
              </button>
            </div>
          </div>
          <!--  -->
          <div class="col s12 m-b" ng-show="hojaPDM.formulario.semaforizacionEstado == 'S'">
            <div class="col s12 align-items" id="hojaPDM_graficoSemaforizacion" style="height: 250px;">
            </div>
          </div>
          <!--  -->

          <!--  -->

          <!-- </form> -->

        </div>
        <div class="row bg-white white margin" style="max-height: 100vh;overflow-y: auto;">
          <div class="col s12 m12 l12 center">
            <input class="btn white-text default-linear-gradient" type="submit"
              value="{{!hojaPDM.formulario.idPDMSeleccionado ? 'Guardar':'Actualizar'}} PDM" ng-click="guardarFormPDM()"
              ng-if="permisos.BADC_CREAR_FICHA_PDM == 'S' || permisos.BADC_EDITAR_FICHA_PDM == 'S'">

            <input class="btn white-text" type="submit"
              style="background: linear-gradient(to left bottom, rgb(224, 66, 66), rgb(139, 0, 0), rgb(224, 66, 66));"
              value="Eliminar PDM" ng-click="hojaIndicadoresEliminar_PDM(hojaPDM.formulario)"
              ng-if="permisos.BADC_ELIMINAR_FICHA_PDM == 'S'">

            <!-- <i class="icon-doc-new c-pointer" title="Duplicar indicador"
            ng-show="hojaPDM.formulario.idPDMSeleccionado"
            ng-click="generarIndicadorNuevoPDM(hojaPDM.formulario)" ng-if="validarPermisos(['AS','AM'])"></i> -->
          </div>
        </div>
      </div>
      <!--  -->
      <!--  -->
    </div>
  </div>
  <!--  -->
  <!--  -->
  <div id="modalGraficoPDM" class="modal"
    style="margin: 0 auto;max-height:99%;width: 90%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;display: flex;" class="default-color">
            Gráfico del Hallazgo
            <i class="icon-right-circle-1 f-20 c-pointer"
              ng-click="closeModal();modalDatosCorrespPDM(modalDatosCambio_PDM)" title="Ver Datos"></i>
            <!-- <select class="select-default-new input-out-new m-l" style="width: 7%;font-size: 1rem;"
              ng-model="modalGraficoVars.anio" ng-change="cargarGraficoPeriodoChange()" required>
              <option value="" disabled>Seleccionar</option>
              <option value="{{x.codigo}}" ng-selected="x.codigo == modalGraficoVars.anio"
                ng-repeat="x in hojaIndicadores.listadoAnio">
                {{x.codigo}}</option>
            </select> -->
          </span></h5>
        <label>
          <b>{{modalDatosCambio_PDM.REGC_HALLAZGO}}</b>
        </label>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin">
          <!--  -->
          <div class="col s12" id="graficoPDM" style="zoom: 1.2;width: 100 !important;">
          </div>
          <!--  -->
        </div>
      </div>
      <!--  -->
    </div>
  </div>
  <!--  -->
  <div id="modalDatosCorrespPDM" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;display: flex;" class="default-color">
            Datos Periodo Hallazgo
            <i class="icon-right-circle-1 f-20 c-pointer" ng-click="closeModal();modalGraficoPDM(modalDatosCambio_PDM)"
              title="Ver Gráfica"></i>
          </span></h5>
        <label>
          <b>{{modalDatosCambio_PDM.REGC_HALLAZGO}}</b>
        </label>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin w-100" style="max-height: 100vh;overflow-y: auto;">
          <!--  -->
          <div class="col s12 m12 l12" ng-show="hojaPDM.modalDatosCorrespVars.vista == 1">
            <table class="tableDatosCorresp table-bordered highlight">
              <thead>
                <tr>
                  <th>Año</th>
                  <th>Periodo</th>
                  <th>Formula</th>
                  <!-- <th>Acumulado</th> -->
                  <!-- <th ng-show="validarPermisos(['AS']) && hojaPDM.modalDatosCorrespVars.REGC_FRECUENCIA.split('-')[0] == 'M'">
                  Meta Vigencia</th> -->
                  <th>Analisis</th>
                  <th>Responsable del dato</th>
                  <th>Estado Gestión</th>
                  <th style="width:1%"></th>
                </tr>
              </thead>
              <tr ng-repeat="x in hojaPDM.modalDatosCorrespVars.listado"
                class="{{x.GESV_RESPONSABLE == '0-DBA' ? 'resaltadoRojo':''}}">
                <th>{{x.GESN_ANNO}}</th>
                <th>{{x.GESN_PERIODO_NOMBRE}}</th>
                <td>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CA' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mrow>
                        <mn>{{x.GESN_CONSTANTE}}</mn>
                      </mrow>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'PO' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>*</mo>
                      <mn>100</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'RA' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TA' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>*</mo>
                      <mn>{{x.GESN_CONSTANTE}}</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'VA' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                          <mo>-</mo>
                          <mn>{{x.GESN_DENOMINADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>*</mo>
                      <mn>100</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DI' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mn>100</mn>
                      <mo>-</mo>
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>*</mo>
                      <mn>100</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'AJ' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mn>{{x.GESN_CONSTANTE}}</mn>
                      <mo>-</mo>
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_CONSTANTE}}</mn>
                          <mo>*</mo>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}}</mn>
                      </mfrac>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DE' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mn>1</mn>
                      <mo>-</mo>
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                        </msup>
                        <mn>{{x.GESN_DENOMINADOR}} * {{x.GESN_CONSTANTE}}</mn>
                      </mfrac>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TL' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mo>(</mo>
                      <mn>{{x.GESN_NUMERADOR}}</mn>
                      <mo>-</mo>
                      <mn>{{x.GESN_DENOMINADOR}}</mn>
                      <mo>)</mo>
                      <mo>*</mo>
                      <mn>{{x.GESN_CONSTANTE}}</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CT' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mn>{{x.GESN_NUMERADOR}}</mn>
                      <mo>-</mo>
                      <mn>{{x.GESN_DENOMINADOR}}</mn>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                  <div style="font-size: 1.2rem;"
                    ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'PR' && x.GESV_RESPONSABLE != '0-DBA'">
                    <math display="inline">
                      <mfrac>
                        <msup>
                          <mn>{{x.GESN_NUMERADOR}}</mn>
                          <mo>+</mo>
                          <mn>{{x.GESN_DENOMINADOR}}</mn>
                        </msup>
                        <mn>2</mn>
                      </mfrac>
                      <mo>=</mo>
                      <mn>{{x.GESN_RESULTADO.startsWith(',') ? ('0'+x.GESN_RESULTADO) : x.GESN_RESULTADO}}</mn>
                    </math>
                  </div>
                </td>
                <!-- <td>
                <span ng-show="x.GESV_RESPONSABLE != '0-DBA'">{{x.GESN_ACUMULADO.startsWith(',') ? ('0'+x.GESN_ACUMULADO)
                  : x.GESN_ACUMULADO}}</span>
              </td> -->
                <!-- <td ng-show="validarPermisos(['AS']) && hojaPDM.modalDatosCorrespVars.REGC_FRECUENCIA.split('-')[0] == 'M'">
                {{x.GESN_META_VIGENCIA}} <i class="icon-arrows-cw c-pointer" title="Gestionar Meta Vigencia"
                  style="font-size: 1rem;" ng-click="hojaIndicadoresEditarMetaVigencia(x)"></i></td> -->
                <td>
                  <span ng-show="x.GESC_OBSERVACION.length > 626">{{x.GESC_OBSERVACION.substr(0,626) + ' ...'}}</span>
                  <span ng-show="x.GESC_OBSERVACION.length <= 626">{{x.GESC_OBSERVACION}}</span>
                </td>
                <td>
                  <span ng-show="x.GESV_RESPONSABLE != '0-DBA'">{{x.GESV_RESPONSABLE.split('-')[1]}}</span>
                </td>
                <td>
                  <span ng-show="x.GESV_RESPONSABLE != '0-DBA'"
                    class="status transparent-text {{obtenerEstadoGestionIndicador(hojaPDM.modalDatosCorrespVars.REGC_TIPO.split('-')[0], x.ESTADO_ACTUAL.split('-')[0])}}">---</span>
                  <!-- <span ng-show="x.GESV_RESPONSABLE != '0-DBA'"
                    class="status transparent-text {{obtenerEstadoGestionIndicador(hojaPDM.modalDatosCorrespVars.REGC_TIPO.split('-')[0], x.ESTADO_ACTUAL.split('-')[0])}}">{{x.ESTADO_ACTUAL.split('-')[0]}}</span> -->

                  <!-- <i class="iconFontSize icon-doc-text-inv default-color c-pointer" title="Compromisos"
                  ng-show="x.GESV_RESPONSABLE != '-'" ng-click="abrirModalCompromisos(x);"></i> -->
                  <!-- <i class="iconFontSize icon-sitemap default-color c-pointer" title="Plan de Mejoramiento"
                  ng-click="abrirModalPlanMejora(x);"
                  ng-show="x.GESV_RESPONSABLE != '-' && x.ESTADO_ACTUAL.split('-')[1] == 'ROJO'"></i> -->
                </td>
                <td>
                  <i class="icon-list-add c-pointer" title="Gestionar Periodo" style="font-size: 1rem;"
                    ng-click="modalDatosCorrespGestionarPeriodo_PDM(x, $index)"
                    ng-if="permisos.BADC_EDITAR_GESTION_PDM == 'S'"></i>
                </td>
              </tr>
            </table>
          </div>
          <!--  -->
          <div class="col s12 m12 l12" ng-show="hojaPDM.modalDatosCorrespVars.vista == 2">
            <blockquote class="blockquote_titulo m-b mt-0">
              Datos para {{hojaPDM.modalDatosCorrespVarsPeriodo.periodoNombre}} de
              {{hojaPDM.modalDatosCorrespVarsPeriodo.anio}} -
              Forma de Cálculo {{hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[1]}}
              <i class="icon-download-1 c-pointer" title="Descargar Traza" style="font-size: 1rem;"
                ng-click="modalGraficoObtenerDatosPDM_traza()"></i>
            </blockquote>

            <div class="col s6 m6 l6">
              <div class="row">
                <div class="col s6 no-padding label-new m-b"
                  ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] != 'CA'">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                    autocomplete="off" ng-model="hojaPDM.modalDatosCorrespVarsPeriodo.numerador"
                    ng-change="calcularResultadoPeriodo_PDM()" maxlength="18" numbers-decimal-only required>
                  <label>Dato Numerador (*)</label>
                </div>
                <div class="col s6 no-padding label-new m-b"
                  ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] != 'CA'">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                    autocomplete="off" ng-model="hojaPDM.modalDatosCorrespVarsPeriodo.denominador"
                    ng-change="calcularResultadoPeriodo_PDM()" maxlength="18" numbers-decimal-only required>
                  <label>Dato Denominador (*)</label>
                </div>
                <div class="col s6 no-padding label-new m-b" ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TA' || hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CA' ||
               hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'AJ' || hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DE' ||
               hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TL'">
                  <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                    autocomplete="off" ng-model="hojaPDM.modalDatosCorrespVarsPeriodo.constante"
                    ng-change="calcularResultadoPeriodo_PDM()" maxlength="18" numbers-decimal-only required>
                  <label>Dato Constante (*)</label>
                </div>
                <div class="col s6 no-padding label-new m-b">
                  <div class="file-upload-wrapper file-field input-field m-l" data-text="Cargar Archivo (.ZIP - .PDF)">
                    <input type="file" id="fileGestionIndic_PDM" name="fileGestionIndic_PDM">
                  </div>
                </div>
                <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                  <textarea class="white input-text-new input-out-new w-100 margin m-l" minlength="50" maxlength="3998"
                    autocomplete="off" text-description text-upper
                    ng-model="hojaPDM.modalDatosCorrespVarsPeriodo.analisis"></textarea>
                  <label>Análisis (*)</label>
                </div>
                <div class="col s12 m12 l12 m-t m-l" style="padding: 0; border: 1px solid #8a88865e !important;"
                  ng-show="hojaPDM.modalDatosCorrespVarsPeriodo.listadoAdjuntos.length">
                  <div class="" style="max-height: 20vh;overflow-y: auto;">
                    <table id="table" class="highlight">
                      <tr>
                        <th width="50%">Archivo</th>
                        <th width="15%">Fecha</th>
                        <th width="30%">Responsable</th>
                        <th>-</th>
                      </tr>
                      <tr title="Ver Anexo" class="c-pointer"
                        ng-repeat="x in hojaPDM.modalDatosCorrespVarsPeriodo.listadoAdjuntos">
                        <td ng-click="descargarSoporte(x.GESC_RUTA)">{{x.GESC_NOMBRE}}</td>
                        <td ng-click="descargarSoporte(x.GESC_RUTA)">{{x.GESF_FECHA}}</td>
                        <td ng-click="descargarSoporte(x.GESC_RUTA)">{{x.RESPONSABLE}}</td>
                        <td><i class="iconFontSize icon-trash default-color c-pointer" title="Borrar"
                            ng-click="eliminarSoportesGestion_PDM(x.GESC_RUTA)"
                            ng-if="permisos.BADC_ELIMINAR_GESTION_PDM == 'S'"></i>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <!--  -->
            <div class="col s6 m6 l6">
              <div class="row">
                <div class="col s12 m12 l12">
                  <ul>
                    <li>
                      <div class="default-color m-b" style="padding: .6rem; border: 2px solid;">
                        <h6 class="fw600 margin">
                          Numerador
                        </h6>
                        <label>{{hojaPDM.modalDatosCorrespVars.REGN_DESCRIPCION_NUMERADOR}}</label>
                      </div>
                    </li>
                    <li>
                      <div class="default-color m-b" style="padding: .6rem; border: 2px solid;">
                        <h6 class="fw600 margin">
                          Denominador
                        </h6>
                        <label>{{hojaPDM.modalDatosCorrespVars.REGN_DESCRIPCION_DENOMINADOR}}</label>
                      </div>
                    </li>
                    <li ng-show="hojaPDM.modalDatosCorrespVars.REGN_DESCRIPCION_CONSTANTE">
                      <div class="default-color m-b" style="padding: .6rem; border: 2px solid;">
                        <h6 class="fw600 margin">
                          Constante
                        </h6>
                        <label>{{hojaPDM.modalDatosCorrespVars.REGN_DESCRIPCION_CONSTANTE}}</label>
                      </div>
                    </li>
                    <li>
                      <div class="default-color" style="padding: .6rem; border: 2px solid;">
                        <h6 class="fw600 margin default-linear-gradient" style="padding: 2px;">
                          Formula Aplicada
                        </h6>
                        <label class="center-align" style="font-size: 2rem;">
                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CA'">
                            <math display="inline">
                              <mrow>
                                <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.constante}}</mn>
                              </mrow>
                            </math>
                          </div>
                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'PO'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>*</mo>
                              <mn>100</mn>
                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'RA'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TA'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>*</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.constante}}</mn>
                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'VA'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                  <mo>-</mo>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                                </msup>
                                <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>*</mo>
                              <mn>100</mn>
                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DI'">
                            <math display="inline">
                              <mn>100</mn>
                              <mo>-</mo>
                              <mfrac>
                                <msup>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>*</mo>
                              <mn>100</mn>
                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>

                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'AJ'">
                            <math display="inline">
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.constante}}</mn>
                              <mo>-</mo>
                              <mfrac>
                                <msup>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.constante}}</mn>
                                  <mo>*</mo>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              </mfrac>
                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>

                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'DE'">
                            <math display="inline">
                              <mn>{{1}}</mn>
                              <mo>-</mo>
                              <mfrac>
                                <msup>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                </msup>
                                <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}} *
                                  {{hojaPDM.modalDatosCorrespVarsPeriodo.constante}}</mn>
                              </mfrac>
                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'TL'">
                            <math display="inline">
                              <mo>(</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                              <mo>-</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              <mo>)</mo>
                              <mo>*</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.constante}}</mn>
                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'CT'">
                            <math display="inline">
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                              <mo>-</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>
                          <div class="m-t"
                            ng-show="hojaPDM.modalDatosCorrespVars.REGC_TIPO_CALCULO.split('-')[0] == 'PR'">
                            <math display="inline">
                              <mfrac>
                                <msup>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.numerador}}</mn>
                                  <mo>+</mo>
                                  <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.denominador}}</mn>
                                </msup>
                                <mn>2</mn>
                              </mfrac>

                              <mo>=</mo>
                              <mn>{{hojaPDM.modalDatosCorrespVarsPeriodo.resultado}}</mn>
                            </math>
                          </div>

                        </label>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>

            </div>

            <!--  -->


            <div class="col s12 m12 l12 center m-t m-b">
              <input class="btn white-text red"
                style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit" value="Cerrar"
                ng-click="hojaPDMAtrasModalPeriodo();">
              <input class="btn white-text default-linear-gradient" type="submit"
                value="{{hojaPDM.modalDatosCorrespVarsPeriodo.accion == 'I' ? 'Guardar':'Actualizar'}} Datos"
                ng-click="modalDatosCorrespGuardarPeriodo_PDM()">
            </div>
          </div>
          <!--  -->
        </div>
        <!--  -->

        <!--  -->
      </div>
      <!--  -->
      <!--  -->
    </div>
  </div>
  <!--  -->
  <div id="modalDatosSeguimientoPDM" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4;">
        <h5><span style="font-weight: 700;display: flex;" class="default-color">
            Seguimientos del Hallazgo
          </span></h5>
        <div class="black-text title-panel margin"
          style="display: flex;justify-content: space-between;align-items: center;margin-bottom: 15px;font-weight: 600;"
          ng-show="hojaPDM.modalDatosSeguimiento.vista.toString().substr(0,1) == '2'">
          Seguimiento seleccionado #{{hojaPDM.modalDatosSeguimientoGestion.vars.codSeguimiento}}
        </div>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin w-100" style="max-height: 100vh;overflow-y: auto;">
          <!--  -->
          <!-- <div class="black-text title-panel ng-binding"
            style="display: flex;justify-content: space-between;align-items: center;margin-bottom: 15px;font-weight: 600;"
            ng-show="hojaPDM.modalDatosSeguimiento.vista.toString().substr(0,1) == '2'">
            Seguimiento seleccionado #{{hojaPDM.modalDatosSeguimientoGestion.vars.codSeguimiento}}
          </div> -->
          <blockquote class="blockquote_titulo m-b mt-0" ng-show="hojaPDM.modalDatosSeguimiento.vista == '2'">
            Gestiones ({{hojaPDM.modalDatosSeguimiento.listadoGestiones.length}})
          </blockquote>
          <!--  -->
          <!-- MOSTRAR SEGUIMIENTOS  -->
          <div class="col s12 m12 l12" ng-show="hojaPDM.modalDatosSeguimiento.vista == 1">
            <table class="tableDatosCorresp table-bordered highlight">
              <thead>
                <tr>
                  <th># Seguimiento</th>
                  <th>Fecha Inicio</th>
                  <th>Fecha Terminación</th>
                  <th>Hallazgo</th>
                  <th>Acción</th>
                  <th>Gestiones</th>
                  <th>Fecha Registro</th>
                  <th>Estado</th>
                  <th>Responsable</th>
                  <th style="width:1%"></th>
                </tr>
              </thead>
              <tr ng-repeat="x in hojaPDM.modalDatosSeguimiento.listado"
                class="{{x.GESV_RESPONSABLE == '0-DBA' ? 'resaltadoRojo':''}}">
                <th>{{x.SEGN_SEGUIMIENTO}}</th>
                <td>{{x.SEGF_FECHA_INICIO}}</td>
                <td>{{x.SEGF_FECHA_FIN}}</td>
                <td>
                  <span ng-show="x.SEGC_HALLAZGO.length > 626">{{x.SEGC_HALLAZGO.substr(0,626) + ' ...'}}</span>
                  <span ng-show="x.SEGC_HALLAZGO.length <= 626">{{x.SEGC_HALLAZGO}}</span>
                </td>
                <td>
                  <span ng-show="x.SEGC_ACCION.length > 626">{{x.SEGC_ACCION.substr(0,626) + ' ...'}}</span>
                  <span ng-show="x.SEGC_ACCION.length <= 626">{{x.SEGC_ACCION}}</span>
                </td>
                <td>
                  <span class="indigo status">{{x.CANTIDAD}}</span>
                </td>
                <td>
                  <span>{{x.SEGF_FECHA_REGISTRO}}</span>
                </td>
                <td>
                  <span
                    class="status {{x.SEGC_ESTADO.split('-')[0] == 'A' ? 'orange' : 'green'}}">{{x.SEGC_ESTADO.split('-')[1]}}</span>
                  <!-- <span class="badge">{{x.SEGC_ESTADO.split('-')[1]}}</span> -->
                </td>
                <td>
                  <span>{{x.SEGV_RESPONSABLE.split('-')[1]}}</span>
                </td>
                <td>
                  <i class="icon-list-add c-pointer" title="Editar" style="font-size: 1.3rem;"
                    ng-click="modalEditarSeguimientoPDM(x)" ng-if="permisos.BADC_EDITAR_SEG == 'S'"></i>
                  <i class="icon-list-4 c-pointer" title="Ver Gestiones" style="font-size: 1rem;"
                    ng-click="modalSeguimientoListarGestionPDM(x.SEGN_COD_PDM,x.SEGN_SEGUIMIENTO,x.SEGC_ESTADO);"></i>
                </td>
              </tr>
              <tr ng-show="!hojaPDM.modalDatosSeguimiento.listado.length">
                <td colspan="9" style="font-weight: bolder;text-align: center;">Sin registros</td>
              </tr>
            </table>
            <div class="col s12 m12 l12 center m-t m-b" ng-if="permisos.BADC_CREAR_SEG == 'S'">
              <!-- <input class="btn white-text red"
                style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit" value="Atras"
                ng-click="atrasModalSeguimiento();"> -->
              <input class="btn white-text default-linear-gradient" type="submit" value="Crear Seguimiento"
                ng-click="modalCrearSeguimientoPDM()">
            </div>
          </div>
          <!--  -->
          <!-- CREAR SEGUIMIENTOS  -->
          <div class="col s12 m12 l12 formSeguimiento_Desactivar" ng-show="hojaPDM.modalDatosSeguimiento.vista == 11">

            <blockquote class="blockquote_titulo m-b mt-0"
              ng-if="hojaPDM.modalDatosSeguimiento.vars.codSeguimiento == ''">
              Nuevo Seguimiento #{{hojaPDM.modalDatosSeguimiento.listado.length + 1}}
            </blockquote>
            <blockquote class="blockquote_titulo m-b mt-0"
              ng-if="hojaPDM.modalDatosSeguimiento.vars.codSeguimiento != ''">
              Actualizar Seguimiento #{{hojaPDM.modalDatosSeguimiento.vars.codSeguimiento}}
            </blockquote>
            <div class="col s12 m12 l12 m-t">
              <div class="col s3 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                  autocomplete="off" ng-model="hojaPDM.modalDatosSeguimiento.vars.fechaInicio"
                  max="{{SysDay | date:'yyyy-MM-dd'}}">
                <label>Fecha de Inicio (*)</label>
              </div>

              <div class="col s3 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                  autocomplete="off" ng-model="hojaPDM.modalDatosSeguimiento.vars.fechaFin">
                <label>Fecha de Cierre (*)</label>
              </div>
              <div class="col s3 no-padding label-new m-b" ng-show="hojaPDM.modalDatosSeguimiento.vars.codPDM != ''">
                <select class="select-default-new input-out-new m-l"
                  ng-model="hojaPDM.modalDatosSeguimiento.vars.estado" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="A">Abierto</option>
                  <option value="C">Cerrado</option>
                </select>
                <label>Estado (*)</label>
              </div>
              <div class="col s3 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l"
                  ng-model="hojaPDM.modalDatosSeguimiento.vars.accionMejoraEstado" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="S">Si</option>
                  <option value="N">No</option>
                </select>
                <label>Acción de mejora aprobada (*)</label>
              </div>
            </div>
            <!--  -->
            <div class="col s12 m12 l12">
              <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                <textarea class="white input-text-new input-out-new w-100 margin m-l m-r" maxlength="1999"
                  autocomplete="off" text-description text-upper
                  ng-model="hojaPDM.modalDatosSeguimiento.vars.hallazgo"></textarea>
                <label>Hallazgo (*)</label>
              </div>
            </div>
            <div class="col s12 m12 l12 m-t">
              <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                <textarea class="white input-text-new input-out-new w-100 margin m-l m-r" maxlength="1999"
                  autocomplete="off" text-description text-upper
                  ng-model="hojaPDM.modalDatosSeguimiento.vars.accion"></textarea>
                <label>Acción (*)</label>
              </div>

              <!-- <div class="col s6 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaPDM.modalDatosSeguimiento.vars.hallazgo" maxlength="1999" text-upper
                  text-description>
                <label>Hallazgo (*)</label>
              </div>
              <div class="col s6 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaPDM.modalDatosSeguimiento.vars.accion" maxlength="1999" text-upper
                  text-description>
                <label>Acción (*)</label>
              </div> -->
            </div>

            <!--  -->
            <div class="col s12 m12 l12 m-t"
              ng-show="permisos.BADC_EDITAR_SEG == 'S' && hojaPDM.modalDatosSeguimiento.vars.estadoSelec == 'A' && hojaPDM.modalDatosSeguimiento.vars.codSeguimiento">
              <div class="col s6 no-padding label-new m-b">
                <div class="file-upload-wrapper file-field input-field m-l" data-text="Cargar Archivo (.ZIP - .PDF)">
                  <input type="file" id="fileSeguimiento_PDM" name="fileSeguimiento_PDM">
                </div>
              </div>
            </div>
            <!--  -->
            <div class="col s12 m12 l12 center m-t m-b" ng-if="permisos.BADC_EDITAR_SEG == 'S'">
              <input class="btn white-text red"
                style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit" value="Atras"
                ng-click="atrasModalSeguimiento();">
              <input class="btn white-text default-linear-gradient" type="submit"
                value="{{!hojaPDM.modalDatosSeguimiento.vars.codSeguimiento == '' ? 'Guardar':'Actualizar'}} Datos"
                ng-click="guardarFormSeguimientoPDM()" ng-if="hojaPDM.modalDatosSeguimiento.vars.estadoSelec == 'A'">
            </div>
            <!--  -->
            <div class="col s12 m12 l12 m-t">
              <blockquote class="blockquote_titulo m-b mt-0"
                ng-if="hojaPDM.modalDatosSeguimientoGestion.vars.listadoAdjuntos.length">
                Soportes
              </blockquote>
              <div style="max-height: 20vh;overflow-y: auto;"
                ng-show="hojaPDM.modalDatosSeguimientoGestion.vars.listadoAdjuntos.length">
                <table class="tableDatosCorresp table-bordered highlight">
                  <thead>
                    <tr>
                      <th width="50%">Archivo</th>
                      <th width="15%">Fecha</th>
                      <th width="30%">Responsable</th>
                      <th>-</th>
                    </tr>
                  </thead>
                  <tr title="Ver Anexo" class="c-pointer"
                    ng-repeat="x in hojaPDM.modalDatosSeguimientoGestion.vars.listadoAdjuntos">
                    <td ng-click="descargarSoporte(x.SEGC_RUTA)">{{x.SEGC_NOMBRE}}</td>
                    <td ng-click="descargarSoporte(x.SEGC_RUTA)">{{x.SEGF_FECHA}}</td>
                    <td ng-click="descargarSoporte(x.SEGC_RUTA)">{{x.RESPONSABLE}}</td>
                    <td><i class="iconFontSize icon-trash default-color c-pointer" title="Borrar"
                        ng-click="eliminarSoportesSeguimiento_PDM(x.SEGC_RUTA)"
                        ng-if="permisos.BADC_ELIMINAR_FICHA_PDM == 'S'"></i>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <!--  -->
            <div class="col s12 m12 l12 m-t">
              <blockquote class="blockquote_titulo m-b mt-0"
                ng-if="hojaPDM.modalDatosSeguimiento.vars.listadoTraza.length>0">
                Traza
              </blockquote>
              <table class="tableDatosCorresp table-bordered highlight"
                ng-if="hojaPDM.modalDatosSeguimiento.vars.listadoTraza.length>0">
                <thead>
                  <tr>
                    <!-- <th># Seguimiento</th> -->
                    <th>Fecha Inicio</th>
                    <th>Fecha Terminación</th>
                    <th>Hallazgo</th>
                    <th>Acción</th>
                    <th>Fecha Registro</th>
                    <th>Estado</th>
                    <th>Responsable</th>
                  </tr>
                </thead>
                <tr ng-repeat="x in hojaPDM.modalDatosSeguimiento.vars.listadoTraza">
                  <!-- <th>{{x.SEGN_SEGUIMIENTO}}</th> -->
                  <td>{{x.SEGF_FECHA_INICIO}}</td>
                  <td>{{x.SEGF_FECHA_FIN}}</td>
                  <td>{{x.SEGC_HALLAZGO}}</td>
                  <td>{{x.SEGC_ACCION}}</td>
                  <td>{{x.SEGF_FECHA_REGISTRO}}</td>
                  <td>
                    <span
                      class="status {{x.SEGC_ESTADO.split('-')[0] == 'A' ? 'orange' : 'green'}}">{{x.SEGC_ESTADO.split('-')[1]}}</span>
                  </td>
                  <td>
                    <span>{{x.SEGV_RESPONSABLE.split('-')[1]}}</span>
                  </td>
                </tr>
              </table>
            </div>
            <!--  -->
          </div>
          <!--  -->
          <!-- MOSTRAR GESTIONES  -->
          <div class="col s12 m12 l12" ng-show="hojaPDM.modalDatosSeguimiento.vista == 2">
            <table class="tableDatosCorresp table-bordered highlight">
              <thead>
                <tr>
                  <th># Gestión</th>
                  <th>Fecha Cierre</th>
                  <th>Estado Avance</th>
                  <th>Estado Accion</th>
                  <th>Oportunidad Ejecucion</th>
                  <th>Porcentaje Avance</th>
                  <th>Estado Hallazgo</th>
                  <th>Observacion</th>
                  <th>Consideraciones</th>
                  <th>Fecha Registro</th>
                  <th>Area</th>
                  <th>Responsable</th>
                  <th style="width:1%"></th>
                </tr>
              </thead>
              <tr ng-repeat="x in hojaPDM.modalDatosSeguimiento.listadoGestiones">
                <th>{{x.SEGN_GESTION}}</th>
                <td>{{x.SEGF_FECHA_CIERRE}}</td>
                <td>{{x.SEGC_ESTADO_AVANCE.split('-')[1]}}</td>
                <td>{{x.SEGC_ESTADO_ACCION.split('-')[1]}}</td>
                <td>{{x.SEGC_OPORTUNIDAD_EJECUCION.split('-')[1]}}</td>
                <td>{{x.SEGC_PORCENTAJE_AVANCE.split('-')[1]}}</td>
                <td>{{x.SEGC_ESTADO_HALLAZGO.split('-')[1]}}</td>
                <td>
                  <span ng-show="x.SEGC_OBSERVACIONES.length > 626">{{x.SEGC_OBSERVACIONES.substr(0,626) + '
                    ...'}}</span>
                  <span ng-show="x.SEGC_OBSERVACIONES.length <= 626">{{x.SEGC_OBSERVACIONES}}</span>
                </td>
                <td>
                  <span ng-show="x.SEGC_CONSIDERACIONES.length > 626">{{x.SEGC_CONSIDERACIONES.substr(0,626) + '
                    ...'}}</span>
                  <span ng-show="x.SEGC_CONSIDERACIONES.length <= 626">{{x.SEGC_CONSIDERACIONES}}</span>
                </td>
                <td>{{x.SEGF_FECHA_REGISTRO}}</td>
                <td>
                  <span>{{x.SEGC_AREA.split('-')[1]}}</span>
                </td>
                <td>
                  <span>{{x.SEGV_RESPONSABLE.split('-')[1]}}</span>
                </td>
                <td>
                  <i class="icon-list-add c-pointer" title="Editar" style="font-size: 1.3rem;"
                    ng-click="modalSeguimientoEditarGestionPDM(x)" ng-if="permisos.BADC_EDITAR_GES_SEG == 'S'"></i>
                  <!-- <i class="icon-list-4 c-pointer" title="Ver Gestiones" style="font-size: 1rem;"
                    ng-click="modalSeguimientoCrearGestionPDM(x.SEGN_COD_PDM,x.SEGN_SEGUIMIENTO);"></i> -->
                </td>
              </tr>
              <tr ng-show="!hojaPDM.modalDatosSeguimiento.listadoGestiones.length">
                <td colspan="13" style="font-weight: bolder;text-align: center;">Sin registros</td>
              </tr>
            </table>
            <div class="col s12 m12 l12 center m-t m-b"
              ng-if="permisos.BADC_CREAR_GES_SEG == 'S' || permisos.BADC_EDITAR_GES_SEG == 'S'">
              <input class="btn white-text red"
                style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit" value="Atras"
                ng-click="atrasModalSeguimiento();">
              <input class="btn white-text default-linear-gradient" type="submit" value="Nueva Gestión"
                ng-click="modalSeguimientoCrearGestionPDM()"
                ng-if="hojaPDM.modalDatosSeguimientoGestion.vars.estadoSeguimiento == 'A'">
            </div>
          </div>
          <!--  -->
          <!-- CREAR GESTIONES  -->
          <div class="col s12 m12 l12" ng-show="hojaPDM.modalDatosSeguimiento.vista == 21">

            <blockquote class="blockquote_titulo m-b mt-0"
              ng-if="hojaPDM.modalDatosSeguimientoGestion.vars.codGestion == ''">
              Nueva Gestión #{{hojaPDM.modalDatosSeguimiento.listadoGestiones.length + 1}}
            </blockquote>
            <blockquote class="blockquote_titulo m-b mt-0"
              ng-if="hojaPDM.modalDatosSeguimientoGestion.vars.codGestion != ''">
              Actualizar Gestión #{{hojaPDM.modalDatosSeguimientoGestion.vars.codGestion}}
            </blockquote>
            <div class="col s12 m12 l12 m-t formGestionPDM_desactivar">
              <div class="col s3 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l" type="date"
                  autocomplete="off" ng-model="hojaPDM.modalDatosSeguimientoGestion.vars.fechaCierre">
                <label>Fecha de Cierre (*)</label>
              </div>

              <div class="col s3 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l"
                  ng-model="hojaPDM.modalDatosSeguimientoGestion.vars.estadoAccion" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="A">Abierto</option>
                  <option value="E">Ejecucion</option>
                  <option value="C">Cerrado</option>
                </select>
                <label>Estado Acción (*)</label>
              </div>

              <div class="col s3 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l"
                  ng-model="hojaPDM.modalDatosSeguimientoGestion.vars.oportunidadEjecucion" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="O">Oportuno</option>
                  <option value="N">No Oportuno</option>
                </select>
                <label>Oportunidad Ejecución (*)</label>
              </div>

              <div class="col s3 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l"
                  ng-model="hojaPDM.modalDatosSeguimientoGestion.vars.porcentajeAvance" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option ng-repeat="x in listadosPDM.porcentajesAvance" value="{{x.Codigo}}">{{x.Nombre}}</option>
                </select>
                <label>Porcentaje Avance (*)</label>
              </div>

            </div>
            <!--  -->
            <div class="col s12 m12 l12 formAuditorGestionPDM_desactivar">

              <div class="col s3 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l"
                  ng-model="hojaPDM.modalDatosSeguimientoGestion.vars.area" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="CI">Control Interno</option>
                  <option value="PL">Planeación</option>
                  <option value="CA">Calidad</option>
                  <option value="GR">Gestión del Riesgo Integral</option>
                </select>
                <label>Area (*)</label>
              </div>

              <div class="col s3 no-padding label-new m-b"
                ng-show="hojaPDM.modalDatosSeguimientoGestion.vars.codGestion != ''">
                <select class="select-default-new input-out-new m-l"
                  ng-model="hojaPDM.modalDatosSeguimientoGestion.vars.estadoHallazgo" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="O">Cerrado Oportuno</option>
                  <option value="I">Cerrado Inoportuno</option>
                </select>
                <label>Estado Hallazgo (*)</label>
              </div>
              <div class="col s4 no-padding label-new m-b"
                ng-show="hojaPDM.modalDatosSeguimientoGestion.vars.codGestion != ''">
                <select class="select-default-new input-out-new m-l"
                  ng-model="hojaPDM.modalDatosSeguimientoGestion.vars.estadoAvance" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option ng-repeat="x in listadosPDM.tiposEstadoAvance" value="{{x.Codigo}}">{{x.Nombre}}</option>
                </select>
                <label>Estado Avance (*)</label>
              </div>

            </div>
            <!--  -->
            <div class="col s12 m12 l12 formAuditorGestionPDM_desactivar"
              ng-show="hojaPDM.modalDatosSeguimientoGestion.vars.codGestion != ''">
              <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                <textarea class="white input-text-new input-out-new w-100 margin m-l m-r" maxlength="1999"
                  autocomplete="off" text-description text-upper
                  ng-model="hojaPDM.modalDatosSeguimientoGestion.vars.observacion"></textarea>
                <label>Observacion (*)</label>
              </div>
            </div>
            <div class="col s12 m12 l12 m-t formAuditorGestionPDM_desactivar"
              ng-show="hojaPDM.modalDatosSeguimientoGestion.vars.codGestion != ''">
              <div class="col s12 no-padding label-new m-b" style="margin-bottom: 4.5rem;">
                <textarea class="white input-text-new input-out-new w-100 margin m-l m-r" maxlength="1999"
                  autocomplete="off" text-description text-upper
                  ng-model="hojaPDM.modalDatosSeguimientoGestion.vars.consideraciones"></textarea>
                <label>Consideraciones (*)</label>
              </div>

              <!-- <div class="col s6 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaPDM.modalDatosSeguimiento.vars.hallazgo" maxlength="1999" text-upper
                  text-description>
                <label>Hallazgo (*)</label>
              </div>
              <div class="col s6 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaPDM.modalDatosSeguimiento.vars.accion" maxlength="1999" text-upper
                  text-description>
                <label>Acción (*)</label>
              </div> -->
            </div>
            <!--  -->
            <div class="col s12 m12 l12 m-t"
              ng-show="permisos.BADC_EDITAR_GES_SEG == 'S' && hojaPDM.modalDatosSeguimientoGestion.vars.codGestion">
              <div class="col s6 no-padding label-new m-b">
                <div class="file-upload-wrapper file-field input-field m-l" data-text="Cargar Archivo (.ZIP - .PDF)">
                  <input type="file" id="fileSeguimientoGestion_PDM" name="fileSeguimientoGestion_PDM">
                </div>
              </div>
            </div>
            <!--  -->
            <div class="col s12 m12 l12 center m-t m-b">
              <input class="btn white-text red"
                style="background:linear-gradient(to bottom left,#e04242,#8b0000,#e04242);" type="submit" value="Atras"
                ng-click="atrasModalSeguimiento();">
              <input class="btn white-text default-linear-gradient" type="submit"
                value="{{hojaPDM.modalDatosSeguimientoGestion.vars.codGestion == '' ? 'Guardar':'Actualizar'}} Datos"
                ng-click="guardarFormSeguimientoGestionPDM()"
                ng-if="permisos.BADC_CREAR_GES_SEG == 'S' || permisos.BADC_EDITAR_GES_SEG == 'S'">
            </div>
            <!--  -->
            <div class="col s12 m12 l12 m-t">
              <blockquote class="blockquote_titulo m-b mt-0"
                ng-if="hojaPDM.modalDatosSeguimientoGestion.vars.listadoAdjuntos.length">
                Soportes
              </blockquote>
              <div style="max-height: 20vh;overflow-y: auto;"
                ng-show="hojaPDM.modalDatosSeguimientoGestion.vars.listadoAdjuntos.length">
                <table class="tableDatosCorresp table-bordered highlight">
                  <thead>
                    <tr>
                      <th width="50%">Archivo</th>
                      <th width="15%">Fecha</th>
                      <th width="30%">Responsable</th>
                      <th>-</th>
                    </tr>
                  </thead>
                  <tr title="Ver Anexo" class="c-pointer"
                    ng-repeat="x in hojaPDM.modalDatosSeguimientoGestion.vars.listadoAdjuntos">
                    <td ng-click="descargarSoporte(x.SEGC_RUTA)">{{x.SEGC_NOMBRE}}</td>
                    <td ng-click="descargarSoporte(x.SEGC_RUTA)">{{x.SEGF_FECHA}}</td>
                    <td ng-click="descargarSoporte(x.SEGC_RUTA)">{{x.RESPONSABLE}}</td>
                    <td><i class="iconFontSize icon-trash default-color c-pointer" title="Borrar"
                        ng-click="eliminarSoportesSeguimientoGestion_PDM(x.SEGC_RUTA)"
                        ng-if="permisos.BADC_ELIMINAR_GESTION_PDM == 'S'"></i>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <!--  -->
            <div class="col s12 m12 l12 m-t">
              <blockquote class="blockquote_titulo m-b mt-0"
                ng-if="hojaPDM.modalDatosSeguimientoGestion.vars.listadoTraza.length>0">
                Traza
              </blockquote>
              <table class="tableDatosCorresp table-bordered highlight"
                ng-if="hojaPDM.modalDatosSeguimientoGestion.vars.listadoTraza.length>0">
                <thead>
                  <tr>
                    <th># Gestión</th>
                    <th>Fecha Cierre</th>
                    <th>Estado Avance</th>
                    <th>Estado Accion</th>
                    <th>Oportunidad Ejecucion</th>
                    <th>Porcentaje Avance</th>
                    <th>Estado Hallazgo</th>
                    <th>Observacion</th>
                    <th>Consideraciones</th>
                    <th>Fecha Registro</th>
                    <th>Responsable</th>
                  </tr>
                </thead>
                <tr ng-repeat="x in hojaPDM.modalDatosSeguimientoGestion.vars.listadoTraza">
                  <th>{{x.SEGN_GESTION}}</th>
                  <td>{{x.SEGF_FECHA_CIERRE}}</td>
                  <td>{{x.SEGC_ESTADO_AVANCE.split('-')[1]}}</td>
                  <td>{{x.SEGC_ESTADO_ACCION.split('-')[1]}}</td>
                  <td>{{x.SEGC_OPORTUNIDAD_EJECUCION.split('-')[1]}}</td>
                  <td>{{x.SEGC_PORCENTAJE_AVANCE.split('-')[1]}}</td>
                  <td>{{x.SEGC_ESTADO_HALLAZGO.split('-')[1]}}</td>
                  <td>{{x.SEGC_OBSERVACIONES}}</td>
                  <td>{{x.SEGC_CONSIDERACIONES}}</td>
                  <td>{{x.SEGF_FECHA_REGISTRO}}</td>
                  <td>{{x.SEGV_RESPONSABLE.split('-')[1]}}</td>
                </tr>
              </table>
            </div>
            <!--  -->
          </div>
          <!--  -->
        </div>
        <!--  -->

        <!--  -->
      </div>
      <!--  -->
      <!--  -->
    </div>
  </div>
  <!--  -->
  <!-- //////////////////////////////////TAB 4////////////////////////////////// -->
  <!-- TABLA -->
  <div class="row dashboard-wrapper content-container white" ng-show="Tabs == 4">
    <div class="col s12 m12 l12" style="justify-content: center;">
      <div class="card-action" id="card-action"
        style="overflow: auto;display: inline-block;width: 100%;height: 100%;padding-bottom: 0;">
        <!--  -->
        <span class="btn" ng-click="hojaAutoCrearNuevo()">Crear auto</span>
        <!--  -->
        <div class="foot4 divcardcustom default-linear-gradient">
          <div class="text-al divcardcustom2">
            <strong class="switch">Listado de Autos PDM
              ({{hojaAuto.listadoTabla.length}})</strong>
            <div class="tooltip">
              <i class="icon-cw-circle cursor-pointer" ng-click="hojaAutoListar()"></i>
              <span class="tooltiptext" style="font-size: 12px;width: 70px;margin-left: -35px;">Actualizar</span>
            </div>

            <div class="col s3 no-padding label-new right"
              style="width: 25%;display: inline-flex;margin-right: -5px;margin-top: -2px;">
              <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l black-text"
                style="text-align:right;" autocomplete="off" placeholder="Buscar..." ng-model="hojaAuto.filtro"
                ng-change="filter('hojaAuto',hojaAuto.filtro)">
            </div>
          </div>
        </div>
        <div class="default-color">
          <table class="tablaListado bordered highlight"
            style="width:100%;font-size:6px !important;color: black;border:3px solid;">
            <thead class="default-border default-color">
              <th># Auto</th>
              <th>Nombre</th>
              <!-- <th>Descripcion</th> -->
              <th>Estado</th>
            </thead>
            <tbody>
              <tr style="cursor:pointer;"
                ng-repeat="x in hojaAuto.listadoTablaTemp | inicio: hojaAuto.varsTabla.currentPage * hojaAuto.varsTabla.pageSize | limitTo: hojaAuto.varsTabla.pageSize">
                <td ng-click="modalEditarAuto(x)">{{x.BAUC_CODIGO}}</td>
                <td ng-click="modalEditarAuto(x)">{{x.BAUC_NOMBRE}}</td>
                <td ng-click="modalEditarAuto(x)">
                  <span
                    class="status {{x.BAUC_ESTADO == 'A' ? 'etiquetaVerde' : 'etiquetaRoja'}}">{{obtenerEstado(x.BAUC_ESTADO)}}</span>
                </td>
              </tr>
              <tr ng-show="hojaAuto.listadoTablaTemp.length == 0">
                <td class="center-align" colspan="6" style="font-weight: bolder;">No se encontraron resultados.</td>
              </tr>
            </tbody>
          </table>

          <div class="row margin">
            <div class="col s6"><label for="normal">Total de Autos filtrados:
                {{hojaAuto.listadoTablaTemp.length}}</label></div>
            <div class="col s6 right-align"><label for="normal">Total de Autos encontrados:
                {{hojaAuto.listadoTabla.length}}</label></div>
          </div>

          <ul style="text-align: center;padding-top: 20px;" class="pagination">
            <li><button ng-disabled='hojaAuto.varsTabla.currentPage == 0' class="btn-floating default-linear-gradient"
                ng-click="paso('hojaAuto','back')">&laquo;</button>
            </li>
            <li ng-repeat='page in hojaAuto.varsTabla.pages'><button
                ng-disabled="hojaAuto.varsTabla.currentPage == page.no - 1" class="btn-floating default-linear-gradient"
                ng-click="setPage('hojaAuto',page.no)">{{page.no}}</button></li>
            <li><button
                ng-disabled='hojaAuto.varsTabla.currentPage >= hojaAuto.listadoTablaTemp.length/hojaAuto.varsTabla.pageSize - 1'
                class="btn-floating default-linear-gradient" ng-click="paso('hojaAuto','next')">&raquo;</button>
            </li>
          </ul>
        </div>

        <!-- //-// -->
      </div>
    </div>
  </div>
  <!-- TABLA -->
  <!-- MODAL -->
  <div id="modalCrearAutos" class="modal"
    style="margin: 0 auto;max-height:99%;width: 80%;top:-100px !important;transition-duration: 0.3s;">
    <div class="col s12 m12 l12 card margin" style="padding: 0;">
      <div class="ngdialog-close" style="float: right; font-size: 50px; padding-right: 20px;" ng-click="closeModal()">
      </div>
      <div class="card-content default-color border-radius-none white-text" style="background-color:#f1f3f4">
        <h5><span style="font-weight: 700;" class="default-color">{{!hojaAuto.formulario.idAutoSeleccionado ?
            'Crear':'Editar'}} Auto PDM</span></h5>
      </div>
      <div class="card-action">
        <div class="row bg-white white margin" style="max-height: 100vh;overflow-y: auto;">

          <form ng-submit="guardarFormAuto()">
            <div class="col s12 m12 l12">
              <!--  -->
              <div class="col s8 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaAuto.formulario.codigo" text-upper required>
                <label>Codigo del Auto (*)</label>
              </div>
              <div class="col s8 no-padding label-new m-b">
                <input class="margin border-none white input-text-new input-w-p input-out-new w-100 m-l"
                  autocomplete="off" ng-model="hojaAuto.formulario.nombre" text-upper required>
                <label>Nombre del Auto (*)</label>
              </div>
              <div class="col s2 no-padding label-new m-b">
                <select class="select-default-new input-out-new m-l" ng-model="hojaAuto.formulario.estado" required>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="A">Activo</option>
                  <option value="I">Inactivo</option>
                </select>
                <label>Estado (*)</label>
              </div>
              <!--  -->
            </div>
            <!--  -->
            <div class="col s12 m12 l12 center m-t m-b">
              <input class="btn white-text default-linear-gradient" type="submit"
                value="{{!hojaAuto.formulario.idAutoSeleccionado ? 'Guardar':'Actualizar'}} AUT PDM">
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- MODAL -->
  <!-- ///// -->
  <!-- ///// -->
  <!-- ///// -->


  <style>

    #theme-settings{
      display: none;
    }


    .transparent-text {
      color: transparent;
    }

    .cortar-texto {
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .resaltadoRojo {
      background-color: #ff00001f;
    }

    .cuadroAzul {
      background-color: #0004ff41 !important;
      border-radius: 30%;
      color: #0004ff;
    }

    .cuadroVerde {
      background-color: #03c51334 !important;
      border-radius: 30%;
      color: #02740c;
    }

    .cuadroRojo {
      background-color: #d8000041 !important;
      border-radius: 30%;
      color: #d80000;
    }


    .fw600 {
      font-weight: 600;
    }

    table th,
    table td {
      text-align: center;
    }

    #tableFichaTecnica th,
    #tableFichaTecnica td {
      text-align: left;
    }

    .tableDatosCorresp th,
    .tableDatosCorresp td {
      text-align: left;
    }

    .iconFontSize {
      font-size: 1.3rem;
    }

    .etiquetaRoja {
      background-color: red;
    }

    .etiquetaVerde {
      background-color: green;
    }

    .etiquetaNaranja {
      background-color: #F3CD05;
    }

    .etiquetaGris {
      background-color: #6bbbf7;
    }

    /* ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// */
    .btnAgregar {
      padding: 0 0.5rem;
      height: 2rem;
      line-height: 2rem;
    }

    .blockquote_titulo {
      height: 2vw;
      line-height: 2;
      padding-right: 1.5rem;
    }

    blockquote {
      font-weight: 700;
      background-color: #f1f3f4;
    }

    textarea {
      resize: none;
      height: 100px;
      text-align: justify;
    }

    #procesosFile {
      height: 2rem;
      cursor: pointer;
    }

    #fileGestionIndic {
      height: 2rem;
      cursor: pointer;
    }

    #fileGestionIndicCompromiso {
      height: 2rem;
      cursor: pointer;
    }

    .file-upload-wrapper {
      position: relative;
      z-index: 1;
      cursor: pointer;
      border: 1px solid #8a88865e !important;
      height: 2.14rem;
      border-radius: 2px;
      margin: 0;
      width: -webkit-fill-available;
    }

    .file-upload-wrapper:after {
      text-align: center;
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      padding: 10px 15px;
      display: block;
      width: calc(100% - 40px);
      pointer-events: none;
      z-index: 20;
      line-height: 1;
      color: #80868b;
      border-radius: 5px 10px 10px 5px;
      font-weight: 400;
      height: 8vh;
    }

    .file-upload-wrapper:hover:before {
      background: #3d8c63;
    }

    .file-upload-wrapper input {
      opacity: 0;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      z-index: 99;
      height: 43px;
      margin: 0;
      padding: 0;
      display: block;
      cursor: pointer;
      width: 100%;
      height: 5;
    }

    select:disabled {
      color: black;
    }

    .default-linear-gradient {
      border-radius: 0px !important;
    }

    .btn-floating .default-linear-gradient {
      border-radius: 10px !important;
    }

    .Valid_Campo {
      border: 1px solid red !important;
    }

    .text-upper {
      text-transform: uppercase !important;
    }

    .tabs {
      height: 30px !important;
    }

    .tabs .tab {
      line-height: 30px !important;
      height: 30px !important;
    }


    .label-new>label {
      display: table;
    }

    #toast-container .toast {
      border-radius: 10px !important;
      font-weight: 600;
      text-align: center !important;
      word-break: keep-all;
      padding: 10px 25px;
      width: auto;
      /* background: linear-gradient(to bottom left, #e04242, #8b0000, #e04242); */
      background: linear-gradient(to bottom left, #00BCD4, #0470c6, #00BCD4);
    }

    #toast-container .success {
      background: linear-gradient(to bottom left, #0fda00, #007217, #0fda00);
    }


    /* //////////////////////////////////////////////////////////////////////////////// */
  </style>
</div>
