<div id="micalendario" class="white newdesing"
  style="position:relative;">
  <style>
       .day-box {
      width: 14.28571428571429%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 5.0235px 0 !important;
      position: relative;
    }

    .day-btn {
      font-size: 12px;
      font-weight: 600;
      color: inherit;
      background-color: transparent;
      border-radius: 0;
      height: 10px;
      width: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      /* transition: background-color 100ms linear; */
      cursor: pointer;
      /* cursor: url(assets/cursor/abeja1.png), pointer; */
      position: relative;
      margin-top: 5px;
      margin-bottom: 5px;
    }

    .day-btn:not(.title-calendar):not(.desable).active:hover {
      opacity: .6;
    }

    .day-btn:not(.title-calendar).active {
      background-color: #777;
      color: white;
      font-weight: bold;
    }

    .day-btn:not(.title-calendar).active:before {
      content: "";
      position: absolute;
      top: -5px;
      left: 0;
      border-width: 0 5px 5px;
      /* border-width: 0 10px 5px; */
      border-style: solid;
      border-color: transparent transparent #777;
      width: 20px;
      height: 0;
    }

    .day-btn:not(.title-calendar).active:after {
      content: "";
      position: absolute;
      bottom: -5px;
      left: 0;
      border-width: 5px 5px 0;
      /* border-width: 5px 10px 0; */
      border-style: solid;
      border-color: #777 transparent transparent;
      width: 20px;
      height: 0;
    }

    .day-btn:not(.title-calendar).active.grey:before {
      border-color: transparent transparent #9e9e9e;
    }

    .day-btn:not(.title-calendar).active.grey:after {
      border-color: #9e9e9e transparent transparent;
    }

    .day-btn:not(.title-calendar).active.orange:before {
      border-color: transparent transparent #ff9800;
    }

    .day-btn:not(.title-calendar).active.orange:after {
      border-color: #ff9800 transparent transparent;
    }

    .day-btn:not(.title-calendar).active.ok {
      background-color: #fed200;
      color: #fe00c7;
    }

    .day-btn:not(.title-calendar).active.ok:before {
      border-color: transparent transparent #ffd500;
    }
    .day-btn:not(.title-calendar).active.ok:after {
      border-color: #ffd500 transparent transparent;
    }

 

    #micalendario .red {
      background-color: #ff4350 !important;
    }

    .active.day-btn.red {
      color: white;
    }

    .day-btn:not(.title-calendar).active.red:before {
      border-color: transparent transparent #ff4350;
    }

    .day-btn:not(.title-calendar).active.red:after {
      border-color: #ff4350 transparent transparent;
    }

    .day-btn:not(.title-calendar):not(.active):hover {
      background-color: #fce9b4;
    }

    .day-btn:not(.title-calendar):not(.active):hover:before {
      content: "";
      position: absolute;
      top: -5px;
      left: 0;
      border-width: 0 5px 5px;
      border-style: solid;
      border-color: transparent transparent #fce9b4;
      width: 20px;
      height: 0;
    }

    .day-btn:not(.title-calendar):not(.active):hover:after {
      content: "";
      position: absolute;
      bottom: -5px;
      left: 0;
      border-width: 5px 5px 0;
      border-style: solid;
      border-color: #1a2e63 transparent transparent;
      width: 20px;
      height: 0;
    }

    .title-calendar {
      font-weight: bold;
    }

    .col.l3.m6.s12>.row:last-child {
      border: 3px solid #1a2e63;
    }

    .col.l3.m6.s12 {
      margin-top: .5em;
      margin-bottom: 2.5em;
    }

    .color-fsemana {
      background-color: #f1f3f4;
    }

    .color-festive {
      color: #f8c400 !important;
      font-weight: bold;
    }

    /* .color-festive,
    .color-fsemana>div {
      cursor: no-drop !important;
    } */

    .Hoy {
      box-shadow: inset 0 0 0px 2px #4d4d4d;
    }

    .Mes>.row:first-child {
      background-color: #4d4d4d !important;
      border-top-left-radius: 6px;
      border-top-right-radius: 6px;
      color: white !important;
    }

    .Hoy_p {
      background-color: #f1f3f4;
    }

    .mes-calendario>.row:last-child:after {
      position: absolute;
      top: 101%;
      left: -3px;
      /* background-image: url(assets/images/miel.png); */
      background-size: contain;
      display: inline-block;
      width: calc(100% + 6px);
      height: 29px;
      content: "";
    }

    .mes-calendario>.row:last-child {
      position: relative;
    }

    .mes-calendario>.row:first-child {
      font-weight: bold;
      padding-left: 5px;
      background-color: #1a2e63;
      color: aliceblue;
      border-top-left-radius: 6px;
      border-top-right-radius: 6px;
    }

    .last-child-not-border>li:last-child {
      border-bottom: none !important;
    }

    .last-child-not-border>li>.details {
      cursor: pointer;
      /* cursor: url(assets/cursor/abeja1.png), pointer; */
    }

    .last-child-not-border>li>.details:hover,
    .last-child-not-border>li>.details:focus {
      background-color: #f1f3f4;
    }

    i {
      cursor: pointer;
    }

    [data-tip].active:before,
    [data-tip].active:after {
      z-index: 1000;
    }

    [data-tip]:after {
      right: 105%;
      left: auto;
      width: 200px;
      text-align: left;
    }

    .black-text.title-panel>div {
      width: auto;
    }

    .day-box.indice::after {
      content: attr(data-length);
      font-size: 7px;
      font-weight: 900;
      left: 60%;
      top: 60%;
      position: absolute;
      /*background-color: #ffffff;
      border: 1px solid #f8c400;*/
      padding: 2px;
      border-radius: 50%;
      height: 14px;
      width: 14px;
    }

    li.Hoy_p>.details:hover {
      background-color: white;
    }
  </style>
  <!-- Encabezado -->
  <div class="row section-header" ng-if="admin == true">
    <ul class="left mailbox-custom-search list-inline"
      style="width: 100%;display: flex;justify-content: space-between;align-items: center;">
      <li>
        <h5 style="font-family: 'Product Sans',Arial,sans-serif;font-size: 22px;line-height: 22px;opacity: .54;">Colmena
          de reportes</h5>
      </li>
      <li>
        <div class="btn-panel"
          style="display: flex;align-items: center;font-family: 'Product Sans',Arial,sans-serif;font-size: 22px;line-height: 22px;opacity: .54;">
          <i ng-click="yearPrev()" class="icon-angle-left margin"></i>
          <h6 style="margin: 0 0 0 20px;font-weight: bold;">{{year}}</h6>
          <i ng-click="yearNext()" class="icon-angle-right"></i>
        </div>
      </li>
      <!-- Modificado admin -->
      <!-- <li ng-if="misRevisa.length > 0 || admin == true"> -->
        <li ng-if="misRevisa.length > 0">
          <i ng-click="gestionarReportes()" class="icon-clipboard-2">Gestionar reportes</i>
        </li>
        <!-- <li ng-if="misRevisa.length > 0 || misReporta.length > 0 || misElabora.length > 0 || admin == true"> -->
        <li ng-if="misRevisa.length > 0 || misReporta.length > 0 || misElabora.length > 0">
          <i ng-click="misReportes()" class="icon-megaphone-2">{{treporte}}</i>
        </li>
      <li style="display:flex;align-items: center;">
        <div class="switch">
          <label>
            <span ng-class="{'activo':!switch_view}">Año</span>
            <input type="checkbox" ng-init="switch_view = false" ng-model="switch_view"
              ng-change="(switch_view == true)?viewType(true):viewType(false)">
            <span class="lever check-c"></span>
            <span ng-class="{'activo':switch_view}">Programación</span>
          </label>
        </div>
      </li>
      <li style="display:flex;align-items: center;">
        <div ng_show="v_search" class="form-input-icon-new">
          <input type="text" class="margin border-none" ng-model="filtrar" placeholder="Buscar reporte">
          <i ng-click="toggleSearch()" class="icon-cancel"></i>
        </div>
        <i ng-if="!v_search" ng-click="toggleSearch()" class="icon-search"></i>
      </li>
    </ul>
  </div>
  <!-- Contenido -->
  <div class="row dashboard-wrapper content-container white" style="padding-bottom: 20px;margin-bottom: 0;" ng-if="admin == true">
    <div class="col l12 m12 s12" style="position:relative">
      <div class="black-text title-panel"
        style="display: flex;justify-content: space-between;align-items: center;margin-bottom: 15px;">
        <div ng-init="alert1=''" ng-mouseover="alert1='active'" ng-mouseleave="alert1=''"
          data-tip="Gris indica que para esa fecha exiten reportes" class="{{alert1}} col center-align day-box"
          style="justify-content: start;">
          <div class="desable active day-btn grey" style="margin-right:1em"></div>
          <span>Agendado</span>
        </div>
        <div ng-init="alert2=''" ng-mouseover="alert2='active'" ng-mouseleave="alert2=''"
          data-tip="Naranja indica que la fecha esta dentro del plazo de notificacion antes de la entrega del reporte"
          class="{{alert2}} col center-align day-box" style="justify-content: start;">
          <div class="desable active day-btn orange" style="margin-right:1em"></div>
          <span>Próximo</span>
        </div>
        <div ng-init="alert3=''" ng-mouseover="alert3='active'" ng-mouseleave="alert3=''"
          data-tip="Amarillo indica que para esa fecha se aprobaron y entregaron los reportes correspondiente"
          class="{{alert3}} col center-align day-box" style="justify-content: start;">
          <div class="desable active day-btn ok" style="margin-right:1em"></div>
          <span>Completado</span>
        </div>
        <div ng-init="alert4=''" ng-mouseover="alert4='active'" ng-mouseleave="alert4=''"
          data-tip="Rojo indica que no se entregaron los reportes dentro de la fecha correspondiente"
          class="{{alert4}} col center-align day-box" style="justify-content: start;">
          <div class="desable active day-btn red" style="margin-right:1em"></div>
          <span>No Completado</span>
        </div>
      </div>
      <div class="row margin" ng-if="!panel">
        <div ng-repeat="mes in calendar | orderBy:'num' | filter:{$:filtrar}"
          ng-class="{'Mes':((mes.num - 1) == CurrentDate.getMonth() && mes.year == CurrentDate.getFullYear())}"
          class="col l3 m6 s12 mes-calendario">
          <div class="row margin title-calendar">
            {{mes.name}}
          </div>
          <div class="row" style="margin: 0;height: 215px;">
            <div class="col center-align day-box" style="background-color: #b0b8cc;">
              <div class="day-btn title-calendar">L</div>
            </div>
            <div class="col center-align day-box" style="background-color: #b0b8cc;">
              <div class="day-btn title-calendar">M</div>
            </div>
            <div class="col center-align day-box" style="background-color: #b0b8cc;">
              <div class="day-btn title-calendar">X</div>
            </div>
            <div class="col center-align day-box" style="background-color: #b0b8cc;">
              <div class="day-btn title-calendar">J</div>
            </div>
            <div class="col center-align day-box" style="background-color: #b0b8cc;">
              <div class="day-btn title-calendar">V</div>
            </div>
            <div class="col center-align day-box" style="background-color: #85b0c5;">
              <div class="day-btn title-calendar">S</div>
            </div>
            <div class="col center-align day-box" style="background-color: #85b0c5;">
              <div class="day-btn title-calendar">D</div>
            </div>
            <div ng-style="dayNull(mes.init)" class="col center-align day-box" style="height: 15px;">
            </div>
            <div ng-repeat="dia in mes.days" class="col center-align day-box" data-length="{{dia.details.length}}"
              ng-class="{'indice':dia.details.length>1,'color-fsemana':dia.name=='SÁBADO' || dia.name=='DOMINGO','Hoy':(dia.num == CurrentDate.getDate() && (mes.num - 1) == CurrentDate.getMonth() && mes.year == CurrentDate.getFullYear())}">
              <div ng-click="verDetalleReporte(dia.num,dia.name,mes.name,mes.num,mes.year,dia.details)"
                ng-class="{'active {{colores_calendario(dia.details,dia.num,(mes.num - 1),mes.year)}}':dia.details.length>0,'color-festive default-color':dia.festive==true}"
                class="day-btn" title="{{dia.name}}">{{dia.num}}</div>
            </div>
          </div>
        </div>
      </div>
      <div class="row margin" ng-if="panel" style="position:relative;height: 72vh;overflow: auto;">
        <ul class="margin last-child-not-border" style="margin-right: 8px!important;">
          <li ng-repeat="pro in programming | filter:{$:filtrar}"
            ng-class="{'Hoy_p':(formatDateArray(pro.fecha,1) == CurrentDate.getDate() && (formatDateArray(pro.fecha,3) - 1) == CurrentDate.getMonth() && formatDateArray(pro.fecha,4) == CurrentDate.getFullYear())}"
            style="display: flex;padding: 8px 0;border-bottom: 1px solid #26a69a8c;">
            <div style="width: 18%;padding: 8px;">
              <span
                style="color: #3c4043;cursor: pointer;display: inline-block;font-family: 'Google Sans',Roboto,Arial,sans-serif;font-size: 18px;width: 36px;">{{formatDateArray(pro.fecha,1)}}</span>
              <span style="text-transform: capitalize;">{{formatDateArray(pro.fecha,2)}},
                {{formatDateArray(pro.fecha,0).substring(0,3)}}</span>
              <!-- <span>{{formatDateArray(e.dateStart,2)}}</span> -->
            </div>
            <div
              ng-click="verReporte(2,pro.numero,formatDateArray(pro.fecha,1),formatDateArray(pro.fecha,0),formatDateArray(pro.fecha,2),formatDateArray(pro.fecha,3),formatDateArray(pro.fecha,4))"
              ng-class="{'w-100':admin == false}" class="details"
              style="display: flex;width: 69%;padding: 8px;border-radius: 15px;">
              <div
                style="justify-content: start;margin: auto 0;margin-right: 25px;margin-left: 15px;min-width: 15px;min-height: 15px;">
                <div class="active day-btn desable {{pro.estado}}"></div>
              </div>
              <div style="margin-right: auto;line-height: 2;">
                {{pro.nombre_reporte}}
              </div>
            </div>
            <div ng-if="admin == true" class="btn-panel"
              style="display: flex;align-items: center;justify-content: space-around;width: 13%;">
              <!-- <i ng-click="verReporte(1,pro.numero,formatDateArray(pro.fecha,1),formatDateArray(pro.fecha,0),formatDateArray(pro.fecha,2),formatDateArray(pro.fecha,3),formatDateArray(pro.fecha,4))"
                class="icon-edit grey-text margin" title="Editar Reporte"></i> -->
              <i ng-click="borrarReporte(pro.numero)" class="icon-trash-empty red-text margin"
                title="Borrar Reporte"></i>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
    <!-- Modal Aviso de Actualizacion -->
    <div id="modalActualizacion" class="modal" style="top: 30%;">
      <div class="modal-content">
        <blockquote><h4>ACTUALIZACION EN PROCESO</h4></blockquote>
        <br>
        <center><strong>Este modulo se encuentra en proceso de Actualizacion, Pronto volvera a estar activo</strong></center>
        <br><br>
      <div class="contact-form-loader">
          <center><img src="assets\images\tail-spin.svg" alt="Cargando"></center>
      </div>
      </div>
      <div class="modal-footer">
        <a href class="modal-close waves-effect waves-green btn-flat" style="color: aliceblue; background-color: darkslateblue;">Ok</a>
      </div>
    </div>

</div>