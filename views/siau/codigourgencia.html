<div class="row">
  <div class="row section-header" style="padding-bottom: 0px;">
    <div class="col s12">
      <div class="col s6 prod-title-div no-padding">
        <h4 class="page-title">Solicitud de Codigos de Urgencia</h4>
      </div>
      <div class="col s6">
        <form id="formhistorico" ng-submit="validarips()">
          <div class="col s10">
            <div class="input-field col m12 s12">
              <input id="buscar" ng-model="nitips" ng-disabled="inactive3" ng-blur="validarips()" type="text">
              <label for="buscar" class="search-label">Nit IPS</label>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="col s10 offset-s1" style="position: relative; top: -20px; padding-right: 39px;">
      <div class="right-align">
        <p>{{nomips}}</p>
      </div>
    </div>
  </div>
  <div class="row content-container server">
    <div class="row margin">
      <div class="card" style="height:650px;">
        <div ng-show="verbuscador" class="card-content" style="height: 90px;">
          <div class="col s12">
            <div class="col s3">
              <i class="material-icons left" style="margin-top: 14px;">more_vert</i>
              <h5>Buscar Afiliado</h5>
            </div>
            <!-- tipo de documento y documento -->
            <div class="col s9">
              <form id="busafi" ng-submit="buscarAfiliado()">
                <div class="col s5">
                  <div class="input-field col m12 s12">
                    <i class="material-icons prefix">view_list</i>
                    <select id="simple-select chosen" ng-model="tipoDoc" material-select watch>
                      <option value="0" disabled>SELECCIONAR</option>
                      <option value="CC">CEDULA DE CIUDADANÍA</option>
                      <option value="TI">TARJETA DE IDENTIDAD</option>
                      <option value="RC">REGISTRO CIVIL</option>
                      <option value="CE">CEDULA DE EXTRANJERÍA</option>
                      <option value="PA">PASAPORTE</option>
                      <option value="PE">PERMISO ESPECIAL DE PERMANENCIA</option>
                      <option value="AS">ADULTO SIN IDENTIFICACIÓN</option>
                      <option value="MS">MENOR SIN IDENTIFICACIÓN</option>
                      <option value="CD">CARNET DIPLOMÁTICO</option>
                      <option value="CN">CERTIFICADO DE NACIDO</option>
                      <option value="SC">SALVO CONDUCTO</option>
                      <option value="PT">PERMISO POR PROTECCIÓN TEMPORAL</option>
                    </select>
                    <label for="simple-select">Tipo de Documento</label>
                  </div>
                </div>
                <div class="col s5">
                  <div class="input-field col m12 s12">
                    <i class="material-icons prefix">account_circle</i>
                    <input id="with_icon" type="text" ng-model="documento" class="validate">
                    <label for="with_icon" class="">Documento</label>
                  </div>
                </div>
                <div class="col s2">
                  <div class="input-field col m12 s12">
                    <center><button class="waves-effect waves-light btn-large white-text pink"
                        type="submit">Buscar</button></center>
                    <br>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="card-action">
          <!-- informacion basica del afiliado -->
          <div class="col s12" ng-show="inactive2">
            <table class="responsive-table table-bordered" style="height:100px;">
              <thead>
                <tr>
                  <th ng-show="afirow >= 1" colspan="{{afirow}}" data-field="afiliado" class="center-align">AFILIADO
                  </th>
                  <th data-field="Nombre" class="center-align">NOMBRE</th>
                  <th data-field="Fecha de Nacimiento" class="center-align">FECHA DE NACIMIENTO</th>
                  <th data-field="Ubicacion" class="center-align">UBICACIÓN</th>
                  <th data-field="Ubicacion" class="center-align">SEXO</th>
                  <th data-field="Regimen" class="center-align">RÉGIMNEN</th>
                  <th data-field="Regimen" class="center-align">ESTADO</th>
                  <th data-field="Edad" class="center-align">EDAD</th>
                  <!-- <th data-field="Adjunto" class="center-align">ADJUNTO</th> -->
                  <th data-field="Adjunto" class="center-align">HIJO</th>
                  <th ng-hide="invisible" data-field="Codigo" class="center-align">Codigo</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td ng-show="Data.Alto_costo =='S'" class="center-align"><span class="status orange">ALTO COSTO</span>
                  </td>
                  <td ng-show="Data.Gestion_riesgo =='S'" class="center-align"><span class="status light-blue"
                      style="color:#fff">GESTION RIESGO</span></td>
                  <td ng-show="Data.Tutela =='True'" class="center-align"><span class="status red">TUTELA</span></td>
                  <td class="center-align">{{Data.NombreCompleto}}</td>
                  <td class="center-align">{{Data.FechaNacimiento}}</td>
                  <td class="center-align">{{Data.Departamento}} - {{Data.Municipio}}</td>
                  <td class="center-align">{{Data.Sexo}}</td>
                  <td class="center-align">{{Data.Regimen}}</td>
                  <td class="center-align">{{Data.Estado}}</td>
                  <td class="center-align">{{edad}} {{cantidadanos}}</td>
                  <!-- <td>
                      <center>
                        <input type="checkbox" class="filled-in checkbox-info" id="filledbox7" ng-model="veradj" ng-disabled="check1">
                        <label for="filledbox7"></label>
                      </center>
                    </td> -->
                  <td>
                    <center>
                      <input type="checkbox" class="filled-in checkbox-info" id="filledbox8" ng-model="menor">
                      <label for="filledbox8"></label>
                    </center>
                  </td>
                  <td ng-hide="invisible" class="center-align" style="color: green;"><strong>{{cod}}</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
          <!-- Diagnostico1 y  Diagnostico2-->
          <div class="col s12" ng-show="inactive2">
            <br>
            <br>
            <div class="col s6" ng-init="checked1 = true">
              <form id="diag1codu" ng-submit="cargarDiagnosticos(1)">
                <div class="input-field col m10 s10" ng-show="checked1">
                  <i class="material-icons prefix" ng-click="checked1 = false" style="cursor:pointer">local_hospital</i>
                  <input id="with_icon" type="text" ng-model="coincidencia1" class="validate"
                    style="text-transform: uppercase">
                  <label for="with_icon" class="">Diagnostico Principal</label>
                </div>
                <div class="input-field col m8 s8" ng-hide="checked1"
                  style="padding-right: 1px; margin-right: 0px; margin-left: 0px;">
                  <i class="material-icons prefix" ng-click="checked1 = true" style="cursor:pointer">local_hospital</i>
                  <select id="diag2" ng-model="diagnostico1" material-select watch>
                    <option value="0" disabled>SELECCIONAR</option>
                    <option ng-repeat="diag1 in diagnosticos1 | filter:filtroDiag1" ng-value="diag1.Codigo">
                      {{diag1.Nombre}}</option>
                  </select>
                  <label for="simple-select">Diagnostico Principal</label>
                </div>
                <div class="input-field col m3 s3" style="margin-left: 21px; margin-right: 0px; width: 143.5px;"
                  ng-hide="checked1">
                  <input id="with_icon" type="text" ng-model="filtroDiag1" class="validate">
                  <label for="with_icon" class="">Filtrar</label>
                </div>
                <div class="col s1" ng-show="checked1" style="width: 30.25px; margin-top: 20px;">
                  <div class="input-group">
                    <button class="btn-floating btn waves-effect waves-light blue" type="submit"><i
                        class="icon icon-search"></i></button>
                  </div>
                </div>
              </form>
            </div>
            <div class="col s6" ng-init="checked2 = true">
              <form ng-submit="cargarDiagnosticos(2)" id="diag2codu">
                <div class="input-field col m10 s10" ng-show="checked2">
                  <i class="material-icons prefix" ng-click="checked2 = false" style="cursor:pointer">local_hospital</i>
                  <!-- <span class="tooltiptext">Seleccionar Diagnostico!</span> -->
                  <input id="with_icon" type="text" ng-model="coincidencia2" class="validate"
                    style="text-transform: uppercase">
                  <label for="with_icon" class="">Diagnostico Secundario</label>
                </div>
                <div class="input-field col m8 s8" ng-hide="checked2"
                  style="padding-right: 1px; margin-right: 0px; margin-left: 0px;">
                  <i class="material-icons prefix" ng-click="checked2 = true" style="cursor:pointer">local_hospital</i>
                  <select id="diag2" ng-model="diagnostico2" material-select watch>
                    <option value="0" disabled>SELECCIONAR</option>
                    <option ng-repeat="diag2 in diagnosticos2 | filter:filtroDiag2" ng-value="diag2.Codigo">
                      {{diag2.Nombre}}</option>
                  </select>
                  <label for="simple-select">Diagnostico Secundario</label>
                </div>
                <div class="input-field col m3 s3" style="margin-left: 21px; margin-right: 0px; width: 143.5px;"
                  ng-hide="checked2">
                  <input id="with_icon" type="text" ng-model="filtroDiag2" class="validate">
                  <label for="with_icon" class="">Filtrar</label>
                </div>
                <div class="col s1" ng-show="checked2" style="width: 30.25px; margin-top: 20px;">
                  <div class="input-group">
                    <button class="btn-floating btn waves-effect waves-light blue" type="submit"><i
                        class="icon icon-search"></i></button>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <!-- fecha y observacion -->
          <div class="col s12" ng-show="inactive2">
            <div class="col s6">
              <div class="input-field col m12 s12">
                <i class="material-icons prefix">event</i>
                <input type="text" id="date-fr" style="cursor:pointer" class="form-control floating-label"
                  ng-model="fechaingreso" placeholder="Fecha de Ingreso">
              </div>
            </div>
            <div class="col s6">
              <div class="input-field col m12 s12">
                <i class="material-icons prefix">assignment</i>
                <textarea id="observacion" style="padding-top: 0px; padding-bottom: 0px; text-transform: uppercase"
                  ng-model="observacion" class="materialize-textarea"></textarea>
                <label for="observacion">Observación</label>
              </div>
            </div>
          </div>
          <div class="col s12" ng-show="inactive2">
            <!-- <div class="col s6" ng-show="veradj">  -->
            <div class="col s6">
              <br>
              <div class="file-field ">
                <div class="btn" style="background-color: #1a2e63">
                  <span class="white-text">Archivo</span>
                  <input type="file" id="adjunto" accept=".png,.jpg,.jpeg,.pdf,.doc"
                    style="background-color: rgba(255, 255, 255, 0.9); width: 100%; padding: 5px; border: 1px solid #f2f2f2; border-radius: 2px;border-color: #a3a3b182; height: 3rem;"
                    ng-model="archivoemp">
                </div>
                <div class="file-path-wrapper">
                  <input id="nombreadjunto" class="file-path" type="text" ng-change="obtenerBase()"
                    placeholder="Seleccione Archivo" ng-model="nombreadjunto"
                    style="background-color: rgba(255, 255, 255, 0.9); width: 100%;  border-radius: 2px;border-color: #a3a3b182; height: 3rem;">
                </div>
              </div>
            </div>
            <div class="col s6">
              <div class="input-field col l12 m12 s12">
                <i class="material-icons prefix">face</i>
                <input id="solicitante" type="text" ng-model="solicitante" class="validate">
                <label for="solicitante">Solicita</label>
              </div>
            </div>
          </div>
          <div class="col s12" ng-show="inactive2">
            <div class="col s6">
              <div class="input-field col m12 s12">
                <i class="material-icons prefix">view_list</i>
                <select id="simple-select chosen" ng-model="aprobacion" material-select watch>
                  <option value="" disabled>SELECCIONAR</option>
                  <option value="A">Aprobado</option>
                  <option value="N">Negado</option>
                </select>
                <label for="simple-select">Estado</label>
              </div>
            </div>
            <div ng-show="aprobacion=='N'" class="col s6">
              <div class="input-field col m12 s12">
                <i class="material-icons prefix">view_list</i>
                <select id="simple-select chosen" ng-model="motivorechazo" material-select watch>
                  <option value="">Seleccionar</option>
                  <option ng-repeat="m in motivosrechazos" ng-value="m.MOTIVO">{{m.NOMBRE}}
                  </option>
                </select>
                <label for="simple-select">Motivo Rechazo</label>
              </div>
            </div>
            <div ng-show="aprobacion=='N'" class="col s6">
              <div class="input-field col l12 m12 s12">
                <i class="material-icons prefix">assignment</i>
                <input id="observacionnegacion" type="text" ng-model="observacionnegacion" class="validate">
                <label for="observacionnegacion">Observacion Negacion</label>
              </div>
            </div>
            <div class="col">
              <div class="input-field col l12 m12 s12">
                <center>
                  <input type="checkbox" class="filled-in checkbox-info" id="filledbox12" ng-model="marcacioncheck">
                  <label for="filledbox12">Control</label>
                </center>
              </div>
            </div>
          </div>
          <!-- SOLICITAR CODIGO DE URGENCIA BUTTON -->
          <div class="col s12" ng-show="inactive2">
            <div class="input-field col m12 s12">
              <center><a class="waves-effect waves-light btn-large white-text pink"
                  ng-click="solicitarcodigo()">Solicitar codigo</a></center>
              <br>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Información!</h4>
      <br>
      <br>
      <center>
        <blockquote style="border-left: 5px solid #000000 !important">
          <h5>{{informacionmodal}} <strong>{{cod}}</strong></h5>
        </blockquote>
      </center>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Ok!</a>
    </div>
  </div>